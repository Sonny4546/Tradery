function eC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function dd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sg={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function lP(){if(A0)return ut;A0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function T(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function R(z,te,pe){this.props=z,this.context=te,this.refs=N,this.updater=pe||S}R.prototype.isReactComponent={},R.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=R.prototype;function M(z,te,pe){this.props=z,this.context=te,this.refs=N,this.updater=pe||S}var V=M.prototype=new x;V.constructor=M,k(V,R.prototype),V.isPureReactComponent=!0;var j=Array.isArray,q=Object.prototype.hasOwnProperty,G={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function b(z,te,pe){var ve,Ie={},Ae=null,Ge=null;if(te!=null)for(ve in te.ref!==void 0&&(Ge=te.ref),te.key!==void 0&&(Ae=""+te.key),te)q.call(te,ve)&&!C.hasOwnProperty(ve)&&(Ie[ve]=te[ve]);var Be=arguments.length-2;if(Be===1)Ie.children=pe;else if(1<Be){for(var ot=Array(Be),Tt=0;Tt<Be;Tt++)ot[Tt]=arguments[Tt+2];Ie.children=ot}if(z&&z.defaultProps)for(ve in Be=z.defaultProps,Be)Ie[ve]===void 0&&(Ie[ve]=Be[ve]);return{$$typeof:n,type:z,key:Ae,ref:Ge,props:Ie,_owner:G.current}}function P(z,te){return{$$typeof:n,type:z.type,key:te,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function U(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return te[pe]})}var F=/\/+/g;function O(z,te){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):te.toString(36)}function we(z,te,pe,ve,Ie){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var Ge=!1;if(z===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(z.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=z,Ie=Ie(Ge),z=ve===""?"."+O(Ge,0):ve,j(Ie)?(pe="",z!=null&&(pe=z.replace(F,"$&/")+"/"),we(Ie,te,pe,"",function(Tt){return Tt})):Ie!=null&&(L(Ie)&&(Ie=P(Ie,pe+(!Ie.key||Ge&&Ge.key===Ie.key?"":(""+Ie.key).replace(F,"$&/")+"/")+z)),te.push(Ie)),1;if(Ge=0,ve=ve===""?".":ve+":",j(z))for(var Be=0;Be<z.length;Be++){Ae=z[Be];var ot=ve+O(Ae,Be);Ge+=we(Ae,te,pe,ot,Ie)}else if(ot=T(z),typeof ot=="function")for(z=ot.call(z),Be=0;!(Ae=z.next()).done;)Ae=Ae.value,ot=ve+O(Ae,Be++),Ge+=we(Ae,te,pe,ot,Ie);else if(Ae==="object")throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ne(z,te,pe){if(z==null)return z;var ve=[],Ie=0;return we(z,ve,"","",function(Ae){return te.call(pe,Ae,Ie++)}),ve}function je(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Se={current:null},re={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:re,ReactCurrentOwner:G};function ce(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Ne,forEach:function(z,te,pe){Ne(z,function(){te.apply(this,arguments)},pe)},count:function(z){var te=0;return Ne(z,function(){te++}),te},toArray:function(z){return Ne(z,function(te){return te})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ut.Component=R,ut.Fragment=t,ut.Profiler=i,ut.PureComponent=M,ut.StrictMode=r,ut.Suspense=f,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ut.act=ce,ut.cloneElement=function(z,te,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ve=k({},z.props),Ie=z.key,Ae=z.ref,Ge=z._owner;if(te!=null){if(te.ref!==void 0&&(Ae=te.ref,Ge=G.current),te.key!==void 0&&(Ie=""+te.key),z.type&&z.type.defaultProps)var Be=z.type.defaultProps;for(ot in te)q.call(te,ot)&&!C.hasOwnProperty(ot)&&(ve[ot]=te[ot]===void 0&&Be!==void 0?Be[ot]:te[ot])}var ot=arguments.length-2;if(ot===1)ve.children=pe;else if(1<ot){Be=Array(ot);for(var Tt=0;Tt<ot;Tt++)Be[Tt]=arguments[Tt+2];ve.children=Be}return{$$typeof:n,type:z.type,key:Ie,ref:Ae,props:ve,_owner:Ge}},ut.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},ut.createElement=b,ut.createFactory=function(z){var te=b.bind(null,z);return te.type=z,te},ut.createRef=function(){return{current:null}},ut.forwardRef=function(z){return{$$typeof:u,render:z}},ut.isValidElement=L,ut.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:je}},ut.memo=function(z,te){return{$$typeof:p,type:z,compare:te===void 0?null:te}},ut.startTransition=function(z){var te=re.transition;re.transition={};try{z()}finally{re.transition=te}},ut.unstable_act=ce,ut.useCallback=function(z,te){return Se.current.useCallback(z,te)},ut.useContext=function(z){return Se.current.useContext(z)},ut.useDebugValue=function(){},ut.useDeferredValue=function(z){return Se.current.useDeferredValue(z)},ut.useEffect=function(z,te){return Se.current.useEffect(z,te)},ut.useId=function(){return Se.current.useId()},ut.useImperativeHandle=function(z,te,pe){return Se.current.useImperativeHandle(z,te,pe)},ut.useInsertionEffect=function(z,te){return Se.current.useInsertionEffect(z,te)},ut.useLayoutEffect=function(z,te){return Se.current.useLayoutEffect(z,te)},ut.useMemo=function(z,te){return Se.current.useMemo(z,te)},ut.useReducer=function(z,te,pe){return Se.current.useReducer(z,te,pe)},ut.useRef=function(z){return Se.current.useRef(z)},ut.useState=function(z){return Se.current.useState(z)},ut.useSyncExternalStore=function(z,te,pe){return Se.current.useSyncExternalStore(z,te,pe)},ut.useTransition=function(){return Se.current.useTransition()},ut.version="18.3.1",ut}var R0;function Tv(){return R0||(R0=1,Sg.exports=lP()),Sg.exports}var w=Tv();const nt=dd(w),cP=eC({__proto__:null,default:nt},[w]);var qf={},Cg={exports:{}},yr={},bg={exports:{}},Ag={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function uP(){return k0||(k0=1,function(n){function e(re,me){var ce=re.length;re.push(me);e:for(;0<ce;){var z=ce-1>>>1,te=re[z];if(0<i(te,me))re[z]=me,re[ce]=te,ce=z;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],ce=re.pop();if(ce!==me){re[0]=ce;e:for(var z=0,te=re.length,pe=te>>>1;z<pe;){var ve=2*(z+1)-1,Ie=re[ve],Ae=ve+1,Ge=re[Ae];if(0>i(Ie,ce))Ae<te&&0>i(Ge,Ie)?(re[z]=Ge,re[Ae]=ce,z=Ae):(re[z]=Ie,re[ve]=ce,z=ve);else if(Ae<te&&0>i(Ge,ce))re[z]=Ge,re[Ae]=ce,z=Ae;else break e}}return me}function i(re,me){var ce=re.sortIndex-me.sortIndex;return ce!==0?ce:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],p=[],m=1,y=null,T=3,S=!1,k=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(re){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=re)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function j(re){if(N=!1,V(re),!k)if(t(f)!==null)k=!0,je(q);else{var me=t(p);me!==null&&Se(j,me.startTime-re)}}function q(re,me){k=!1,N&&(N=!1,x(b),b=-1),S=!0;var ce=T;try{for(V(me),y=t(f);y!==null&&(!(y.expirationTime>me)||re&&!U());){var z=y.callback;if(typeof z=="function"){y.callback=null,T=y.priorityLevel;var te=z(y.expirationTime<=me);me=n.unstable_now(),typeof te=="function"?y.callback=te:y===t(f)&&r(f),V(me)}else r(f);y=t(f)}if(y!==null)var pe=!0;else{var ve=t(p);ve!==null&&Se(j,ve.startTime-me),pe=!1}return pe}finally{y=null,T=ce,S=!1}}var G=!1,C=null,b=-1,P=5,L=-1;function U(){return!(n.unstable_now()-L<P)}function F(){if(C!==null){var re=n.unstable_now();L=re;var me=!0;try{me=C(!0,re)}finally{me?O():(G=!1,C=null)}}else G=!1}var O;if(typeof M=="function")O=function(){M(F)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ne=we.port2;we.port1.onmessage=F,O=function(){Ne.postMessage(null)}}else O=function(){R(F,0)};function je(re){C=re,G||(G=!0,O())}function Se(re,me){b=R(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){k||S||(k=!0,je(q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ce=T;T=me;try{return re()}finally{T=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=T;T=re;try{return me()}finally{T=ce}},n.unstable_scheduleCallback=function(re,me,ce){var z=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?z+ce:z):ce=z,re){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ce+te,re={id:m++,callback:me,priorityLevel:re,startTime:ce,expirationTime:te,sortIndex:-1},ce>z?(re.sortIndex=ce,e(p,re),t(f)===null&&re===t(p)&&(N?(x(b),b=-1):N=!0,Se(j,ce-z))):(re.sortIndex=te,e(f,re),k||S||(k=!0,je(q))),re},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(re){var me=T;return function(){var ce=T;T=me;try{return re.apply(this,arguments)}finally{T=ce}}}}(Ag)),Ag}var N0;function dP(){return N0||(N0=1,bg.exports=uP()),bg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function fP(){if(P0)return yr;P0=1;var n=Tv(),e=dP();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function T(s){return f.call(y,s)?!0:f.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function S(s,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,c,h){if(a===null||typeof a>"u"||S(s,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(s,a,c,h,g,_,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=A}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];R[a]=new N(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(x,M);R[a]=new N(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(x,M);R[a]=new N(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(x,M);R[a]=new N(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,a,c,h){var g=R.hasOwnProperty(a)?R[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,c,g,h)&&(c=null),h||g===null?T(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,h=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?s.setAttributeNS(h,a,c):s.setAttribute(a,c))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),G=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,z;function te(s){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var pe=!1;function ve(s,a){if(!s||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var h=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){h=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){h=Z}s()}}catch(Z){if(Z&&h&&typeof Z.stack=="string"){for(var g=Z.stack.split(`
`),_=h.stack.split(`
`),A=g.length-1,$=_.length-1;1<=A&&0<=$&&g[A]!==_[$];)$--;for(;1<=A&&0<=$;A--,$--)if(g[A]!==_[$]){if(A!==1||$!==1)do if(A--,$--,0>$||g[A]!==_[$]){var H=`
`+g[A].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=A&&0<=$);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Ie(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case G:return"Portal";case P:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ne:return a=s.displayName||null,a!==null?a:Ae(s.type)||"Memo";case je:a=s._payload,s=s._init;try{return Ae(s(a))}catch{}}return null}function Ge(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ot(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Tt(s){var a=ot(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(A){h=""+A,_.call(this,A)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ct(s){s._valueTracker||(s._valueTracker=Tt(s))}function st(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=ot(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function Pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Yt(s,a){var c=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function it(s,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Be(a.value!=null?a.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function zt(s,a){a=a.checked,a!=null&&V(s,"checked",a,!1)}function vn(s,a){zt(s,a);var c=Be(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Qn(s,a.type,c):a.hasOwnProperty("defaultValue")&&Qn(s,a.type,Be(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Fr(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Qn(s,a,c){(a!=="number"||Pt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Wt=Array.isArray;function rn(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Be(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function or(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Mn(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Wt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Be(c)}}function Ot(s,a){var c=Be(a.value),h=Be(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function fn(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Lt,_n=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,h,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Lt=Lt||document.createElement("div"),Lt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Lt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Yn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(s){ze.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Xn[a]=Xn[s]})});function at(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Xn.hasOwnProperty(s)&&Xn[s]?(""+a).trim():a+"px"}function wn(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=at(c,a[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,g):s[c]=g}}var ar=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ri(s,a){if(a){if(ar[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Jo(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function li(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,Vn=null,lr=null;function Ws(s){if(s=su(s)){if(typeof ts!="function")throw Error(t(280));var a=s.stateNode;a&&(a=af(a),ts(s.stateNode,s.type,a))}}function Tr(s){Vn?lr?lr.push(s):lr=[s]:Vn=s}function Zo(){if(Vn){var s=Vn,a=lr;if(lr=Vn=null,Ws(s),a)for(s=0;s<a.length;s++)Ws(a[s])}}function Ni(s,a){return s(a)}function Pi(){}var cr=!1;function ea(s,a,c){if(cr)return s(a,c);cr=!0;try{return Ni(s,a,c)}finally{cr=!1,(Vn!==null||lr!==null)&&(Pi(),Zo())}}function qt(s,a){var c=s.stateNode;if(c===null)return null;var h=af(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var B=!1;if(u)try{var K={};Object.defineProperty(K,"passive",{get:function(){B=!0}}),window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{B=!1}function J(s,a,c,h,g,_,A,$,H){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ue){this.onError(ue)}}var ie=!1,_e=null,Pe=!1,Qe=null,De={onError:function(s){ie=!0,_e=s}};function Re(s,a,c,h,g,_,A,$,H){ie=!1,_e=null,J.apply(De,arguments)}function Ce(s,a,c,h,g,_,A,$,H){if(Re.apply(this,arguments),ie){if(ie){var Z=_e;ie=!1,_e=null}else throw Error(t(198));Pe||(Pe=!0,Qe=Z)}}function xe(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function et(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Ze(s){if(xe(s)!==s)throw Error(t(188))}function Xt(s){var a=s.alternate;if(!a){if(a=xe(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return Ze(g),s;if(_===h)return Ze(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==h.return)c=g,h=_;else{for(var A=!1,$=g.child;$;){if($===c){A=!0,c=g,h=_;break}if($===h){A=!0,h=g,c=_;break}$=$.sibling}if(!A){for($=_.child;$;){if($===c){A=!0,c=_,h=g;break}if($===h){A=!0,h=_,c=g;break}$=$.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function It(s){return s=Xt(s),s!==null?ct(s):null}function ct(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ct(s);if(a!==null)return a;s=s.sibling}return null}var Rt=e.unstable_scheduleCallback,jr=e.unstable_cancelCallback,Di=e.unstable_shouldYield,Ir=e.unstable_requestPaint,dt=e.unstable_now,qs=e.unstable_getCurrentPriorityLevel,Sr=e.unstable_ImmediatePriority,Un=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,xi=e.unstable_LowPriority,ft=e.unstable_IdlePriority,bt=null,sn=null;function Oi(s){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(bt,s,void 0,(s.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:tl,Br=Math.log,ta=Math.LN2;function tl(s){return s>>>=0,s===0?32:31-(Br(s)/ta|0)|0}var nl=64,rl=4194304;function Ks(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function na(s,a){var c=s.pendingLanes;if(c===0)return 0;var h=0,g=s.suspendedLanes,_=s.pingedLanes,A=c&268435455;if(A!==0){var $=A&~g;$!==0?h=Ks($):(_&=A,_!==0&&(h=Ks(_)))}else A=c&~g,A!==0?h=Ks(A):_!==0&&(h=Ks(_));if(h===0)return 0;if(a!==0&&a!==h&&(a&g)===0&&(g=h&-h,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=h;0<a;)c=31-ht(a),g=1<<c,h|=s[c],a&=~g;return h}function em(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ns(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var A=31-ht(_),$=1<<A,H=g[A];H===-1?(($&c)===0||($&h)!==0)&&(g[A]=em($,a)):H<=a&&(s.expiredLanes|=$),_&=~$}}function Cr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ra(){var s=nl;return nl<<=1,(nl&4194240)===0&&(nl=64),s}function Gs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Qs(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-ht(a),s[a]=c}function Dt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-ht(c),_=1<<g;a[g]=0,h[g]=-1,s[g]=-1,c&=~_}}function Ys(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-ht(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}var yt=0;function Xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var $d,il,Fd,jd,Bd,zc=!1,Li=[],Rn=null,ci=null,ui=null,Js=new Map,Hr=new Map,Mi=[],tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(s,a){switch(s){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Js.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(a.pointerId)}}function ur(s,a,c,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},a!==null&&(a=su(a),a!==null&&il(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function nm(s,a,c,h,g){switch(a){case"focusin":return Rn=ur(Rn,s,a,c,h,g),!0;case"dragenter":return ci=ur(ci,s,a,c,h,g),!0;case"mouseover":return ui=ur(ui,s,a,c,h,g),!0;case"pointerover":var _=g.pointerId;return Js.set(_,ur(Js.get(_)||null,s,a,c,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Hr.set(_,ur(Hr.get(_)||null,s,a,c,h,g)),!0}return!1}function zd(s){var a=la(s.target);if(a!==null){var c=xe(a);if(c!==null){if(a=c.tag,a===13){if(a=et(c),a!==null){s.blockedOn=a,Bd(s.priority,function(){Fd(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rs(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=sl(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);ki=h,c.target.dispatchEvent(h),ki=null}else return a=su(c),a!==null&&il(a),s.blockedOn=c,!1;a.shift()}return!0}function ia(s,a,c){rs(s)&&c.delete(a)}function Wd(){zc=!1,Rn!==null&&rs(Rn)&&(Rn=null),ci!==null&&rs(ci)&&(ci=null),ui!==null&&rs(ui)&&(ui=null),Js.forEach(ia),Hr.forEach(ia)}function di(s,a){s.blockedOn===a&&(s.blockedOn=null,zc||(zc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wd)))}function fi(s){function a(g){return di(g,s)}if(0<Li.length){di(Li[0],s);for(var c=1;c<Li.length;c++){var h=Li[c];h.blockedOn===s&&(h.blockedOn=null)}}for(Rn!==null&&di(Rn,s),ci!==null&&di(ci,s),ui!==null&&di(ui,s),Js.forEach(a),Hr.forEach(a),c=0;c<Mi.length;c++)h=Mi[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Mi.length&&(c=Mi[0],c.blockedOn===null);)zd(c),c.blockedOn===null&&Mi.shift()}var is=j.ReactCurrentBatchConfig,Zs=!0;function Ft(s,a,c,h){var g=yt,_=is.transition;is.transition=null;try{yt=1,Wc(s,a,c,h)}finally{yt=g,is.transition=_}}function rm(s,a,c,h){var g=yt,_=is.transition;is.transition=null;try{yt=4,Wc(s,a,c,h)}finally{yt=g,is.transition=_}}function Wc(s,a,c,h){if(Zs){var g=sl(s,a,c,h);if(g===null)pm(s,a,h,sa,c),Hd(s,h);else if(nm(g,s,a,c,h))h.stopPropagation();else if(Hd(s,h),a&4&&-1<tm.indexOf(s)){for(;g!==null;){var _=su(g);if(_!==null&&$d(_),_=sl(s,a,c,h),_===null&&pm(s,a,h,sa,c),_===g)break;g=_}g!==null&&h.stopPropagation()}else pm(s,a,h,null,c)}}var sa=null;function sl(s,a,c,h){if(sa=null,s=li(h),s=la(s),s!==null)if(a=xe(s),a===null)s=null;else if(c=a.tag,c===13){if(s=et(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return sa=s,null}function qc(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qs()){case Sr:return 1;case Un:return 4;case An:case xi:return 16;case ft:return 536870912;default:return 16}default:return 16}}var br=null,ol=null,dr=null;function Kc(){if(dr)return dr;var s,a=ol,c=a.length,h,g="value"in br?br.value:br.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var A=c-s;for(h=1;h<=A&&a[c-h]===g[_-h];h++);return dr=g.slice(s,1<h?1-h:void 0)}function al(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function Gc(){return!1}function kn(s){function a(c,h,g,_,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(c=s[$],this[$]=c?c(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Vi:Gc,this.isPropagationStopped=Gc,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),a}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=kn(hi),Ui=ce({},hi,{view:0,detail:0}),im=kn(Ui),cl,ss,eo,oa=ce({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==eo&&(eo&&s.type==="mousemove"?(cl=s.screenX-eo.screenX,ss=s.screenY-eo.screenY):ss=cl=0,eo=s),cl)},movementY:function(s){return"movementY"in s?s.movementY:ss}}),ul=kn(oa),Qc=ce({},oa,{dataTransfer:0}),qd=kn(Qc),dl=ce({},Ui,{relatedTarget:0}),fl=kn(dl),Kd=ce({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),os=kn(Kd),Gd=ce({},hi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qd=kn(Gd),Yd=ce({},hi,{data:0}),Yc=kn(Yd),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Xd[s])?!!a[s]:!1}function $i(){return Jd}var d=ce({},Ui,{key:function(s){if(s.key){var a=hl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=al(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Jn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(s){return s.type==="keypress"?al(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?al(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=kn(d),I=ce({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=kn(I),Q=ce({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),ne=kn(Q),ge=ce({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kt=kn(ge),hn=ce({},oa,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=kn(hn),En=[9,13,27,32],on=u&&"CompositionEvent"in window,zr=null;u&&"documentMode"in document&&(zr=document.documentMode);var Ar=u&&"TextEvent"in window&&!zr,aa=u&&(!on||zr&&8<zr&&11>=zr),pl=" ",Ew=!1;function Tw(s,a){switch(s){case"keyup":return En.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ml=!1;function s1(s,a){switch(s){case"compositionend":return Iw(a);case"keypress":return a.which!==32?null:(Ew=!0,pl);case"textInput":return s=a.data,s===pl&&Ew?null:s;default:return null}}function o1(s,a){if(ml)return s==="compositionend"||!on&&Tw(s,a)?(s=Kc(),dr=ol=br=null,ml=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return aa&&a.locale!=="ko"?null:a.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!a1[s.type]:a==="textarea"}function Cw(s,a,c,h){Tr(h),a=rf(a,"onChange"),0<a.length&&(c=new ll("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Xc=null,Jc=null;function l1(s){Hw(s,0)}function Zd(s){var a=wl(s);if(st(a))return s}function c1(s,a){if(s==="change")return a}var bw=!1;if(u){var sm;if(u){var om="oninput"in document;if(!om){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),om=typeof Aw.oninput=="function"}sm=om}else sm=!1;bw=sm&&(!document.documentMode||9<document.documentMode)}function Rw(){Xc&&(Xc.detachEvent("onpropertychange",kw),Jc=Xc=null)}function kw(s){if(s.propertyName==="value"&&Zd(Jc)){var a=[];Cw(a,Jc,s,li(s)),ea(l1,a)}}function u1(s,a,c){s==="focusin"?(Rw(),Xc=a,Jc=c,Xc.attachEvent("onpropertychange",kw)):s==="focusout"&&Rw()}function d1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Zd(Jc)}function f1(s,a){if(s==="click")return Zd(a)}function h1(s,a){if(s==="input"||s==="change")return Zd(a)}function p1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var pi=typeof Object.is=="function"?Object.is:p1;function Zc(s,a){if(pi(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!f.call(a,g)||!pi(s[g],a[g]))return!1}return!0}function Nw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Pw(s,a){var c=Nw(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Nw(c)}}function Dw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Dw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function xw(){for(var s=window,a=Pt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Pt(s.document)}return a}function am(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function m1(s){var a=xw(),c=s.focusedElem,h=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Dw(c.ownerDocument.documentElement,c)){if(h!==null&&am(c)){if(a=h.start,s=h.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!s.extend&&_>h&&(g=h,h=_,_=g),g=Pw(c,_);var A=Pw(c,h);g&&A&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>h?(s.addRange(a),s.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var g1=u&&"documentMode"in document&&11>=document.documentMode,gl=null,lm=null,eu=null,cm=!1;function Ow(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;cm||gl==null||gl!==Pt(h)||(h=gl,"selectionStart"in h&&am(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),eu&&Zc(eu,h)||(eu=h,h=rf(lm,"onSelect"),0<h.length&&(a=new ll("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=gl)))}function ef(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var yl={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionend:ef("Transition","TransitionEnd")},um={},Lw={};u&&(Lw=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function tf(s){if(um[s])return um[s];if(!yl[s])return s;var a=yl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Lw)return um[s]=a[c];return s}var Mw=tf("animationend"),Vw=tf("animationiteration"),Uw=tf("animationstart"),$w=tf("transitionend"),Fw=new Map,jw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(s,a){Fw.set(s,a),o(a,[s])}for(var dm=0;dm<jw.length;dm++){var fm=jw[dm],y1=fm.toLowerCase(),v1=fm[0].toUpperCase()+fm.slice(1);to(y1,"on"+v1)}to(Mw,"onAnimationEnd"),to(Vw,"onAnimationIteration"),to(Uw,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to($w,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function Bw(s,a,c){var h=s.type||"unknown-event";s.currentTarget=c,Ce(h,a,void 0,s),s.currentTarget=null}function Hw(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var A=h.length-1;0<=A;A--){var $=h[A],H=$.instance,Z=$.currentTarget;if($=$.listener,H!==_&&g.isPropagationStopped())break e;Bw(g,$,Z),_=H}else for(A=0;A<h.length;A++){if($=h[A],H=$.instance,Z=$.currentTarget,$=$.listener,H!==_&&g.isPropagationStopped())break e;Bw(g,$,Z),_=H}}}if(Pe)throw s=Qe,Pe=!1,Qe=null,s}function Vt(s,a){var c=a[wm];c===void 0&&(c=a[wm]=new Set);var h=s+"__bubble";c.has(h)||(zw(a,s,2,!1),c.add(h))}function hm(s,a,c){var h=0;a&&(h|=4),zw(c,s,h,a)}var nf="_reactListening"+Math.random().toString(36).slice(2);function nu(s){if(!s[nf]){s[nf]=!0,r.forEach(function(c){c!=="selectionchange"&&(_1.has(c)||hm(c,!1,s),hm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[nf]||(a[nf]=!0,hm("selectionchange",!1,a))}}function zw(s,a,c,h){switch(qc(a)){case 1:var g=Ft;break;case 4:g=rm;break;default:g=Wc}c=g.bind(null,a,c,s),g=void 0,!B||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function pm(s,a,c,h,g){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var $=h.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(A===4)for(A=h.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;A=A.return}for(;$!==null;){if(A=la($),A===null)return;if(H=A.tag,H===5||H===6){h=_=A;continue e}$=$.parentNode}}h=h.return}ea(function(){var Z=_,ue=li(c),fe=[];e:{var le=Fw.get(s);if(le!==void 0){var be=ll,Me=s;switch(s){case"keypress":if(al(c)===0)break e;case"keydown":case"keyup":be=v;break;case"focusin":Me="focus",be=fl;break;case"focusout":Me="blur",be=fl;break;case"beforeblur":case"afterblur":be=fl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ne;break;case Mw:case Vw:case Uw:be=os;break;case $w:be=kt;break;case"scroll":be=im;break;case"wheel":be=_t;break;case"copy":case"cut":case"paste":be=Qd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=D}var Ve=(a&4)!==0,Zt=!Ve&&s==="scroll",Y=Ve?le!==null?le+"Capture":null:le;Ve=[];for(var W=Z,X;W!==null;){X=W;var he=X.stateNode;if(X.tag===5&&he!==null&&(X=he,Y!==null&&(he=qt(W,Y),he!=null&&Ve.push(ru(W,he,X)))),Zt)break;W=W.return}0<Ve.length&&(le=new be(le,Me,null,c,ue),fe.push({event:le,listeners:Ve}))}}if((a&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",be=s==="mouseout"||s==="pointerout",le&&c!==ki&&(Me=c.relatedTarget||c.fromElement)&&(la(Me)||Me[as]))break e;if((be||le)&&(le=ue.window===ue?ue:(le=ue.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Me=c.relatedTarget||c.toElement,be=Z,Me=Me?la(Me):null,Me!==null&&(Zt=xe(Me),Me!==Zt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(be=null,Me=Z),be!==Me)){if(Ve=ul,he="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=D,he="onPointerLeave",Y="onPointerEnter",W="pointer"),Zt=be==null?le:wl(be),X=Me==null?le:wl(Me),le=new Ve(he,W+"leave",be,c,ue),le.target=Zt,le.relatedTarget=X,he=null,la(ue)===Z&&(Ve=new Ve(Y,W+"enter",Me,c,ue),Ve.target=X,Ve.relatedTarget=Zt,he=Ve),Zt=he,be&&Me)t:{for(Ve=be,Y=Me,W=0,X=Ve;X;X=vl(X))W++;for(X=0,he=Y;he;he=vl(he))X++;for(;0<W-X;)Ve=vl(Ve),W--;for(;0<X-W;)Y=vl(Y),X--;for(;W--;){if(Ve===Y||Y!==null&&Ve===Y.alternate)break t;Ve=vl(Ve),Y=vl(Y)}Ve=null}else Ve=null;be!==null&&Ww(fe,le,be,Ve,!1),Me!==null&&Zt!==null&&Ww(fe,Zt,Me,Ve,!0)}}e:{if(le=Z?wl(Z):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Ue=c1;else if(Sw(le))if(bw)Ue=h1;else{Ue=d1;var qe=u1}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ue=f1);if(Ue&&(Ue=Ue(s,Z))){Cw(fe,Ue,c,ue);break e}qe&&qe(s,le,Z),s==="focusout"&&(qe=le._wrapperState)&&qe.controlled&&le.type==="number"&&Qn(le,"number",le.value)}switch(qe=Z?wl(Z):window,s){case"focusin":(Sw(qe)||qe.contentEditable==="true")&&(gl=qe,lm=Z,eu=null);break;case"focusout":eu=lm=gl=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,Ow(fe,c,ue);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":Ow(fe,c,ue)}var Ke;if(on)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else ml?Tw(s,c)&&(Je="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(aa&&c.locale!=="ko"&&(ml||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&ml&&(Ke=Kc()):(br=ue,ol="value"in br?br.value:br.textContent,ml=!0)),qe=rf(Z,Je),0<qe.length&&(Je=new Yc(Je,s,null,c,ue),fe.push({event:Je,listeners:qe}),Ke?Je.data=Ke:(Ke=Iw(c),Ke!==null&&(Je.data=Ke)))),(Ke=Ar?s1(s,c):o1(s,c))&&(Z=rf(Z,"onBeforeInput"),0<Z.length&&(ue=new Yc("onBeforeInput","beforeinput",null,c,ue),fe.push({event:ue,listeners:Z}),ue.data=Ke))}Hw(fe,a)})}function ru(s,a,c){return{instance:s,listener:a,currentTarget:c}}function rf(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=qt(s,c),_!=null&&h.unshift(ru(s,_,g)),_=qt(s,a),_!=null&&h.push(ru(s,_,g))),s=s.return}return h}function vl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ww(s,a,c,h,g){for(var _=a._reactName,A=[];c!==null&&c!==h;){var $=c,H=$.alternate,Z=$.stateNode;if(H!==null&&H===h)break;$.tag===5&&Z!==null&&($=Z,g?(H=qt(c,_),H!=null&&A.unshift(ru(c,H,$))):g||(H=qt(c,_),H!=null&&A.push(ru(c,H,$)))),c=c.return}A.length!==0&&s.push({event:a,listeners:A})}var w1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function qw(s){return(typeof s=="string"?s:""+s).replace(w1,`
`).replace(E1,"")}function sf(s,a,c){if(a=qw(a),qw(s)!==a&&c)throw Error(t(425))}function of(){}var mm=null,gm=null;function ym(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(s){return Kw.resolve(null).then(s).catch(S1)}:vm;function S1(s){setTimeout(function(){throw s})}function _m(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){s.removeChild(g),fi(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);fi(a)}function no(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Gw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Fi="__reactFiber$"+_l,iu="__reactProps$"+_l,as="__reactContainer$"+_l,wm="__reactEvents$"+_l,C1="__reactListeners$"+_l,b1="__reactHandles$"+_l;function la(s){var a=s[Fi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[as]||c[Fi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Gw(s);s!==null;){if(c=s[Fi])return c;s=Gw(s)}return a}s=c,c=s.parentNode}return null}function su(s){return s=s[Fi]||s[as],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function wl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function af(s){return s[iu]||null}var Em=[],El=-1;function ro(s){return{current:s}}function Ut(s){0>El||(s.current=Em[El],Em[El]=null,El--)}function Mt(s,a){El++,Em[El]=s.current,s.current=a}var io={},$n=ro(io),fr=ro(!1),ca=io;function Tl(s,a){var c=s.type.contextTypes;if(!c)return io;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function hr(s){return s=s.childContextTypes,s!=null}function lf(){Ut(fr),Ut($n)}function Qw(s,a,c){if($n.current!==io)throw Error(t(168));Mt($n,a),Mt(fr,c)}function Yw(s,a,c){var h=s.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(t(108,Ge(s)||"Unknown",g));return ce({},c,h)}function cf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||io,ca=$n.current,Mt($n,s),Mt(fr,fr.current),!0}function Xw(s,a,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Yw(s,a,ca),h.__reactInternalMemoizedMergedChildContext=s,Ut(fr),Ut($n),Mt($n,s)):Ut(fr),Mt(fr,c)}var ls=null,uf=!1,Tm=!1;function Jw(s){ls===null?ls=[s]:ls.push(s)}function A1(s){uf=!0,Jw(s)}function so(){if(!Tm&&ls!==null){Tm=!0;var s=0,a=yt;try{var c=ls;for(yt=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ls=null,uf=!1}catch(g){throw ls!==null&&(ls=ls.slice(s+1)),Rt(Sr,so),g}finally{yt=a,Tm=!1}}return null}var Il=[],Sl=0,df=null,ff=0,Wr=[],qr=0,ua=null,cs=1,us="";function da(s,a){Il[Sl++]=ff,Il[Sl++]=df,df=s,ff=a}function Zw(s,a,c){Wr[qr++]=cs,Wr[qr++]=us,Wr[qr++]=ua,ua=s;var h=cs;s=us;var g=32-ht(h)-1;h&=~(1<<g),c+=1;var _=32-ht(a)+g;if(30<_){var A=g-g%5;_=(h&(1<<A)-1).toString(32),h>>=A,g-=A,cs=1<<32-ht(a)+g|c<<g|h,us=_+s}else cs=1<<_|c<<g|h,us=s}function Im(s){s.return!==null&&(da(s,1),Zw(s,1,0))}function Sm(s){for(;s===df;)df=Il[--Sl],Il[Sl]=null,ff=Il[--Sl],Il[Sl]=null;for(;s===ua;)ua=Wr[--qr],Wr[qr]=null,us=Wr[--qr],Wr[qr]=null,cs=Wr[--qr],Wr[qr]=null}var Rr=null,kr=null,jt=!1,mi=null;function eE(s,a){var c=Yr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function tE(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Rr=s,kr=no(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Rr=s,kr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ua!==null?{id:cs,overflow:us}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Yr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Rr=s,kr=null,!0):!1;default:return!1}}function Cm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bm(s){if(jt){var a=kr;if(a){var c=a;if(!tE(s,a)){if(Cm(s))throw Error(t(418));a=no(c.nextSibling);var h=Rr;a&&tE(s,a)?eE(h,c):(s.flags=s.flags&-4097|2,jt=!1,Rr=s)}}else{if(Cm(s))throw Error(t(418));s.flags=s.flags&-4097|2,jt=!1,Rr=s}}}function nE(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rr=s}function hf(s){if(s!==Rr)return!1;if(!jt)return nE(s),jt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!ym(s.type,s.memoizedProps)),a&&(a=kr)){if(Cm(s))throw rE(),Error(t(418));for(;a;)eE(s,a),a=no(a.nextSibling)}if(nE(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){kr=no(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}kr=null}}else kr=Rr?no(s.stateNode.nextSibling):null;return!0}function rE(){for(var s=kr;s;)s=no(s.nextSibling)}function Cl(){kr=Rr=null,jt=!1}function Am(s){mi===null?mi=[s]:mi.push(s)}var R1=j.ReactCurrentBatchConfig;function ou(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var g=h,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(A){var $=g.refs;A===null?delete $[_]:$[_]=A},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function pf(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function iE(s){var a=s._init;return a(s._payload)}function sE(s){function a(Y,W){if(s){var X=Y.deletions;X===null?(Y.deletions=[W],Y.flags|=16):X.push(W)}}function c(Y,W){if(!s)return null;for(;W!==null;)a(Y,W),W=W.sibling;return null}function h(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function g(Y,W){return Y=po(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,X){return Y.index=X,s?(X=Y.alternate,X!==null?(X=X.index,X<W?(Y.flags|=2,W):X):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function A(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function $(Y,W,X,he){return W===null||W.tag!==6?(W=vg(X,Y.mode,he),W.return=Y,W):(W=g(W,X),W.return=Y,W)}function H(Y,W,X,he){var Ue=X.type;return Ue===C?ue(Y,W,X.props.children,he,X.key):W!==null&&(W.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===je&&iE(Ue)===W.type)?(he=g(W,X.props),he.ref=ou(Y,W,X),he.return=Y,he):(he=Uf(X.type,X.key,X.props,null,Y.mode,he),he.ref=ou(Y,W,X),he.return=Y,he)}function Z(Y,W,X,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==X.containerInfo||W.stateNode.implementation!==X.implementation?(W=_g(X,Y.mode,he),W.return=Y,W):(W=g(W,X.children||[]),W.return=Y,W)}function ue(Y,W,X,he,Ue){return W===null||W.tag!==7?(W=_a(X,Y.mode,he,Ue),W.return=Y,W):(W=g(W,X),W.return=Y,W)}function fe(Y,W,X){if(typeof W=="string"&&W!==""||typeof W=="number")return W=vg(""+W,Y.mode,X),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case q:return X=Uf(W.type,W.key,W.props,null,Y.mode,X),X.ref=ou(Y,null,W),X.return=Y,X;case G:return W=_g(W,Y.mode,X),W.return=Y,W;case je:var he=W._init;return fe(Y,he(W._payload),X)}if(Wt(W)||me(W))return W=_a(W,Y.mode,X,null),W.return=Y,W;pf(Y,W)}return null}function le(Y,W,X,he){var Ue=W!==null?W.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ue!==null?null:$(Y,W,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return X.key===Ue?H(Y,W,X,he):null;case G:return X.key===Ue?Z(Y,W,X,he):null;case je:return Ue=X._init,le(Y,W,Ue(X._payload),he)}if(Wt(X)||me(X))return Ue!==null?null:ue(Y,W,X,he,null);pf(Y,X)}return null}function be(Y,W,X,he,Ue){if(typeof he=="string"&&he!==""||typeof he=="number")return Y=Y.get(X)||null,$(W,Y,""+he,Ue);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case q:return Y=Y.get(he.key===null?X:he.key)||null,H(W,Y,he,Ue);case G:return Y=Y.get(he.key===null?X:he.key)||null,Z(W,Y,he,Ue);case je:var qe=he._init;return be(Y,W,X,qe(he._payload),Ue)}if(Wt(he)||me(he))return Y=Y.get(X)||null,ue(W,Y,he,Ue,null);pf(W,he)}return null}function Me(Y,W,X,he){for(var Ue=null,qe=null,Ke=W,Je=W=0,Sn=null;Ke!==null&&Je<X.length;Je++){Ke.index>Je?(Sn=Ke,Ke=null):Sn=Ke.sibling;var St=le(Y,Ke,X[Je],he);if(St===null){Ke===null&&(Ke=Sn);break}s&&Ke&&St.alternate===null&&a(Y,Ke),W=_(St,W,Je),qe===null?Ue=St:qe.sibling=St,qe=St,Ke=Sn}if(Je===X.length)return c(Y,Ke),jt&&da(Y,Je),Ue;if(Ke===null){for(;Je<X.length;Je++)Ke=fe(Y,X[Je],he),Ke!==null&&(W=_(Ke,W,Je),qe===null?Ue=Ke:qe.sibling=Ke,qe=Ke);return jt&&da(Y,Je),Ue}for(Ke=h(Y,Ke);Je<X.length;Je++)Sn=be(Ke,Y,Je,X[Je],he),Sn!==null&&(s&&Sn.alternate!==null&&Ke.delete(Sn.key===null?Je:Sn.key),W=_(Sn,W,Je),qe===null?Ue=Sn:qe.sibling=Sn,qe=Sn);return s&&Ke.forEach(function(mo){return a(Y,mo)}),jt&&da(Y,Je),Ue}function Ve(Y,W,X,he){var Ue=me(X);if(typeof Ue!="function")throw Error(t(150));if(X=Ue.call(X),X==null)throw Error(t(151));for(var qe=Ue=null,Ke=W,Je=W=0,Sn=null,St=X.next();Ke!==null&&!St.done;Je++,St=X.next()){Ke.index>Je?(Sn=Ke,Ke=null):Sn=Ke.sibling;var mo=le(Y,Ke,St.value,he);if(mo===null){Ke===null&&(Ke=Sn);break}s&&Ke&&mo.alternate===null&&a(Y,Ke),W=_(mo,W,Je),qe===null?Ue=mo:qe.sibling=mo,qe=mo,Ke=Sn}if(St.done)return c(Y,Ke),jt&&da(Y,Je),Ue;if(Ke===null){for(;!St.done;Je++,St=X.next())St=fe(Y,St.value,he),St!==null&&(W=_(St,W,Je),qe===null?Ue=St:qe.sibling=St,qe=St);return jt&&da(Y,Je),Ue}for(Ke=h(Y,Ke);!St.done;Je++,St=X.next())St=be(Ke,Y,Je,St.value,he),St!==null&&(s&&St.alternate!==null&&Ke.delete(St.key===null?Je:St.key),W=_(St,W,Je),qe===null?Ue=St:qe.sibling=St,qe=St);return s&&Ke.forEach(function(aP){return a(Y,aP)}),jt&&da(Y,Je),Ue}function Zt(Y,W,X,he){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case q:e:{for(var Ue=X.key,qe=W;qe!==null;){if(qe.key===Ue){if(Ue=X.type,Ue===C){if(qe.tag===7){c(Y,qe.sibling),W=g(qe,X.props.children),W.return=Y,Y=W;break e}}else if(qe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===je&&iE(Ue)===qe.type){c(Y,qe.sibling),W=g(qe,X.props),W.ref=ou(Y,qe,X),W.return=Y,Y=W;break e}c(Y,qe);break}else a(Y,qe);qe=qe.sibling}X.type===C?(W=_a(X.props.children,Y.mode,he,X.key),W.return=Y,Y=W):(he=Uf(X.type,X.key,X.props,null,Y.mode,he),he.ref=ou(Y,W,X),he.return=Y,Y=he)}return A(Y);case G:e:{for(qe=X.key;W!==null;){if(W.key===qe)if(W.tag===4&&W.stateNode.containerInfo===X.containerInfo&&W.stateNode.implementation===X.implementation){c(Y,W.sibling),W=g(W,X.children||[]),W.return=Y,Y=W;break e}else{c(Y,W);break}else a(Y,W);W=W.sibling}W=_g(X,Y.mode,he),W.return=Y,Y=W}return A(Y);case je:return qe=X._init,Zt(Y,W,qe(X._payload),he)}if(Wt(X))return Me(Y,W,X,he);if(me(X))return Ve(Y,W,X,he);pf(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,W!==null&&W.tag===6?(c(Y,W.sibling),W=g(W,X),W.return=Y,Y=W):(c(Y,W),W=vg(X,Y.mode,he),W.return=Y,Y=W),A(Y)):c(Y,W)}return Zt}var bl=sE(!0),oE=sE(!1),mf=ro(null),gf=null,Al=null,Rm=null;function km(){Rm=Al=gf=null}function Nm(s){var a=mf.current;Ut(mf),s._currentValue=a}function Pm(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function Rl(s,a){gf=s,Rm=Al=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(pr=!0),s.firstContext=null)}function Kr(s){var a=s._currentValue;if(Rm!==s)if(s={context:s,memoizedValue:a,next:null},Al===null){if(gf===null)throw Error(t(308));Al=s,gf.dependencies={lanes:0,firstContext:s}}else Al=Al.next=s;return a}var fa=null;function Dm(s){fa===null?fa=[s]:fa.push(s)}function aE(s,a,c,h){var g=a.interleaved;return g===null?(c.next=c,Dm(a)):(c.next=g.next,g.next=c),a.interleaved=c,ds(s,h)}function ds(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var oo=!1;function xm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lE(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function fs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ao(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Et&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,ds(s,c)}return g=h.interleaved,g===null?(a.next=a,Dm(h)):(a.next=g.next,g.next=a),h.interleaved=a,ds(s,c)}function yf(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Ys(s,c)}}function cE(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function vf(s,a,c,h){var g=s.updateQueue;oo=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var H=$,Z=H.next;H.next=null,A===null?_=Z:A.next=Z,A=H;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,$=ue.lastBaseUpdate,$!==A&&($===null?ue.firstBaseUpdate=Z:$.next=Z,ue.lastBaseUpdate=H))}if(_!==null){var fe=g.baseState;A=0,ue=Z=H=null,$=_;do{var le=$.lane,be=$.eventTime;if((h&le)===le){ue!==null&&(ue=ue.next={eventTime:be,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Me=s,Ve=$;switch(le=a,be=c,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){fe=Me.call(be,fe,le);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,le=typeof Me=="function"?Me.call(be,fe,le):Me,le==null)break e;fe=ce({},fe,le);break e;case 2:oo=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,le=g.effects,le===null?g.effects=[$]:le.push($))}else be={eventTime:be,lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ue===null?(Z=ue=be,H=fe):ue=ue.next=be,A|=le;if($=$.next,$===null){if($=g.shared.pending,$===null)break;le=$,$=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);if(ue===null&&(H=fe),g.baseState=H,g.firstBaseUpdate=Z,g.lastBaseUpdate=ue,a=g.shared.interleaved,a!==null){g=a;do A|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);ma|=A,s.lanes=A,s.memoizedState=fe}}function uE(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var h=s[a],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var au={},ji=ro(au),lu=ro(au),cu=ro(au);function ha(s){if(s===au)throw Error(t(174));return s}function Om(s,a){switch(Mt(cu,a),Mt(lu,s),Mt(ji,au),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:gt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=gt(a,s)}Ut(ji),Mt(ji,a)}function kl(){Ut(ji),Ut(lu),Ut(cu)}function dE(s){ha(cu.current);var a=ha(ji.current),c=gt(a,s.type);a!==c&&(Mt(lu,s),Mt(ji,c))}function Lm(s){lu.current===s&&(Ut(ji),Ut(lu))}var Kt=ro(0);function _f(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Mm=[];function Vm(){for(var s=0;s<Mm.length;s++)Mm[s]._workInProgressVersionPrimary=null;Mm.length=0}var wf=j.ReactCurrentDispatcher,Um=j.ReactCurrentBatchConfig,pa=0,Gt=null,pn=null,Tn=null,Ef=!1,uu=!1,du=0,k1=0;function Fn(){throw Error(t(321))}function $m(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!pi(s[c],a[c]))return!1;return!0}function Fm(s,a,c,h,g,_){if(pa=_,Gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,wf.current=s===null||s.memoizedState===null?x1:O1,s=c(h,g),uu){_=0;do{if(uu=!1,du=0,25<=_)throw Error(t(301));_+=1,Tn=pn=null,a.updateQueue=null,wf.current=L1,s=c(h,g)}while(uu)}if(wf.current=Sf,a=pn!==null&&pn.next!==null,pa=0,Tn=pn=Gt=null,Ef=!1,a)throw Error(t(300));return s}function jm(){var s=du!==0;return du=0,s}function Bi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Gt.memoizedState=Tn=s:Tn=Tn.next=s,Tn}function Gr(){if(pn===null){var s=Gt.alternate;s=s!==null?s.memoizedState:null}else s=pn.next;var a=Tn===null?Gt.memoizedState:Tn.next;if(a!==null)Tn=a,pn=s;else{if(s===null)throw Error(t(310));pn=s,s={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Tn===null?Gt.memoizedState=Tn=s:Tn=Tn.next=s}return Tn}function fu(s,a){return typeof a=="function"?a(s):a}function Bm(s){var a=Gr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=pn,g=h.baseQueue,_=c.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}h.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,h=h.baseState;var $=A=null,H=null,Z=_;do{var ue=Z.lane;if((pa&ue)===ue)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),h=Z.hasEagerState?Z.eagerState:s(h,Z.action);else{var fe={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?($=H=fe,A=h):H=H.next=fe,Gt.lanes|=ue,ma|=ue}Z=Z.next}while(Z!==null&&Z!==_);H===null?A=h:H.next=$,pi(h,a.memoizedState)||(pr=!0),a.memoizedState=h,a.baseState=A,a.baseQueue=H,c.lastRenderedState=h}if(s=c.interleaved,s!==null){g=s;do _=g.lane,Gt.lanes|=_,ma|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Hm(s){var a=Gr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do _=s(_,A.action),A=A.next;while(A!==g);pi(_,a.memoizedState)||(pr=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,h]}function fE(){}function hE(s,a){var c=Gt,h=Gr(),g=a(),_=!pi(h.memoizedState,g);if(_&&(h.memoizedState=g,pr=!0),h=h.queue,zm(gE.bind(null,c,h,s),[s]),h.getSnapshot!==a||_||Tn!==null&&Tn.memoizedState.tag&1){if(c.flags|=2048,hu(9,mE.bind(null,c,h,g,a),void 0,null),In===null)throw Error(t(349));(pa&30)!==0||pE(c,a,g)}return g}function pE(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Gt.updateQueue,a===null?(a={lastEffect:null,stores:null},Gt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function mE(s,a,c,h){a.value=c,a.getSnapshot=h,yE(a)&&vE(s)}function gE(s,a,c){return c(function(){yE(a)&&vE(s)})}function yE(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!pi(s,c)}catch{return!0}}function vE(s){var a=ds(s,1);a!==null&&_i(a,s,1,-1)}function _E(s){var a=Bi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:s},a.queue=s,s=s.dispatch=D1.bind(null,Gt,s),[a.memoizedState,s]}function hu(s,a,c,h){return s={tag:s,create:a,destroy:c,deps:h,next:null},a=Gt.updateQueue,a===null?(a={lastEffect:null,stores:null},Gt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s)),s}function wE(){return Gr().memoizedState}function Tf(s,a,c,h){var g=Bi();Gt.flags|=s,g.memoizedState=hu(1|a,c,void 0,h===void 0?null:h)}function If(s,a,c,h){var g=Gr();h=h===void 0?null:h;var _=void 0;if(pn!==null){var A=pn.memoizedState;if(_=A.destroy,h!==null&&$m(h,A.deps)){g.memoizedState=hu(a,c,_,h);return}}Gt.flags|=s,g.memoizedState=hu(1|a,c,_,h)}function EE(s,a){return Tf(8390656,8,s,a)}function zm(s,a){return If(2048,8,s,a)}function TE(s,a){return If(4,2,s,a)}function IE(s,a){return If(4,4,s,a)}function SE(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function CE(s,a,c){return c=c!=null?c.concat([s]):null,If(4,4,SE.bind(null,a,s),c)}function Wm(){}function bE(s,a){var c=Gr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&$m(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function AE(s,a){var c=Gr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&$m(a,h[1])?h[0]:(s=s(),c.memoizedState=[s,a],s)}function RE(s,a,c){return(pa&21)===0?(s.baseState&&(s.baseState=!1,pr=!0),s.memoizedState=c):(pi(c,a)||(c=ra(),Gt.lanes|=c,ma|=c,s.baseState=!0),a)}function N1(s,a){var c=yt;yt=c!==0&&4>c?c:4,s(!0);var h=Um.transition;Um.transition={};try{s(!1),a()}finally{yt=c,Um.transition=h}}function kE(){return Gr().memoizedState}function P1(s,a,c){var h=fo(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},NE(s))PE(a,c);else if(c=aE(s,a,c,h),c!==null){var g=er();_i(c,s,h,g),DE(c,a,h)}}function D1(s,a,c){var h=fo(s),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(NE(s))PE(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var A=a.lastRenderedState,$=_(A,c);if(g.hasEagerState=!0,g.eagerState=$,pi($,A)){var H=a.interleaved;H===null?(g.next=g,Dm(a)):(g.next=H.next,H.next=g),a.interleaved=g;return}}catch{}finally{}c=aE(s,a,g,h),c!==null&&(g=er(),_i(c,s,h,g),DE(c,a,h))}}function NE(s){var a=s.alternate;return s===Gt||a!==null&&a===Gt}function PE(s,a){uu=Ef=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function DE(s,a,c){if((c&4194240)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Ys(s,c)}}var Sf={readContext:Kr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},x1={readContext:Kr,useCallback:function(s,a){return Bi().memoizedState=[s,a===void 0?null:a],s},useContext:Kr,useEffect:EE,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Tf(4194308,4,SE.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Tf(4194308,4,s,a)},useInsertionEffect:function(s,a){return Tf(4,2,s,a)},useMemo:function(s,a){var c=Bi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var h=Bi();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},h.queue=s,s=s.dispatch=P1.bind(null,Gt,s),[h.memoizedState,s]},useRef:function(s){var a=Bi();return s={current:s},a.memoizedState=s},useState:_E,useDebugValue:Wm,useDeferredValue:function(s){return Bi().memoizedState=s},useTransition:function(){var s=_E(!1),a=s[0];return s=N1.bind(null,s[1]),Bi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var h=Gt,g=Bi();if(jt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),In===null)throw Error(t(349));(pa&30)!==0||pE(h,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,EE(gE.bind(null,h,_,s),[s]),h.flags|=2048,hu(9,mE.bind(null,h,_,c,a),void 0,null),c},useId:function(){var s=Bi(),a=In.identifierPrefix;if(jt){var c=us,h=cs;c=(h&~(1<<32-ht(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=du++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=k1++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},O1={readContext:Kr,useCallback:bE,useContext:Kr,useEffect:zm,useImperativeHandle:CE,useInsertionEffect:TE,useLayoutEffect:IE,useMemo:AE,useReducer:Bm,useRef:wE,useState:function(){return Bm(fu)},useDebugValue:Wm,useDeferredValue:function(s){var a=Gr();return RE(a,pn.memoizedState,s)},useTransition:function(){var s=Bm(fu)[0],a=Gr().memoizedState;return[s,a]},useMutableSource:fE,useSyncExternalStore:hE,useId:kE,unstable_isNewReconciler:!1},L1={readContext:Kr,useCallback:bE,useContext:Kr,useEffect:zm,useImperativeHandle:CE,useInsertionEffect:TE,useLayoutEffect:IE,useMemo:AE,useReducer:Hm,useRef:wE,useState:function(){return Hm(fu)},useDebugValue:Wm,useDeferredValue:function(s){var a=Gr();return pn===null?a.memoizedState=s:RE(a,pn.memoizedState,s)},useTransition:function(){var s=Hm(fu)[0],a=Gr().memoizedState;return[s,a]},useMutableSource:fE,useSyncExternalStore:hE,useId:kE,unstable_isNewReconciler:!1};function gi(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function qm(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:ce({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Cf={isMounted:function(s){return(s=s._reactInternals)?xe(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var h=er(),g=fo(s),_=fs(h,g);_.payload=a,c!=null&&(_.callback=c),a=ao(s,_,g),a!==null&&(_i(a,s,g,h),yf(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=er(),g=fo(s),_=fs(h,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=ao(s,_,g),a!==null&&(_i(a,s,g,h),yf(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=er(),h=fo(s),g=fs(c,h);g.tag=2,a!=null&&(g.callback=a),a=ao(s,g,h),a!==null&&(_i(a,s,h,c),yf(a,s,h))}};function xE(s,a,c,h,g,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,A):a.prototype&&a.prototype.isPureReactComponent?!Zc(c,h)||!Zc(g,_):!0}function OE(s,a,c){var h=!1,g=io,_=a.contextType;return typeof _=="object"&&_!==null?_=Kr(_):(g=hr(a)?ca:$n.current,h=a.contextTypes,_=(h=h!=null)?Tl(s,g):io),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Cf,s.stateNode=a,a._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function LE(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Cf.enqueueReplaceState(a,a.state,null)}function Km(s,a,c,h){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},xm(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Kr(_):(_=hr(a)?ca:$n.current,g.context=Tl(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(qm(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Cf.enqueueReplaceState(g,g.state,null),vf(s,c,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Nl(s,a){try{var c="",h=a;do c+=Ie(h),h=h.return;while(h);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Gm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Qm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var M1=typeof WeakMap=="function"?WeakMap:Map;function ME(s,a,c){c=fs(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Df||(Df=!0,ug=h),Qm(s,a)},c}function VE(s,a,c){c=fs(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;c.payload=function(){return h(g)},c.callback=function(){Qm(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Qm(s,a),typeof h!="function"&&(co===null?co=new Set([this]):co.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function UE(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new M1;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(g.add(c),s=Y1.bind(null,s,a,c),a.then(s,s))}function $E(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function FE(s,a,c,h,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=fs(-1,1),a.tag=2,ao(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var V1=j.ReactCurrentOwner,pr=!1;function Zn(s,a,c,h){a.child=s===null?oE(a,null,c,h):bl(a,s.child,c,h)}function jE(s,a,c,h,g){c=c.render;var _=a.ref;return Rl(a,g),h=Fm(s,a,c,h,_,g),c=jm(),s!==null&&!pr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,hs(s,a,g)):(jt&&c&&Im(a),a.flags|=1,Zn(s,a,h,g),a.child)}function BE(s,a,c,h,g){if(s===null){var _=c.type;return typeof _=="function"&&!yg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,HE(s,a,_,h,g)):(s=Uf(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:Zc,c(A,h)&&s.ref===a.ref)return hs(s,a,g)}return a.flags|=1,s=po(_,h),s.ref=a.ref,s.return=a,a.child=s}function HE(s,a,c,h,g){if(s!==null){var _=s.memoizedProps;if(Zc(_,h)&&s.ref===a.ref)if(pr=!1,a.pendingProps=h=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(pr=!0);else return a.lanes=s.lanes,hs(s,a,g)}return Ym(s,a,c,h,g)}function zE(s,a,c){var h=a.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Dl,Nr),Nr|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Mt(Dl,Nr),Nr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:c,Mt(Dl,Nr),Nr|=h}else _!==null?(h=_.baseLanes|c,a.memoizedState=null):h=c,Mt(Dl,Nr),Nr|=h;return Zn(s,a,g,c),a.child}function WE(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ym(s,a,c,h,g){var _=hr(c)?ca:$n.current;return _=Tl(a,_),Rl(a,g),c=Fm(s,a,c,h,_,g),h=jm(),s!==null&&!pr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,hs(s,a,g)):(jt&&h&&Im(a),a.flags|=1,Zn(s,a,c,g),a.child)}function qE(s,a,c,h,g){if(hr(c)){var _=!0;cf(a)}else _=!1;if(Rl(a,g),a.stateNode===null)Af(s,a),OE(a,c,h),Km(a,c,h,g),h=!0;else if(s===null){var A=a.stateNode,$=a.memoizedProps;A.props=$;var H=A.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Kr(Z):(Z=hr(c)?ca:$n.current,Z=Tl(a,Z));var ue=c.getDerivedStateFromProps,fe=typeof ue=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==h||H!==Z)&&LE(a,A,h,Z),oo=!1;var le=a.memoizedState;A.state=le,vf(a,h,A,g),H=a.memoizedState,$!==h||le!==H||fr.current||oo?(typeof ue=="function"&&(qm(a,c,ue,h),H=a.memoizedState),($=oo||xE(a,c,$,h,le,H,Z))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=H),A.props=h,A.state=H,A.context=Z,h=$):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{A=a.stateNode,lE(s,a),$=a.memoizedProps,Z=a.type===a.elementType?$:gi(a.type,$),A.props=Z,fe=a.pendingProps,le=A.context,H=c.contextType,typeof H=="object"&&H!==null?H=Kr(H):(H=hr(c)?ca:$n.current,H=Tl(a,H));var be=c.getDerivedStateFromProps;(ue=typeof be=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==fe||le!==H)&&LE(a,A,h,H),oo=!1,le=a.memoizedState,A.state=le,vf(a,h,A,g);var Me=a.memoizedState;$!==fe||le!==Me||fr.current||oo?(typeof be=="function"&&(qm(a,c,be,h),Me=a.memoizedState),(Z=oo||xE(a,c,Z,h,le,Me,H)||!1)?(ue||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Me,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Me,H)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Me),A.props=h,A.state=Me,A.context=H,h=Z):(typeof A.componentDidUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&le===s.memoizedState||(a.flags|=1024),h=!1)}return Xm(s,a,c,h,_,g)}function Xm(s,a,c,h,g,_){WE(s,a);var A=(a.flags&128)!==0;if(!h&&!A)return g&&Xw(a,c,!1),hs(s,a,_);h=a.stateNode,V1.current=a;var $=A&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,s!==null&&A?(a.child=bl(a,s.child,null,_),a.child=bl(a,null,$,_)):Zn(s,a,$,_),a.memoizedState=h.state,g&&Xw(a,c,!0),a.child}function KE(s){var a=s.stateNode;a.pendingContext?Qw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Qw(s,a.context,!1),Om(s,a.containerInfo)}function GE(s,a,c,h,g){return Cl(),Am(g),a.flags|=256,Zn(s,a,c,h),a.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Zm(s){return{baseLanes:s,cachePool:null,transitions:null}}function QE(s,a,c){var h=a.pendingProps,g=Kt.current,_=!1,A=(a.flags&128)!==0,$;if(($=A)||($=s!==null&&s.memoizedState===null?!1:(g&2)!==0),$?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Mt(Kt,g&1),s===null)return bm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=h.children,s=h.fallback,_?(h=a.mode,_=a.child,A={mode:"hidden",children:A},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=$f(A,h,0,null),s=_a(s,h,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Zm(c),a.memoizedState=Jm,s):eg(a,A));if(g=s.memoizedState,g!==null&&($=g.dehydrated,$!==null))return U1(s,a,A,h,$,g,c);if(_){_=h.fallback,A=a.mode,g=s.child,$=g.sibling;var H={mode:"hidden",children:h.children};return(A&1)===0&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=H,a.deletions=null):(h=po(g,H),h.subtreeFlags=g.subtreeFlags&14680064),$!==null?_=po($,_):(_=_a(_,A,c,null),_.flags|=2),_.return=a,h.return=a,h.sibling=_,a.child=h,h=_,_=a.child,A=s.child.memoizedState,A=A===null?Zm(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=s.childLanes&~c,a.memoizedState=Jm,h}return _=s.child,s=_.sibling,h=po(_,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=h,a.memoizedState=null,h}function eg(s,a){return a=$f({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function bf(s,a,c,h){return h!==null&&Am(h),bl(a,s.child,null,c),s=eg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function U1(s,a,c,h,g,_,A){if(c)return a.flags&256?(a.flags&=-257,h=Gm(Error(t(422))),bf(s,a,A,h)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=h.fallback,g=a.mode,h=$f({mode:"visible",children:h.children},g,0,null),_=_a(_,g,A,null),_.flags|=2,h.return=a,_.return=a,h.sibling=_,a.child=h,(a.mode&1)!==0&&bl(a,s.child,null,A),a.child.memoizedState=Zm(A),a.memoizedState=Jm,_);if((a.mode&1)===0)return bf(s,a,A,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var $=h.dgst;return h=$,_=Error(t(419)),h=Gm(_,h,void 0),bf(s,a,A,h)}if($=(A&s.childLanes)!==0,pr||$){if(h=In,h!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|A))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,ds(s,g),_i(h,s,g,-1))}return gg(),h=Gm(Error(t(421))),bf(s,a,A,h)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=X1.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,kr=no(g.nextSibling),Rr=a,jt=!0,mi=null,s!==null&&(Wr[qr++]=cs,Wr[qr++]=us,Wr[qr++]=ua,cs=s.id,us=s.overflow,ua=a),a=eg(a,h.children),a.flags|=4096,a)}function YE(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),Pm(s.return,a,c)}function tg(s,a,c,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=c,_.tailMode=g)}function XE(s,a,c){var h=a.pendingProps,g=h.revealOrder,_=h.tail;if(Zn(s,a,h.children,c),h=Kt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&YE(s,c,a);else if(s.tag===19)YE(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Mt(Kt,h),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&_f(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),tg(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&_f(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}tg(a,!0,c,null,_);break;case"together":tg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Af(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function hs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),ma|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=po(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=po(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function $1(s,a,c){switch(a.tag){case 3:KE(a),Cl();break;case 5:dE(a);break;case 1:hr(a.type)&&cf(a);break;case 4:Om(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;Mt(mf,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(Mt(Kt,Kt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?QE(s,a,c):(Mt(Kt,Kt.current&1),s=hs(s,a,c),s!==null?s.sibling:null);Mt(Kt,Kt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(s.flags&128)!==0){if(h)return XE(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Mt(Kt,Kt.current),h)break;return null;case 22:case 23:return a.lanes=0,zE(s,a,c)}return hs(s,a,c)}var JE,ng,ZE,e0;JE=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ng=function(){},ZE=function(s,a,c,h){var g=s.memoizedProps;if(g!==h){s=a.stateNode,ha(ji.current);var _=null;switch(c){case"input":g=Yt(s,g),h=Yt(s,h),_=[];break;case"select":g=ce({},g,{value:void 0}),h=ce({},h,{value:void 0}),_=[];break;case"textarea":g=or(s,g),h=or(s,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=of)}Ri(c,h);var A;c=null;for(Z in g)if(!h.hasOwnProperty(Z)&&g.hasOwnProperty(Z)&&g[Z]!=null)if(Z==="style"){var $=g[Z];for(A in $)$.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in h){var H=h[Z];if($=g!=null?g[Z]:void 0,h.hasOwnProperty(Z)&&H!==$&&(H!=null||$!=null))if(Z==="style")if($){for(A in $)!$.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in H)H.hasOwnProperty(A)&&$[A]!==H[A]&&(c||(c={}),c[A]=H[A])}else c||(_||(_=[]),_.push(Z,c)),c=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,$=$?$.__html:void 0,H!=null&&$!==H&&(_=_||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&Vt("scroll",s),_||$===H||(_=[])):(_=_||[]).push(Z,H))}c&&(_=_||[]).push("style",c);var Z=_;(a.updateQueue=Z)&&(a.flags|=4)}},e0=function(s,a,c,h){c!==h&&(a.flags|=4)};function pu(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function jn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function F1(s,a,c){var h=a.pendingProps;switch(Sm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(a),null;case 1:return hr(a.type)&&lf(),jn(a),null;case 3:return h=a.stateNode,kl(),Ut(fr),Ut($n),Vm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(hf(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mi!==null&&(hg(mi),mi=null))),ng(s,a),jn(a),null;case 5:Lm(a);var g=ha(cu.current);if(c=a.type,s!==null&&a.stateNode!=null)ZE(s,a,c,h,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(t(166));return jn(a),null}if(s=ha(ji.current),hf(a)){h=a.stateNode,c=a.type;var _=a.memoizedProps;switch(h[Fi]=a,h[iu]=_,s=(a.mode&1)!==0,c){case"dialog":Vt("cancel",h),Vt("close",h);break;case"iframe":case"object":case"embed":Vt("load",h);break;case"video":case"audio":for(g=0;g<tu.length;g++)Vt(tu[g],h);break;case"source":Vt("error",h);break;case"img":case"image":case"link":Vt("error",h),Vt("load",h);break;case"details":Vt("toggle",h);break;case"input":it(h,_),Vt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Vt("invalid",h);break;case"textarea":Mn(h,_),Vt("invalid",h)}Ri(c,_),g=null;for(var A in _)if(_.hasOwnProperty(A)){var $=_[A];A==="children"?typeof $=="string"?h.textContent!==$&&(_.suppressHydrationWarning!==!0&&sf(h.textContent,$,s),g=["children",$]):typeof $=="number"&&h.textContent!==""+$&&(_.suppressHydrationWarning!==!0&&sf(h.textContent,$,s),g=["children",""+$]):i.hasOwnProperty(A)&&$!=null&&A==="onScroll"&&Vt("scroll",h)}switch(c){case"input":Ct(h),Fr(h,_,!0);break;case"textarea":Ct(h),fn(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=of)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=A.createElement(c,{is:h.is}):(s=A.createElement(c),c==="select"&&(A=s,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):s=A.createElementNS(s,c),s[Fi]=a,s[iu]=h,JE(s,a,!1,!1),a.stateNode=s;e:{switch(A=Jo(c,h),c){case"dialog":Vt("cancel",s),Vt("close",s),g=h;break;case"iframe":case"object":case"embed":Vt("load",s),g=h;break;case"video":case"audio":for(g=0;g<tu.length;g++)Vt(tu[g],s);g=h;break;case"source":Vt("error",s),g=h;break;case"img":case"image":case"link":Vt("error",s),Vt("load",s),g=h;break;case"details":Vt("toggle",s),g=h;break;case"input":it(s,h),g=Yt(s,h),Vt("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ce({},h,{value:void 0}),Vt("invalid",s);break;case"textarea":Mn(s,h),g=or(s,h),Vt("invalid",s);break;default:g=h}Ri(c,g),$=g;for(_ in $)if($.hasOwnProperty(_)){var H=$[_];_==="style"?wn(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&_n(s,H)):_==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Yn(s,H):typeof H=="number"&&Yn(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?H!=null&&_==="onScroll"&&Vt("scroll",s):H!=null&&V(s,_,H,A))}switch(c){case"input":Ct(s),Fr(s,h,!1);break;case"textarea":Ct(s),fn(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Be(h.value));break;case"select":s.multiple=!!h.multiple,_=h.value,_!=null?rn(s,!!h.multiple,_,!1):h.defaultValue!=null&&rn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=of)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return jn(a),null;case 6:if(s&&a.stateNode!=null)e0(s,a,s.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(t(166));if(c=ha(cu.current),ha(ji.current),hf(a)){if(h=a.stateNode,c=a.memoizedProps,h[Fi]=a,(_=h.nodeValue!==c)&&(s=Rr,s!==null))switch(s.tag){case 3:sf(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&sf(h.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Fi]=a,a.stateNode=h}return jn(a),null;case 13:if(Ut(Kt),h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(jt&&kr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)rE(),Cl(),a.flags|=98560,_=!1;else if(_=hf(a),h!==null&&h.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Fi]=a}else Cl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;jn(a),_=!1}else mi!==null&&(hg(mi),mi=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Kt.current&1)!==0?mn===0&&(mn=3):gg())),a.updateQueue!==null&&(a.flags|=4),jn(a),null);case 4:return kl(),ng(s,a),s===null&&nu(a.stateNode.containerInfo),jn(a),null;case 10:return Nm(a.type._context),jn(a),null;case 17:return hr(a.type)&&lf(),jn(a),null;case 19:if(Ut(Kt),_=a.memoizedState,_===null)return jn(a),null;if(h=(a.flags&128)!==0,A=_.rendering,A===null)if(h)pu(_,!1);else{if(mn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(A=_f(s),A!==null){for(a.flags|=128,pu(_,!1),h=A.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)_=c,s=h,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,s=A.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Mt(Kt,Kt.current&1|2),a.child}s=s.sibling}_.tail!==null&&dt()>xl&&(a.flags|=128,h=!0,pu(_,!1),a.lanes=4194304)}else{if(!h)if(s=_f(A),s!==null){if(a.flags|=128,h=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),pu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!jt)return jn(a),null}else 2*dt()-_.renderingStartTime>xl&&c!==1073741824&&(a.flags|=128,h=!0,pu(_,!1),a.lanes=4194304);_.isBackwards?(A.sibling=a.child,a.child=A):(c=_.last,c!==null?c.sibling=A:a.child=A,_.last=A)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=dt(),a.sibling=null,c=Kt.current,Mt(Kt,h?c&1|2:c&1),a):(jn(a),null);case 22:case 23:return mg(),h=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Nr&1073741824)!==0&&(jn(a),a.subtreeFlags&6&&(a.flags|=8192)):jn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function j1(s,a){switch(Sm(a),a.tag){case 1:return hr(a.type)&&lf(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return kl(),Ut(fr),Ut($n),Vm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Lm(a),null;case 13:if(Ut(Kt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Cl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ut(Kt),null;case 4:return kl(),null;case 10:return Nm(a.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var Rf=!1,Bn=!1,B1=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Pl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Jt(s,a,h)}else c.current=null}function rg(s,a,c){try{c()}catch(h){Jt(s,a,h)}}var t0=!1;function H1(s,a){if(mm=Zs,s=xw(),am(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,$=-1,H=-1,Z=0,ue=0,fe=s,le=null;t:for(;;){for(var be;fe!==c||g!==0&&fe.nodeType!==3||($=A+g),fe!==_||h!==0&&fe.nodeType!==3||(H=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(be=fe.firstChild)!==null;)le=fe,fe=be;for(;;){if(fe===s)break t;if(le===c&&++Z===g&&($=A),le===_&&++ue===h&&(H=A),(be=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=be}c=$===-1||H===-1?null:{start:$,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(gm={focusedElem:s,selectionRange:c},Zs=!1,Oe=a;Oe!==null;)if(a=Oe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Oe=s;else for(;Oe!==null;){a=Oe;try{var Me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,Zt=Me.memoizedState,Y=a.stateNode,W=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ve:gi(a.type,Ve),Zt);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var X=a.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Jt(a,a.return,he)}if(s=a.sibling,s!==null){s.return=a.return,Oe=s;break}Oe=a.return}return Me=t0,t0=!1,Me}function mu(s,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&rg(a,c,_)}g=g.next}while(g!==h)}}function kf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function ig(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function n0(s){var a=s.alternate;a!==null&&(s.alternate=null,n0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Fi],delete a[iu],delete a[wm],delete a[C1],delete a[b1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function r0(s){return s.tag===5||s.tag===3||s.tag===4}function i0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||r0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sg(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=of));else if(h!==4&&(s=s.child,s!==null))for(sg(s,a,c),s=s.sibling;s!==null;)sg(s,a,c),s=s.sibling}function og(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(og(s,a,c),s=s.sibling;s!==null;)og(s,a,c),s=s.sibling}var Nn=null,yi=!1;function lo(s,a,c){for(c=c.child;c!==null;)s0(s,a,c),c=c.sibling}function s0(s,a,c){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(bt,c)}catch{}switch(c.tag){case 5:Bn||Pl(c,a);case 6:var h=Nn,g=yi;Nn=null,lo(s,a,c),Nn=h,yi=g,Nn!==null&&(yi?(s=Nn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Nn.removeChild(c.stateNode));break;case 18:Nn!==null&&(yi?(s=Nn,c=c.stateNode,s.nodeType===8?_m(s.parentNode,c):s.nodeType===1&&_m(s,c),fi(s)):_m(Nn,c.stateNode));break;case 4:h=Nn,g=yi,Nn=c.stateNode.containerInfo,yi=!0,lo(s,a,c),Nn=h,yi=g;break;case 0:case 11:case 14:case 15:if(!Bn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&rg(c,a,A),g=g.next}while(g!==h)}lo(s,a,c);break;case 1:if(!Bn&&(Pl(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch($){Jt(c,a,$)}lo(s,a,c);break;case 21:lo(s,a,c);break;case 22:c.mode&1?(Bn=(h=Bn)||c.memoizedState!==null,lo(s,a,c),Bn=h):lo(s,a,c);break;default:lo(s,a,c)}}function o0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new B1),a.forEach(function(h){var g=J1.bind(null,s,h);c.has(h)||(c.add(h),h.then(g,g))})}}function vi(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var _=s,A=a,$=A;e:for(;$!==null;){switch($.tag){case 5:Nn=$.stateNode,yi=!1;break e;case 3:Nn=$.stateNode.containerInfo,yi=!0;break e;case 4:Nn=$.stateNode.containerInfo,yi=!0;break e}$=$.return}if(Nn===null)throw Error(t(160));s0(_,A,g),Nn=null,yi=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(Z){Jt(g,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)a0(a,s),a=a.sibling}function a0(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(vi(a,s),Hi(s),h&4){try{mu(3,s,s.return),kf(3,s)}catch(Ve){Jt(s,s.return,Ve)}try{mu(5,s,s.return)}catch(Ve){Jt(s,s.return,Ve)}}break;case 1:vi(a,s),Hi(s),h&512&&c!==null&&Pl(c,c.return);break;case 5:if(vi(a,s),Hi(s),h&512&&c!==null&&Pl(c,c.return),s.flags&32){var g=s.stateNode;try{Yn(g,"")}catch(Ve){Jt(s,s.return,Ve)}}if(h&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,A=c!==null?c.memoizedProps:_,$=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{$==="input"&&_.type==="radio"&&_.name!=null&&zt(g,_),Jo($,A);var Z=Jo($,_);for(A=0;A<H.length;A+=2){var ue=H[A],fe=H[A+1];ue==="style"?wn(g,fe):ue==="dangerouslySetInnerHTML"?_n(g,fe):ue==="children"?Yn(g,fe):V(g,ue,fe,Z)}switch($){case"input":vn(g,_);break;case"textarea":Ot(g,_);break;case"select":var le=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var be=_.value;be!=null?rn(g,!!_.multiple,be,!1):le!==!!_.multiple&&(_.defaultValue!=null?rn(g,!!_.multiple,_.defaultValue,!0):rn(g,!!_.multiple,_.multiple?[]:"",!1))}g[iu]=_}catch(Ve){Jt(s,s.return,Ve)}}break;case 6:if(vi(a,s),Hi(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(Ve){Jt(s,s.return,Ve)}}break;case 3:if(vi(a,s),Hi(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{fi(a.containerInfo)}catch(Ve){Jt(s,s.return,Ve)}break;case 4:vi(a,s),Hi(s);break;case 13:vi(a,s),Hi(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(cg=dt())),h&4&&o0(s);break;case 22:if(ue=c!==null&&c.memoizedState!==null,s.mode&1?(Bn=(Z=Bn)||ue,vi(a,s),Bn=Z):vi(a,s),Hi(s),h&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ue&&(s.mode&1)!==0)for(Oe=s,ue=s.child;ue!==null;){for(fe=Oe=ue;Oe!==null;){switch(le=Oe,be=le.child,le.tag){case 0:case 11:case 14:case 15:mu(4,le,le.return);break;case 1:Pl(le,le.return);var Me=le.stateNode;if(typeof Me.componentWillUnmount=="function"){h=le,c=le.return;try{a=h,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(Ve){Jt(h,c,Ve)}}break;case 5:Pl(le,le.return);break;case 22:if(le.memoizedState!==null){u0(fe);continue}}be!==null?(be.return=le,Oe=be):u0(fe)}ue=ue.sibling}e:for(ue=null,fe=s;;){if(fe.tag===5){if(ue===null){ue=fe;try{g=fe.stateNode,Z?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):($=fe.stateNode,H=fe.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,$.style.display=at("display",A))}catch(Ve){Jt(s,s.return,Ve)}}}else if(fe.tag===6){if(ue===null)try{fe.stateNode.nodeValue=Z?"":fe.memoizedProps}catch(Ve){Jt(s,s.return,Ve)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ue===fe&&(ue=null),fe=fe.return}ue===fe&&(ue=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:vi(a,s),Hi(s),h&4&&o0(s);break;case 21:break;default:vi(a,s),Hi(s)}}function Hi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(r0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Yn(g,""),h.flags&=-33);var _=i0(s);og(s,_,g);break;case 3:case 4:var A=h.stateNode.containerInfo,$=i0(s);sg(s,$,A);break;default:throw Error(t(161))}}catch(H){Jt(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function z1(s,a,c){Oe=s,l0(s)}function l0(s,a,c){for(var h=(s.mode&1)!==0;Oe!==null;){var g=Oe,_=g.child;if(g.tag===22&&h){var A=g.memoizedState!==null||Rf;if(!A){var $=g.alternate,H=$!==null&&$.memoizedState!==null||Bn;$=Rf;var Z=Bn;if(Rf=A,(Bn=H)&&!Z)for(Oe=g;Oe!==null;)A=Oe,H=A.child,A.tag===22&&A.memoizedState!==null?d0(g):H!==null?(H.return=A,Oe=H):d0(g);for(;_!==null;)Oe=_,l0(_),_=_.sibling;Oe=g,Rf=$,Bn=Z}c0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Oe=_):c0(s)}}function c0(s){for(;Oe!==null;){var a=Oe;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Bn||kf(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Bn)if(c===null)h.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:gi(a.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&uE(a,_,h);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}uE(a,A,c)}break;case 5:var $=a.stateNode;if(c===null&&a.flags&4){c=$;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var fe=ue.dehydrated;fe!==null&&fi(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bn||a.flags&512&&ig(a)}catch(le){Jt(a,a.return,le)}}if(a===s){Oe=null;break}if(c=a.sibling,c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function u0(s){for(;Oe!==null;){var a=Oe;if(a===s){Oe=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Oe=c;break}Oe=a.return}}function d0(s){for(;Oe!==null;){var a=Oe;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{kf(4,a)}catch(H){Jt(a,c,H)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(H){Jt(a,g,H)}}var _=a.return;try{ig(a)}catch(H){Jt(a,_,H)}break;case 5:var A=a.return;try{ig(a)}catch(H){Jt(a,A,H)}}}catch(H){Jt(a,a.return,H)}if(a===s){Oe=null;break}var $=a.sibling;if($!==null){$.return=a.return,Oe=$;break}Oe=a.return}}var W1=Math.ceil,Nf=j.ReactCurrentDispatcher,ag=j.ReactCurrentOwner,Qr=j.ReactCurrentBatchConfig,Et=0,In=null,an=null,Pn=0,Nr=0,Dl=ro(0),mn=0,gu=null,ma=0,Pf=0,lg=0,yu=null,mr=null,cg=0,xl=1/0,ps=null,Df=!1,ug=null,co=null,xf=!1,uo=null,Of=0,vu=0,dg=null,Lf=-1,Mf=0;function er(){return(Et&6)!==0?dt():Lf!==-1?Lf:Lf=dt()}function fo(s){return(s.mode&1)===0?1:(Et&2)!==0&&Pn!==0?Pn&-Pn:R1.transition!==null?(Mf===0&&(Mf=ra()),Mf):(s=yt,s!==0||(s=window.event,s=s===void 0?16:qc(s.type)),s)}function _i(s,a,c,h){if(50<vu)throw vu=0,dg=null,Error(t(185));Qs(s,c,h),((Et&2)===0||s!==In)&&(s===In&&((Et&2)===0&&(Pf|=c),mn===4&&ho(s,Pn)),gr(s,h),c===1&&Et===0&&(a.mode&1)===0&&(xl=dt()+500,uf&&so()))}function gr(s,a){var c=s.callbackNode;ns(s,a);var h=na(s,s===In?Pn:0);if(h===0)c!==null&&jr(c),s.callbackNode=null,s.callbackPriority=0;else if(a=h&-h,s.callbackPriority!==a){if(c!=null&&jr(c),a===1)s.tag===0?A1(h0.bind(null,s)):Jw(h0.bind(null,s)),I1(function(){(Et&6)===0&&so()}),c=null;else{switch(Xs(h)){case 1:c=Sr;break;case 4:c=Un;break;case 16:c=An;break;case 536870912:c=ft;break;default:c=An}c=E0(c,f0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function f0(s,a){if(Lf=-1,Mf=0,(Et&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ol()&&s.callbackNode!==c)return null;var h=na(s,s===In?Pn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||a)a=Vf(s,h);else{a=h;var g=Et;Et|=2;var _=m0();(In!==s||Pn!==a)&&(ps=null,xl=dt()+500,ya(s,a));do try{G1();break}catch($){p0(s,$)}while(!0);km(),Nf.current=_,Et=g,an!==null?a=0:(In=null,Pn=0,a=mn)}if(a!==0){if(a===2&&(g=Cr(s),g!==0&&(h=g,a=fg(s,g))),a===1)throw c=gu,ya(s,0),ho(s,h),gr(s,dt()),c;if(a===6)ho(s,h);else{if(g=s.current.alternate,(h&30)===0&&!q1(g)&&(a=Vf(s,h),a===2&&(_=Cr(s),_!==0&&(h=_,a=fg(s,_))),a===1))throw c=gu,ya(s,0),ho(s,h),gr(s,dt()),c;switch(s.finishedWork=g,s.finishedLanes=h,a){case 0:case 1:throw Error(t(345));case 2:va(s,mr,ps);break;case 3:if(ho(s,h),(h&130023424)===h&&(a=cg+500-dt(),10<a)){if(na(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){er(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=vm(va.bind(null,s,mr,ps),a);break}va(s,mr,ps);break;case 4:if(ho(s,h),(h&4194240)===h)break;for(a=s.eventTimes,g=-1;0<h;){var A=31-ht(h);_=1<<A,A=a[A],A>g&&(g=A),h&=~_}if(h=g,h=dt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*W1(h/1960))-h,10<h){s.timeoutHandle=vm(va.bind(null,s,mr,ps),h);break}va(s,mr,ps);break;case 5:va(s,mr,ps);break;default:throw Error(t(329))}}}return gr(s,dt()),s.callbackNode===c?f0.bind(null,s):null}function fg(s,a){var c=yu;return s.current.memoizedState.isDehydrated&&(ya(s,a).flags|=256),s=Vf(s,a),s!==2&&(a=mr,mr=c,a!==null&&hg(a)),s}function hg(s){mr===null?mr=s:mr.push.apply(mr,s)}function q1(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],_=g.getSnapshot;g=g.value;try{if(!pi(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ho(s,a){for(a&=~lg,a&=~Pf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-ht(a),h=1<<c;s[c]=-1,a&=~h}}function h0(s){if((Et&6)!==0)throw Error(t(327));Ol();var a=na(s,0);if((a&1)===0)return gr(s,dt()),null;var c=Vf(s,a);if(s.tag!==0&&c===2){var h=Cr(s);h!==0&&(a=h,c=fg(s,h))}if(c===1)throw c=gu,ya(s,0),ho(s,a),gr(s,dt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,va(s,mr,ps),gr(s,dt()),null}function pg(s,a){var c=Et;Et|=1;try{return s(a)}finally{Et=c,Et===0&&(xl=dt()+500,uf&&so())}}function ga(s){uo!==null&&uo.tag===0&&(Et&6)===0&&Ol();var a=Et;Et|=1;var c=Qr.transition,h=yt;try{if(Qr.transition=null,yt=1,s)return s()}finally{yt=h,Qr.transition=c,Et=a,(Et&6)===0&&so()}}function mg(){Nr=Dl.current,Ut(Dl)}function ya(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,T1(c)),an!==null)for(c=an.return;c!==null;){var h=c;switch(Sm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&lf();break;case 3:kl(),Ut(fr),Ut($n),Vm();break;case 5:Lm(h);break;case 4:kl();break;case 13:Ut(Kt);break;case 19:Ut(Kt);break;case 10:Nm(h.type._context);break;case 22:case 23:mg()}c=c.return}if(In=s,an=s=po(s.current,null),Pn=Nr=a,mn=0,gu=null,lg=Pf=ma=0,mr=yu=null,fa!==null){for(a=0;a<fa.length;a++)if(c=fa[a],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,_=c.pending;if(_!==null){var A=_.next;_.next=g,h.next=A}c.pending=h}fa=null}return s}function p0(s,a){do{var c=an;try{if(km(),wf.current=Sf,Ef){for(var h=Gt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ef=!1}if(pa=0,Tn=pn=Gt=null,uu=!1,du=0,ag.current=null,c===null||c.return===null){mn=1,gu=a,an=null;break}e:{var _=s,A=c.return,$=c,H=a;if(a=Pn,$.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,ue=$,fe=ue.tag;if((ue.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ue.alternate;le?(ue.updateQueue=le.updateQueue,ue.memoizedState=le.memoizedState,ue.lanes=le.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var be=$E(A);if(be!==null){be.flags&=-257,FE(be,A,$,_,a),be.mode&1&&UE(_,Z,a),a=be,H=Z;var Me=a.updateQueue;if(Me===null){var Ve=new Set;Ve.add(H),a.updateQueue=Ve}else Me.add(H);break e}else{if((a&1)===0){UE(_,Z,a),gg();break e}H=Error(t(426))}}else if(jt&&$.mode&1){var Zt=$E(A);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),FE(Zt,A,$,_,a),Am(Nl(H,$));break e}}_=H=Nl(H,$),mn!==4&&(mn=2),yu===null?yu=[_]:yu.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var Y=ME(_,H,a);cE(_,Y);break e;case 1:$=H;var W=_.type,X=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(co===null||!co.has(X)))){_.flags|=65536,a&=-a,_.lanes|=a;var he=VE(_,$,a);cE(_,he);break e}}_=_.return}while(_!==null)}y0(c)}catch(Ue){a=Ue,an===c&&c!==null&&(an=c=c.return);continue}break}while(!0)}function m0(){var s=Nf.current;return Nf.current=Sf,s===null?Sf:s}function gg(){(mn===0||mn===3||mn===2)&&(mn=4),In===null||(ma&268435455)===0&&(Pf&268435455)===0||ho(In,Pn)}function Vf(s,a){var c=Et;Et|=2;var h=m0();(In!==s||Pn!==a)&&(ps=null,ya(s,a));do try{K1();break}catch(g){p0(s,g)}while(!0);if(km(),Et=c,Nf.current=h,an!==null)throw Error(t(261));return In=null,Pn=0,mn}function K1(){for(;an!==null;)g0(an)}function G1(){for(;an!==null&&!Di();)g0(an)}function g0(s){var a=w0(s.alternate,s,Nr);s.memoizedProps=s.pendingProps,a===null?y0(s):an=a,ag.current=null}function y0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=F1(c,a,Nr),c!==null){an=c;return}}else{if(c=j1(c,a),c!==null){c.flags&=32767,an=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mn=6,an=null;return}}if(a=a.sibling,a!==null){an=a;return}an=a=s}while(a!==null);mn===0&&(mn=5)}function va(s,a,c){var h=yt,g=Qr.transition;try{Qr.transition=null,yt=1,Q1(s,a,c,h)}finally{Qr.transition=g,yt=h}return null}function Q1(s,a,c,h){do Ol();while(uo!==null);if((Et&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(Dt(s,_),s===In&&(an=In=null,Pn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||xf||(xf=!0,E0(An,function(){return Ol(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Qr.transition,Qr.transition=null;var A=yt;yt=1;var $=Et;Et|=4,ag.current=null,H1(s,c),a0(c,s),m1(gm),Zs=!!mm,gm=mm=null,s.current=c,z1(c),Ir(),Et=$,yt=A,Qr.transition=_}else s.current=c;if(xf&&(xf=!1,uo=s,Of=g),_=s.pendingLanes,_===0&&(co=null),Oi(c.stateNode),gr(s,dt()),a!==null)for(h=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Df)throw Df=!1,s=ug,ug=null,s;return(Of&1)!==0&&s.tag!==0&&Ol(),_=s.pendingLanes,(_&1)!==0?s===dg?vu++:(vu=0,dg=s):vu=0,so(),null}function Ol(){if(uo!==null){var s=Xs(Of),a=Qr.transition,c=yt;try{if(Qr.transition=null,yt=16>s?16:s,uo===null)var h=!1;else{if(s=uo,uo=null,Of=0,(Et&6)!==0)throw Error(t(331));var g=Et;for(Et|=4,Oe=s.current;Oe!==null;){var _=Oe,A=_.child;if((Oe.flags&16)!==0){var $=_.deletions;if($!==null){for(var H=0;H<$.length;H++){var Z=$[H];for(Oe=Z;Oe!==null;){var ue=Oe;switch(ue.tag){case 0:case 11:case 15:mu(8,ue,_)}var fe=ue.child;if(fe!==null)fe.return=ue,Oe=fe;else for(;Oe!==null;){ue=Oe;var le=ue.sibling,be=ue.return;if(n0(ue),ue===Z){Oe=null;break}if(le!==null){le.return=be,Oe=le;break}Oe=be}}}var Me=_.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var Zt=Ve.sibling;Ve.sibling=null,Ve=Zt}while(Ve!==null)}}Oe=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,Oe=A;else e:for(;Oe!==null;){if(_=Oe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:mu(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,Oe=Y;break e}Oe=_.return}}var W=s.current;for(Oe=W;Oe!==null;){A=Oe;var X=A.child;if((A.subtreeFlags&2064)!==0&&X!==null)X.return=A,Oe=X;else e:for(A=W;Oe!==null;){if($=Oe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:kf(9,$)}}catch(Ue){Jt($,$.return,Ue)}if($===A){Oe=null;break e}var he=$.sibling;if(he!==null){he.return=$.return,Oe=he;break e}Oe=$.return}}if(Et=g,so(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(bt,s)}catch{}h=!0}return h}finally{yt=c,Qr.transition=a}}return!1}function v0(s,a,c){a=Nl(c,a),a=ME(s,a,1),s=ao(s,a,1),a=er(),s!==null&&(Qs(s,1,a),gr(s,a))}function Jt(s,a,c){if(s.tag===3)v0(s,s,c);else for(;a!==null;){if(a.tag===3){v0(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(co===null||!co.has(h))){s=Nl(c,s),s=VE(a,s,1),a=ao(a,s,1),s=er(),a!==null&&(Qs(a,1,s),gr(a,s));break}}a=a.return}}function Y1(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),a=er(),s.pingedLanes|=s.suspendedLanes&c,In===s&&(Pn&c)===c&&(mn===4||mn===3&&(Pn&130023424)===Pn&&500>dt()-cg?ya(s,0):lg|=c),gr(s,a)}function _0(s,a){a===0&&((s.mode&1)===0?a=1:(a=rl,rl<<=1,(rl&130023424)===0&&(rl=4194304)));var c=er();s=ds(s,a),s!==null&&(Qs(s,a,c),gr(s,c))}function X1(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),_0(s,c)}function J1(s,a){var c=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(a),_0(s,c)}var w0;w0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||fr.current)pr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return pr=!1,$1(s,a,c);pr=(s.flags&131072)!==0}else pr=!1,jt&&(a.flags&1048576)!==0&&Zw(a,ff,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Af(s,a),s=a.pendingProps;var g=Tl(a,$n.current);Rl(a,c),g=Fm(null,a,h,s,g,c);var _=jm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,hr(h)?(_=!0,cf(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,xm(a),g.updater=Cf,a.stateNode=g,g._reactInternals=a,Km(a,h,s,c),a=Xm(null,a,h,!0,_,c)):(a.tag=0,jt&&_&&Im(a),Zn(null,a,g,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Af(s,a),s=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=eP(h),s=gi(h,s),g){case 0:a=Ym(null,a,h,s,c);break e;case 1:a=qE(null,a,h,s,c);break e;case 11:a=jE(null,a,h,s,c);break e;case 14:a=BE(null,a,h,gi(h.type,s),c);break e}throw Error(t(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:gi(h,g),Ym(s,a,h,g,c);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:gi(h,g),qE(s,a,h,g,c);case 3:e:{if(KE(a),s===null)throw Error(t(387));h=a.pendingProps,_=a.memoizedState,g=_.element,lE(s,a),vf(a,h,null,c);var A=a.memoizedState;if(h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=Nl(Error(t(423)),a),a=GE(s,a,h,c,g);break e}else if(h!==g){g=Nl(Error(t(424)),a),a=GE(s,a,h,c,g);break e}else for(kr=no(a.stateNode.containerInfo.firstChild),Rr=a,jt=!0,mi=null,c=oE(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Cl(),h===g){a=hs(s,a,c);break e}Zn(s,a,h,c)}a=a.child}return a;case 5:return dE(a),s===null&&bm(a),h=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,A=g.children,ym(h,g)?A=null:_!==null&&ym(h,_)&&(a.flags|=32),WE(s,a),Zn(s,a,A,c),a.child;case 6:return s===null&&bm(a),null;case 13:return QE(s,a,c);case 4:return Om(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=bl(a,null,h,c):Zn(s,a,h,c),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:gi(h,g),jE(s,a,h,g,c);case 7:return Zn(s,a,a.pendingProps,c),a.child;case 8:return Zn(s,a,a.pendingProps.children,c),a.child;case 12:return Zn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,_=a.memoizedProps,A=g.value,Mt(mf,h._currentValue),h._currentValue=A,_!==null)if(pi(_.value,A)){if(_.children===g.children&&!fr.current){a=hs(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var $=_.dependencies;if($!==null){A=_.child;for(var H=$.firstContext;H!==null;){if(H.context===h){if(_.tag===1){H=fs(-1,c&-c),H.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?H.next=H:(H.next=ue.next,ue.next=H),Z.pending=H}}_.lanes|=c,H=_.alternate,H!==null&&(H.lanes|=c),Pm(_.return,c,a),$.lanes|=c;break}H=H.next}}else if(_.tag===10)A=_.type===a.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(t(341));A.lanes|=c,$=A.alternate,$!==null&&($.lanes|=c),Pm(A,c,a),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===a){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}Zn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Rl(a,c),g=Kr(g),h=h(g),a.flags|=1,Zn(s,a,h,c),a.child;case 14:return h=a.type,g=gi(h,a.pendingProps),g=gi(h.type,g),BE(s,a,h,g,c);case 15:return HE(s,a,a.type,a.pendingProps,c);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:gi(h,g),Af(s,a),a.tag=1,hr(h)?(s=!0,cf(a)):s=!1,Rl(a,c),OE(a,h,g),Km(a,h,g,c),Xm(null,a,h,!0,s,c);case 19:return XE(s,a,c);case 22:return zE(s,a,c)}throw Error(t(156,a.tag))};function E0(s,a){return Rt(s,a)}function Z1(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,a,c,h){return new Z1(s,a,c,h)}function yg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function eP(s){if(typeof s=="function")return yg(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ne)return 14}return 2}function po(s,a){var c=s.alternate;return c===null?(c=Yr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Uf(s,a,c,h,g,_){var A=2;if(h=s,typeof s=="function")yg(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case C:return _a(c.children,g,_,a);case b:A=8,g|=8;break;case P:return s=Yr(12,c,a,g|2),s.elementType=P,s.lanes=_,s;case O:return s=Yr(13,c,a,g),s.elementType=O,s.lanes=_,s;case we:return s=Yr(19,c,a,g),s.elementType=we,s.lanes=_,s;case Se:return $f(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:A=10;break e;case U:A=9;break e;case F:A=11;break e;case Ne:A=14;break e;case je:A=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Yr(A,c,a,g),a.elementType=s,a.type=h,a.lanes=_,a}function _a(s,a,c,h){return s=Yr(7,s,h,a),s.lanes=c,s}function $f(s,a,c,h){return s=Yr(22,s,h,a),s.elementType=Se,s.lanes=c,s.stateNode={isHidden:!1},s}function vg(s,a,c){return s=Yr(6,s,null,a),s.lanes=c,s}function _g(s,a,c){return a=Yr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function tP(s,a,c,h,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wg(s,a,c,h,g,_,A,$,H){return s=new tP(s,a,c,$,H),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Yr(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(_),s}function nP(s,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:h==null?null:""+h,children:s,containerInfo:a,implementation:c}}function T0(s){if(!s)return io;s=s._reactInternals;e:{if(xe(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(hr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(hr(c))return Yw(s,c,a)}return a}function I0(s,a,c,h,g,_,A,$,H){return s=wg(c,h,!0,s,g,_,A,$,H),s.context=T0(null),c=s.current,h=er(),g=fo(c),_=fs(h,g),_.callback=a??null,ao(c,_,g),s.current.lanes=g,Qs(s,g,h),gr(s,h),s}function Ff(s,a,c,h){var g=a.current,_=er(),A=fo(g);return c=T0(c),a.context===null?a.context=c:a.pendingContext=c,a=fs(_,A),a.payload={element:s},h=h===void 0?null:h,h!==null&&(a.callback=h),s=ao(g,a,A),s!==null&&(_i(s,g,A,_),yf(s,g,A)),A}function jf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function S0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Eg(s,a){S0(s,a),(s=s.alternate)&&S0(s,a)}function rP(){return null}var C0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tg(s){this._internalRoot=s}Bf.prototype.render=Tg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Ff(s,a,null,null)},Bf.prototype.unmount=Tg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ga(function(){Ff(null,s,null,null)}),a[as]=null}};function Bf(s){this._internalRoot=s}Bf.prototype.unstable_scheduleHydration=function(s){if(s){var a=jd();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Mi.length&&a!==0&&a<Mi[c].priority;c++);Mi.splice(c,0,s),c===0&&zd(s)}};function Ig(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function b0(){}function iP(s,a,c,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var Z=jf(A);_.call(Z)}}var A=I0(a,h,s,0,null,!1,!1,"",b0);return s._reactRootContainer=A,s[as]=A.current,nu(s.nodeType===8?s.parentNode:s),ga(),A}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var $=h;h=function(){var Z=jf(H);$.call(Z)}}var H=wg(s,0,!1,null,null,!1,!1,"",b0);return s._reactRootContainer=H,s[as]=H.current,nu(s.nodeType===8?s.parentNode:s),ga(function(){Ff(a,H,c,h)}),H}function zf(s,a,c,h,g){var _=c._reactRootContainer;if(_){var A=_;if(typeof g=="function"){var $=g;g=function(){var H=jf(A);$.call(H)}}Ff(a,A,s,g)}else A=iP(c,a,s,g,h);return jf(A)}$d=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ks(a.pendingLanes);c!==0&&(Ys(a,c|1),gr(a,dt()),(Et&6)===0&&(xl=dt()+500,so()))}break;case 13:ga(function(){var h=ds(s,1);if(h!==null){var g=er();_i(h,s,1,g)}}),Eg(s,1)}},il=function(s){if(s.tag===13){var a=ds(s,134217728);if(a!==null){var c=er();_i(a,s,134217728,c)}Eg(s,134217728)}},Fd=function(s){if(s.tag===13){var a=fo(s),c=ds(s,a);if(c!==null){var h=er();_i(c,s,a,h)}Eg(s,a)}},jd=function(){return yt},Bd=function(s,a){var c=yt;try{return yt=s,a()}finally{yt=c}},ts=function(s,a,c){switch(a){case"input":if(vn(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=af(h);if(!g)throw Error(t(90));st(h),vn(h,g)}}}break;case"textarea":Ot(s,c);break;case"select":a=c.value,a!=null&&rn(s,!!c.multiple,a,!1)}},Ni=pg,Pi=ga;var sP={usingClientEntryPoint:!1,Events:[su,wl,af,Tr,Zo,pg]},_u={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oP={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=It(s),s===null?null:s.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||rP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{bt=Wf.inject(oP),sn=Wf}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sP,yr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ig(a))throw Error(t(200));return nP(s,a,null,c)},yr.createRoot=function(s,a){if(!Ig(s))throw Error(t(299));var c=!1,h="",g=C0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=wg(s,1,!1,null,null,c,!1,h,g),s[as]=a.current,nu(s.nodeType===8?s.parentNode:s),new Tg(a)},yr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=It(a),s=s===null?null:s.stateNode,s},yr.flushSync=function(s){return ga(s)},yr.hydrate=function(s,a,c){if(!Hf(a))throw Error(t(200));return zf(null,s,a,!0,c)},yr.hydrateRoot=function(s,a,c){if(!Ig(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,g=!1,_="",A=C0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=I0(a,null,s,1,c??null,g,!1,_,A),s[as]=a.current,nu(s),h)for(s=0;s<h.length;s++)c=h[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Bf(a)},yr.render=function(s,a,c){if(!Hf(a))throw Error(t(200));return zf(null,s,a,!1,c)},yr.unmountComponentAtNode=function(s){if(!Hf(s))throw Error(t(40));return s._reactRootContainer?(ga(function(){zf(null,null,s,!1,function(){s._reactRootContainer=null,s[as]=null})}),!0):!1},yr.unstable_batchedUpdates=pg,yr.unstable_renderSubtreeIntoContainer=function(s,a,c,h){if(!Hf(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return zf(s,a,c,!1,h)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var D0;function tC(){if(D0)return Cg.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cg.exports=fP(),Cg.exports}var x0;function hP(){if(x0)return qf;x0=1;var n=tC();return qf.createRoot=n.createRoot,qf.hydrateRoot=n.hydrateRoot,qf}var pP=hP(),ir="top",Vr="bottom",Ur="right",sr="left",op="auto",Cc=[ir,Vr,Ur,sr],Da="start",tc="end",nC="clippingParents",Iv="viewport",jl="popper",rC="reference",yy=Cc.reduce(function(n,e){return n.concat([e+"-"+Da,e+"-"+tc])},[]),Sv=[].concat(Cc,[op]).reduce(function(n,e){return n.concat([e,e+"-"+Da,e+"-"+tc])},[]),iC="beforeRead",sC="read",oC="afterRead",aC="beforeMain",lC="main",cC="afterMain",uC="beforeWrite",dC="write",fC="afterWrite",hC=[iC,sC,oC,aC,lC,cC,uC,dC,fC];function Xi(n){return n?(n.nodeName||"").toLowerCase():null}function $r(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function xa(n){var e=$r(n).Element;return n instanceof e||n instanceof Element}function ni(n){var e=$r(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Cv(n){if(typeof ShadowRoot>"u")return!1;var e=$r(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function mP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!ni(o)||!Xi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(l){var u=i[l];u===!1?o.removeAttribute(l):o.setAttribute(l,u===!0?"":u)}))})}function gP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),u=l.reduce(function(f,p){return f[p]="",f},{});!ni(i)||!Xi(i)||(Object.assign(i.style,u),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const bv={name:"applyStyles",enabled:!0,phase:"write",fn:mP,effect:gP,requires:["computeStyles"]};function qi(n){return n.split("-")[0]}var ka=Math.max,kh=Math.min,nc=Math.round;function vy(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pC(){return!/^((?!chrome|android).)*safari/i.test(vy())}function rc(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&ni(n)&&(i=n.offsetWidth>0&&nc(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&nc(r.height)/n.offsetHeight||1);var l=xa(n)?$r(n):window,u=l.visualViewport,f=!pC()&&t,p=(r.left+(f&&u?u.offsetLeft:0))/i,m=(r.top+(f&&u?u.offsetTop:0))/o,y=r.width/i,T=r.height/o;return{width:y,height:T,top:m,right:p+y,bottom:m+T,left:p,x:p,y:m}}function Av(n){var e=rc(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function mC(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Cv(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ps(n){return $r(n).getComputedStyle(n)}function yP(n){return["table","td","th"].indexOf(Xi(n))>=0}function zo(n){return((xa(n)?n.ownerDocument:n.document)||window.document).documentElement}function ap(n){return Xi(n)==="html"?n:n.assignedSlot||n.parentNode||(Cv(n)?n.host:null)||zo(n)}function O0(n){return!ni(n)||Ps(n).position==="fixed"?null:n.offsetParent}function vP(n){var e=/firefox/i.test(vy()),t=/Trident/i.test(vy());if(t&&ni(n)){var r=Ps(n);if(r.position==="fixed")return null}var i=ap(n);for(Cv(i)&&(i=i.host);ni(i)&&["html","body"].indexOf(Xi(i))<0;){var o=Ps(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function fd(n){for(var e=$r(n),t=O0(n);t&&yP(t)&&Ps(t).position==="static";)t=O0(t);return t&&(Xi(t)==="html"||Xi(t)==="body"&&Ps(t).position==="static")?e:t||vP(n)||e}function Rv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Fu(n,e,t){return ka(n,kh(e,t))}function _P(n,e,t){var r=Fu(n,e,t);return r>t?t:r}function gC(){return{top:0,right:0,bottom:0,left:0}}function yC(n){return Object.assign({},gC(),n)}function vC(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var wP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,yC(typeof e!="number"?e:vC(e,Cc))};function EP(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,u=qi(t.placement),f=Rv(u),p=[sr,Ur].indexOf(u)>=0,m=p?"height":"width";if(!(!o||!l)){var y=wP(i.padding,t),T=Av(o),S=f==="y"?ir:sr,k=f==="y"?Vr:Ur,N=t.rects.reference[m]+t.rects.reference[f]-l[f]-t.rects.popper[m],R=l[f]-t.rects.reference[f],x=fd(o),M=x?f==="y"?x.clientHeight||0:x.clientWidth||0:0,V=N/2-R/2,j=y[S],q=M-T[m]-y[k],G=M/2-T[m]/2+V,C=Fu(j,G,q),b=f;t.modifiersData[r]=(e={},e[b]=C,e.centerOffset=C-G,e)}}function TP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||mC(e.elements.popper,i)&&(e.elements.arrow=i))}const kv={name:"arrow",enabled:!0,phase:"main",fn:EP,effect:TP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ic(n){return n.split("-")[1]}var IP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:nc(t*i)/i||0,y:nc(r*i)/i||0}}function L0(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,u=n.position,f=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,y=n.isFixed,T=l.x,S=T===void 0?0:T,k=l.y,N=k===void 0?0:k,R=typeof m=="function"?m({x:S,y:N}):{x:S,y:N};S=R.x,N=R.y;var x=l.hasOwnProperty("x"),M=l.hasOwnProperty("y"),V=sr,j=ir,q=window;if(p){var G=fd(t),C="clientHeight",b="clientWidth";if(G===$r(t)&&(G=zo(t),Ps(G).position!=="static"&&u==="absolute"&&(C="scrollHeight",b="scrollWidth")),G=G,i===ir||(i===sr||i===Ur)&&o===tc){j=Vr;var P=y&&G===q&&q.visualViewport?q.visualViewport.height:G[C];N-=P-r.height,N*=f?1:-1}if(i===sr||(i===ir||i===Vr)&&o===tc){V=Ur;var L=y&&G===q&&q.visualViewport?q.visualViewport.width:G[b];S-=L-r.width,S*=f?1:-1}}var U=Object.assign({position:u},p&&IP),F=m===!0?SP({x:S,y:N},$r(t)):{x:S,y:N};if(S=F.x,N=F.y,f){var O;return Object.assign({},U,(O={},O[j]=M?"0":"",O[V]=x?"0":"",O.transform=(q.devicePixelRatio||1)<=1?"translate("+S+"px, "+N+"px)":"translate3d("+S+"px, "+N+"px, 0)",O))}return Object.assign({},U,(e={},e[j]=M?N+"px":"",e[V]=x?S+"px":"",e.transform="",e))}function CP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,u=t.roundOffsets,f=u===void 0?!0:u,p={placement:qi(e.placement),variation:ic(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,L0(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,L0(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const lp={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CP,data:{}};var Kf={passive:!0};function bP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,u=l===void 0?!0:l,f=$r(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(m){m.addEventListener("scroll",t.update,Kf)}),u&&f.addEventListener("resize",t.update,Kf),function(){o&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Kf)}),u&&f.removeEventListener("resize",t.update,Kf)}}const cp={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bP,data:{}};var AP={left:"right",right:"left",bottom:"top",top:"bottom"};function hh(n){return n.replace(/left|right|bottom|top/g,function(e){return AP[e]})}var RP={start:"end",end:"start"};function M0(n){return n.replace(/start|end/g,function(e){return RP[e]})}function Nv(n){var e=$r(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Pv(n){return rc(zo(n)).left+Nv(n).scrollLeft}function kP(n,e){var t=$r(n),r=zo(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){o=i.width,l=i.height;var p=pC();(p||!p&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:o,height:l,x:u+Pv(n),y:f}}function NP(n){var e,t=zo(n),r=Nv(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=ka(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ka(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+Pv(n),f=-r.scrollTop;return Ps(i||t).direction==="rtl"&&(u+=ka(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:u,y:f}}function Dv(n){var e=Ps(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function _C(n){return["html","body","#document"].indexOf(Xi(n))>=0?n.ownerDocument.body:ni(n)&&Dv(n)?n:_C(ap(n))}function ju(n,e){var t;e===void 0&&(e=[]);var r=_C(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=$r(r),l=i?[o].concat(o.visualViewport||[],Dv(r)?r:[]):r,u=e.concat(l);return i?u:u.concat(ju(ap(l)))}function _y(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function PP(n,e){var t=rc(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function V0(n,e,t){return e===Iv?_y(kP(n,t)):xa(e)?PP(e,t):_y(NP(zo(n)))}function DP(n){var e=ju(ap(n)),t=["absolute","fixed"].indexOf(Ps(n).position)>=0,r=t&&ni(n)?fd(n):n;return xa(r)?e.filter(function(i){return xa(i)&&mC(i,r)&&Xi(i)!=="body"}):[]}function xP(n,e,t,r){var i=e==="clippingParents"?DP(n):[].concat(e),o=[].concat(i,[t]),l=o[0],u=o.reduce(function(f,p){var m=V0(n,p,r);return f.top=ka(m.top,f.top),f.right=kh(m.right,f.right),f.bottom=kh(m.bottom,f.bottom),f.left=ka(m.left,f.left),f},V0(n,l,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function wC(n){var e=n.reference,t=n.element,r=n.placement,i=r?qi(r):null,o=r?ic(r):null,l=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,f;switch(i){case ir:f={x:l,y:e.y-t.height};break;case Vr:f={x:l,y:e.y+e.height};break;case Ur:f={x:e.x+e.width,y:u};break;case sr:f={x:e.x-t.width,y:u};break;default:f={x:e.x,y:e.y}}var p=i?Rv(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(o){case Da:f[p]=f[p]-(e[m]/2-t[m]/2);break;case tc:f[p]=f[p]+(e[m]/2-t[m]/2);break}}return f}function sc(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,u=t.boundary,f=u===void 0?nC:u,p=t.rootBoundary,m=p===void 0?Iv:p,y=t.elementContext,T=y===void 0?jl:y,S=t.altBoundary,k=S===void 0?!1:S,N=t.padding,R=N===void 0?0:N,x=yC(typeof R!="number"?R:vC(R,Cc)),M=T===jl?rC:jl,V=n.rects.popper,j=n.elements[k?M:T],q=xP(xa(j)?j:j.contextElement||zo(n.elements.popper),f,m,l),G=rc(n.elements.reference),C=wC({reference:G,element:V,placement:i}),b=_y(Object.assign({},V,C)),P=T===jl?b:G,L={top:q.top-P.top+x.top,bottom:P.bottom-q.bottom+x.bottom,left:q.left-P.left+x.left,right:P.right-q.right+x.right},U=n.modifiersData.offset;if(T===jl&&U){var F=U[i];Object.keys(L).forEach(function(O){var we=[Ur,Vr].indexOf(O)>=0?1:-1,Ne=[ir,Vr].indexOf(O)>=0?"y":"x";L[O]+=F[Ne]*we})}return L}function OP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,u=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Sv:f,m=ic(r),y=m?u?yy:yy.filter(function(k){return ic(k)===m}):Cc,T=y.filter(function(k){return p.indexOf(k)>=0});T.length===0&&(T=y);var S=T.reduce(function(k,N){return k[N]=sc(n,{placement:N,boundary:i,rootBoundary:o,padding:l})[qi(N)],k},{});return Object.keys(S).sort(function(k,N){return S[k]-S[N]})}function LP(n){if(qi(n)===op)return[];var e=hh(n);return[M0(n),e,M0(e)]}function MP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,m=t.boundary,y=t.rootBoundary,T=t.altBoundary,S=t.flipVariations,k=S===void 0?!0:S,N=t.allowedAutoPlacements,R=e.options.placement,x=qi(R),M=x===R,V=f||(M||!k?[hh(R)]:LP(R)),j=[R].concat(V).reduce(function(ve,Ie){return ve.concat(qi(Ie)===op?OP(e,{placement:Ie,boundary:m,rootBoundary:y,padding:p,flipVariations:k,allowedAutoPlacements:N}):Ie)},[]),q=e.rects.reference,G=e.rects.popper,C=new Map,b=!0,P=j[0],L=0;L<j.length;L++){var U=j[L],F=qi(U),O=ic(U)===Da,we=[ir,Vr].indexOf(F)>=0,Ne=we?"width":"height",je=sc(e,{placement:U,boundary:m,rootBoundary:y,altBoundary:T,padding:p}),Se=we?O?Ur:sr:O?Vr:ir;q[Ne]>G[Ne]&&(Se=hh(Se));var re=hh(Se),me=[];if(o&&me.push(je[F]<=0),u&&me.push(je[Se]<=0,je[re]<=0),me.every(function(ve){return ve})){P=U,b=!1;break}C.set(U,me)}if(b)for(var ce=k?3:1,z=function(Ie){var Ae=j.find(function(Ge){var Be=C.get(Ge);if(Be)return Be.slice(0,Ie).every(function(ot){return ot})});if(Ae)return P=Ae,"break"},te=ce;te>0;te--){var pe=z(te);if(pe==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const xv={name:"flip",enabled:!0,phase:"main",fn:MP,requiresIfExists:["offset"],data:{_skip:!1}};function U0(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function $0(n){return[ir,Ur,Vr,sr].some(function(e){return n[e]>=0})}function VP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=sc(e,{elementContext:"reference"}),u=sc(e,{altBoundary:!0}),f=U0(l,r),p=U0(u,i,o),m=$0(f),y=$0(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const Ov={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VP};function UP(n,e,t){var r=qi(n),i=[sr,ir].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],u=o[1];return l=l||0,u=(u||0)*i,[sr,Ur].indexOf(r)>=0?{x:u,y:l}:{x:l,y:u}}function $P(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=Sv.reduce(function(m,y){return m[y]=UP(y,e.rects,o),m},{}),u=l[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Lv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$P};function FP(n){var e=n.state,t=n.name;e.modifiersData[t]=wC({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const up={name:"popperOffsets",enabled:!0,phase:"read",fn:FP,data:{}};function jP(n){return n==="x"?"y":"x"}function BP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,u=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,m=t.altBoundary,y=t.padding,T=t.tether,S=T===void 0?!0:T,k=t.tetherOffset,N=k===void 0?0:k,R=sc(e,{boundary:f,rootBoundary:p,padding:y,altBoundary:m}),x=qi(e.placement),M=ic(e.placement),V=!M,j=Rv(x),q=jP(j),G=e.modifiersData.popperOffsets,C=e.rects.reference,b=e.rects.popper,P=typeof N=="function"?N(Object.assign({},e.rects,{placement:e.placement})):N,L=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(G){if(o){var O,we=j==="y"?ir:sr,Ne=j==="y"?Vr:Ur,je=j==="y"?"height":"width",Se=G[j],re=Se+R[we],me=Se-R[Ne],ce=S?-b[je]/2:0,z=M===Da?C[je]:b[je],te=M===Da?-b[je]:-C[je],pe=e.elements.arrow,ve=S&&pe?Av(pe):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gC(),Ae=Ie[we],Ge=Ie[Ne],Be=Fu(0,C[je],ve[je]),ot=V?C[je]/2-ce-Be-Ae-L.mainAxis:z-Be-Ae-L.mainAxis,Tt=V?-C[je]/2+ce+Be+Ge+L.mainAxis:te+Be+Ge+L.mainAxis,Ct=e.elements.arrow&&fd(e.elements.arrow),st=Ct?j==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,Pt=(O=U==null?void 0:U[j])!=null?O:0,Yt=Se+ot-Pt-st,it=Se+Tt-Pt,zt=Fu(S?kh(re,Yt):re,Se,S?ka(me,it):me);G[j]=zt,F[j]=zt-Se}if(u){var vn,Fr=j==="x"?ir:sr,Qn=j==="x"?Vr:Ur,Wt=G[q],rn=q==="y"?"height":"width",or=Wt+R[Fr],Mn=Wt-R[Qn],Ot=[ir,sr].indexOf(x)!==-1,fn=(vn=U==null?void 0:U[q])!=null?vn:0,$e=Ot?or:Wt-C[rn]-b[rn]-fn+L.altAxis,gt=Ot?Wt+C[rn]+b[rn]-fn-L.altAxis:Mn,Lt=S&&Ot?_P($e,Wt,gt):Fu(S?$e:or,Wt,S?gt:Mn);G[q]=Lt,F[q]=Lt-Wt}e.modifiersData[r]=F}}const Mv={name:"preventOverflow",enabled:!0,phase:"main",fn:BP,requiresIfExists:["offset"]};function HP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function zP(n){return n===$r(n)||!ni(n)?Nv(n):HP(n)}function WP(n){var e=n.getBoundingClientRect(),t=nc(e.width)/n.offsetWidth||1,r=nc(e.height)/n.offsetHeight||1;return t!==1||r!==1}function qP(n,e,t){t===void 0&&(t=!1);var r=ni(e),i=ni(e)&&WP(e),o=zo(e),l=rc(n,i,t),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Xi(e)!=="body"||Dv(o))&&(u=zP(e)),ni(e)?(f=rc(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):o&&(f.x=Pv(o))),{x:l.left+u.scrollLeft-f.x,y:l.top+u.scrollTop-f.y,width:l.width,height:l.height}}function KP(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(u){if(!t.has(u)){var f=e.get(u);f&&i(f)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function GP(n){var e=KP(n);return hC.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function QP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function YP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var F0={placement:"bottom",modifiers:[],strategy:"absolute"};function j0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hd(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?F0:i;return function(u,f,p){p===void 0&&(p=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},F0,o),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},y=[],T=!1,S={state:m,setOptions:function(x){var M=typeof x=="function"?x(m.options):x;N(),m.options=Object.assign({},o,m.options,M),m.scrollParents={reference:xa(u)?ju(u):u.contextElement?ju(u.contextElement):[],popper:ju(f)};var V=GP(YP([].concat(r,m.options.modifiers)));return m.orderedModifiers=V.filter(function(j){return j.enabled}),k(),S.update()},forceUpdate:function(){if(!T){var x=m.elements,M=x.reference,V=x.popper;if(j0(M,V)){m.rects={reference:qP(M,fd(V),m.options.strategy==="fixed"),popper:Av(V)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(L){return m.modifiersData[L.name]=Object.assign({},L.data)});for(var j=0;j<m.orderedModifiers.length;j++){if(m.reset===!0){m.reset=!1,j=-1;continue}var q=m.orderedModifiers[j],G=q.fn,C=q.options,b=C===void 0?{}:C,P=q.name;typeof G=="function"&&(m=G({state:m,options:b,name:P,instance:S})||m)}}}},update:QP(function(){return new Promise(function(R){S.forceUpdate(),R(m)})}),destroy:function(){N(),T=!0}};if(!j0(u,f))return S;S.setOptions(p).then(function(R){!T&&p.onFirstUpdate&&p.onFirstUpdate(R)});function k(){m.orderedModifiers.forEach(function(R){var x=R.name,M=R.options,V=M===void 0?{}:M,j=R.effect;if(typeof j=="function"){var q=j({state:m,name:x,instance:S,options:V}),G=function(){};y.push(q||G)}})}function N(){y.forEach(function(R){return R()}),y=[]}return S}}var XP=hd(),JP=[cp,up,lp,bv],ZP=hd({defaultModifiers:JP}),eD=[cp,up,lp,bv,Lv,xv,Mv,kv,Ov],Vv=hd({defaultModifiers:eD});const EC=Object.freeze(Object.defineProperty({__proto__:null,afterMain:cC,afterRead:oC,afterWrite:fC,applyStyles:bv,arrow:kv,auto:op,basePlacements:Cc,beforeMain:aC,beforeRead:iC,beforeWrite:uC,bottom:Vr,clippingParents:nC,computeStyles:lp,createPopper:Vv,createPopperBase:XP,createPopperLite:ZP,detectOverflow:sc,end:tc,eventListeners:cp,flip:xv,hide:Ov,left:sr,main:lC,modifierPhases:hC,offset:Lv,placements:Sv,popper:jl,popperGenerator:hd,popperOffsets:up,preventOverflow:Mv,read:sC,reference:rC,right:Ur,start:Da,top:ir,variationPlacements:yy,viewport:Iv,write:dC},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const go=new Map,Rg={set(n,e,t){go.has(n)||go.set(n,new Map);const r=go.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return go.has(n)&&go.get(n).get(e)||null},remove(n,e){if(!go.has(n))return;const t=go.get(n);t.delete(e),t.size===0&&go.delete(n)}},tD=1e6,nD=1e3,wy="transitionend",TC=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),rD=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),iD=n=>{do n+=Math.floor(Math.random()*tD);while(document.getElementById(n));return n},sD=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*nD)},IC=n=>{n.dispatchEvent(new Event(wy))},Is=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Oo=n=>Is(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(TC(n)):null,bc=n=>{if(!Is(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Lo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",SC=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?SC(n.parentNode):null},Nh=()=>{},pd=n=>{n.offsetHeight},CC=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,kg=[],oD=n=>{document.readyState==="loading"?(kg.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of kg)e()}),kg.push(n)):n()},ri=()=>document.documentElement.dir==="rtl",oi=n=>{oD(()=>{const e=CC();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},wr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,bC=(n,e,t=!0)=>{if(!t){wr(n);return}const i=sD(e)+5;let o=!1;const l=({target:u})=>{u===e&&(o=!0,e.removeEventListener(wy,l),wr(n))};e.addEventListener(wy,l),setTimeout(()=>{o||IC(e)},i)},Uv=(n,e,t,r)=>{const i=n.length;let o=n.indexOf(e);return o===-1?!t&&r?n[i-1]:n[0]:(o+=t?1:-1,r&&(o=(o+i)%i),n[Math.max(0,Math.min(o,i-1))])},aD=/[^.]*(?=\..*)\.|.*/,lD=/\..*/,cD=/::\d+$/,Ng={};let B0=1;const AC={mouseenter:"mouseover",mouseleave:"mouseout"},uD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function RC(n,e){return e&&`${e}::${B0++}`||n.uidEvent||B0++}function kC(n){const e=RC(n);return n.uidEvent=e,Ng[e]=Ng[e]||{},Ng[e]}function dD(n,e){return function t(r){return $v(r,{delegateTarget:n}),t.oneOff&&de.off(n,r.type,e),e.apply(n,[r])}}function fD(n,e,t){return function r(i){const o=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const u of o)if(u===l)return $v(i,{delegateTarget:l}),r.oneOff&&de.off(n,i.type,e,t),t.apply(l,[i])}}function NC(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function PC(n,e,t){const r=typeof e=="string",i=r?t:e||t;let o=DC(n);return uD.has(o)||(o=n),[r,i,o]}function H0(n,e,t,r,i){if(typeof e!="string"||!n)return;let[o,l,u]=PC(e,t,r);e in AC&&(l=(k=>function(N){if(!N.relatedTarget||N.relatedTarget!==N.delegateTarget&&!N.delegateTarget.contains(N.relatedTarget))return k.call(this,N)})(l));const f=kC(n),p=f[u]||(f[u]={}),m=NC(p,l,o?t:null);if(m){m.oneOff=m.oneOff&&i;return}const y=RC(l,e.replace(aD,"")),T=o?fD(n,t,l):dD(n,l);T.delegationSelector=o?t:null,T.callable=l,T.oneOff=i,T.uidEvent=y,p[y]=T,n.addEventListener(u,T,o)}function Ey(n,e,t,r,i){const o=NC(e[t],r,i);o&&(n.removeEventListener(t,o,!!i),delete e[t][o.uidEvent])}function hD(n,e,t,r){const i=e[t]||{};for(const[o,l]of Object.entries(i))o.includes(r)&&Ey(n,e,t,l.callable,l.delegationSelector)}function DC(n){return n=n.replace(lD,""),AC[n]||n}const de={on(n,e,t,r){H0(n,e,t,r,!1)},one(n,e,t,r){H0(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,o,l]=PC(e,t,r),u=l!==e,f=kC(n),p=f[l]||{},m=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(p).length)return;Ey(n,f,l,o,i?t:null);return}if(m)for(const y of Object.keys(f))hD(n,f,y,e.slice(1));for(const[y,T]of Object.entries(p)){const S=y.replace(cD,"");(!u||e.includes(S))&&Ey(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=CC(),i=DC(e),o=e!==i;let l=null,u=!0,f=!0,p=!1;o&&r&&(l=r.Event(e,t),r(n).trigger(l),u=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const m=$v(new Event(e,{bubbles:u,cancelable:!0}),t);return p&&m.preventDefault(),f&&n.dispatchEvent(m),m.defaultPrevented&&l&&l.preventDefault(),m}};function $v(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function z0(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Pg(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ss={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Pg(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Pg(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=z0(n.dataset[r])}return e},getDataAttribute(n,e){return z0(n.getAttribute(`data-bs-${Pg(e)}`))}};class md{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Is(t)?Ss.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Is(t)?Ss.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const o=e[r],l=Is(o)?"element":rD(o);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const pD="5.3.3";class Ai extends md{constructor(e,t){super(),e=Oo(e),e&&(this._element=e,this._config=this._getConfig(t),Rg.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Rg.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){bC(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Rg.get(Oo(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return pD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Dg=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>TC(t)).join(","):null},We={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Lo(t)&&bc(t))},getSelectorFromElement(n){const e=Dg(n);return e&&We.findOne(e)?e:null},getElementFromSelector(n){const e=Dg(n);return e?We.findOne(e):null},getMultipleElementsFromSelector(n){const e=Dg(n);return e?We.find(e):[]}},dp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;de.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Lo(this))return;const o=We.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[e]()})},mD="alert",gD="bs.alert",xC=`.${gD}`,yD=`close${xC}`,vD=`closed${xC}`,_D="fade",wD="show";let OC=class LC extends Ai{static get NAME(){return mD}close(){if(de.trigger(this._element,yD).defaultPrevented)return;this._element.classList.remove(wD);const t=this._element.classList.contains(_D);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,vD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=LC.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};dp(OC,"close");oi(OC);const ED="button",TD="bs.button",ID=`.${TD}`,SD=".data-api",CD="active",W0='[data-bs-toggle="button"]',bD=`click${ID}${SD}`;let MC=class VC extends Ai{static get NAME(){return ED}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CD))}static jQueryInterface(e){return this.each(function(){const t=VC.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};de.on(document,bD,W0,n=>{n.preventDefault();const e=n.target.closest(W0);MC.getOrCreateInstance(e).toggle()});oi(MC);const AD="swipe",Ac=".bs.swipe",RD=`touchstart${Ac}`,kD=`touchmove${Ac}`,ND=`touchend${Ac}`,PD=`pointerdown${Ac}`,DD=`pointerup${Ac}`,xD="touch",OD="pen",LD="pointer-event",MD=40,VD={endCallback:null,leftCallback:null,rightCallback:null},UD={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ph extends md{constructor(e,t){super(),this._element=e,!(!e||!Ph.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return VD}static get DefaultType(){return UD}static get NAME(){return AD}dispose(){de.off(this._element,Ac)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),wr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=MD)return;const t=e/this._deltaX;this._deltaX=0,t&&wr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(de.on(this._element,PD,e=>this._start(e)),de.on(this._element,DD,e=>this._end(e)),this._element.classList.add(LD)):(de.on(this._element,RD,e=>this._start(e)),de.on(this._element,kD,e=>this._move(e)),de.on(this._element,ND,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===OD||e.pointerType===xD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const $D="carousel",FD="bs.carousel",Wo=`.${FD}`,UC=".data-api",jD="ArrowLeft",BD="ArrowRight",HD=500,wu="next",Ll="prev",Bl="left",ph="right",zD=`slide${Wo}`,xg=`slid${Wo}`,WD=`keydown${Wo}`,qD=`mouseenter${Wo}`,KD=`mouseleave${Wo}`,GD=`dragstart${Wo}`,QD=`load${Wo}${UC}`,YD=`click${Wo}${UC}`,$C="carousel",Gf="active",XD="slide",JD="carousel-item-end",ZD="carousel-item-start",ex="carousel-item-next",tx="carousel-item-prev",FC=".active",jC=".carousel-item",nx=FC+jC,rx=".carousel-item img",ix=".carousel-indicators",sx="[data-bs-slide], [data-bs-slide-to]",ox='[data-bs-ride="carousel"]',ax={[jD]:ph,[BD]:Bl},lx={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cx={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let Fv=class BC extends Ai{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=We.findOne(ix,this._element),this._addEventListeners(),this._config.ride===$C&&this.cycle()}static get Default(){return lx}static get DefaultType(){return cx}static get NAME(){return $D}next(){this._slide(wu)}nextWhenVisible(){!document.hidden&&bc(this._element)&&this.next()}prev(){this._slide(Ll)}pause(){this._isSliding&&IC(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){de.one(this._element,xg,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){de.one(this._element,xg,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?wu:Ll;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&de.on(this._element,WD,e=>this._keydown(e)),this._config.pause==="hover"&&(de.on(this._element,qD,()=>this.pause()),de.on(this._element,KD,()=>this._maybeEnableCycle())),this._config.touch&&Ph.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of We.find(rx,this._element))de.on(r,GD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Bl)),rightCallback:()=>this._slide(this._directionToOrder(ph)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),HD+this._config.interval))}};this._swipeHelper=new Ph(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=ax[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=We.findOne(FC,this._indicatorsElement);t.classList.remove(Gf),t.removeAttribute("aria-current");const r=We.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Gf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===wu,o=t||Uv(this._getItems(),r,i,this._config.wrap);if(o===r)return;const l=this._getItemIndex(o),u=S=>de.trigger(this._element,S,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(u(zD).defaultPrevented||!r||!o)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=o;const m=i?ZD:JD,y=i?ex:tx;o.classList.add(y),pd(o),r.classList.add(m),o.classList.add(m);const T=()=>{o.classList.remove(m,y),o.classList.add(Gf),r.classList.remove(Gf,y,m),this._isSliding=!1,u(xg)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(XD)}_getActive(){return We.findOne(nx,this._element)}_getItems(){return We.find(jC,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ri()?e===Bl?Ll:wu:e===Bl?wu:Ll}_orderToDirection(e){return ri()?e===Ll?Bl:ph:e===Ll?ph:Bl}static jQueryInterface(e){return this.each(function(){const t=BC.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};de.on(document,YD,sx,function(n){const e=We.getElementFromSelector(this);if(!e||!e.classList.contains($C))return;n.preventDefault();const t=Fv.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Ss.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});de.on(window,QD,()=>{const n=We.find(ox);for(const e of n)Fv.getOrCreateInstance(e)});oi(Fv);const ux="collapse",dx="bs.collapse",gd=`.${dx}`,fx=".data-api",hx=`show${gd}`,px=`shown${gd}`,mx=`hide${gd}`,gx=`hidden${gd}`,yx=`click${gd}${fx}`,Og="show",Gl="collapse",Qf="collapsing",vx="collapsed",_x=`:scope .${Gl} .${Gl}`,wx="collapse-horizontal",Ex="width",Tx="height",Ix=".collapse.show, .collapse.collapsing",Ty='[data-bs-toggle="collapse"]',Sx={parent:null,toggle:!0},Cx={parent:"(null|element)",toggle:"boolean"};let HC=class Iy extends Ai{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=We.find(Ty);for(const i of r){const o=We.getSelectorFromElement(i),l=We.find(o).filter(u=>u===this._element);o!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Sx}static get DefaultType(){return Cx}static get NAME(){return ux}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Ix).filter(u=>u!==this._element).map(u=>Iy.getOrCreateInstance(u,{toggle:!1}))),e.length&&e[0]._isTransitioning||de.trigger(this._element,hx).defaultPrevented)return;for(const u of e)u.hide();const r=this._getDimension();this._element.classList.remove(Gl),this._element.classList.add(Qf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Qf),this._element.classList.add(Gl,Og),this._element.style[r]="",de.trigger(this._element,px)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||de.trigger(this._element,mx).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,pd(this._element),this._element.classList.add(Qf),this._element.classList.remove(Gl,Og);for(const i of this._triggerArray){const o=We.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Qf),this._element.classList.add(Gl),de.trigger(this._element,gx)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Og)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Oo(e.parent),e}_getDimension(){return this._element.classList.contains(wx)?Ex:Tx}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ty);for(const t of e){const r=We.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=We.find(_x,this._config.parent);return We.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(vx,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Iy.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};de.on(document,yx,Ty,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of We.getMultipleElementsFromSelector(this))HC.getOrCreateInstance(e,{toggle:!1}).toggle()});oi(HC);const q0="dropdown",bx="bs.dropdown",za=`.${bx}`,jv=".data-api",Ax="Escape",K0="Tab",Rx="ArrowUp",G0="ArrowDown",kx=2,Nx=`hide${za}`,Px=`hidden${za}`,Dx=`show${za}`,xx=`shown${za}`,zC=`click${za}${jv}`,WC=`keydown${za}${jv}`,Ox=`keyup${za}${jv}`,Hl="show",Lx="dropup",Mx="dropend",Vx="dropstart",Ux="dropup-center",$x="dropdown-center",Sa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fx=`${Sa}.${Hl}`,mh=".dropdown-menu",jx=".navbar",Bx=".navbar-nav",Hx=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",zx=ri()?"top-end":"top-start",Wx=ri()?"top-start":"top-end",qx=ri()?"bottom-end":"bottom-start",Kx=ri()?"bottom-start":"bottom-end",Gx=ri()?"left-start":"right-start",Qx=ri()?"right-start":"left-start",Yx="top",Xx="bottom",Jx={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Zx={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let Rc=class gh extends Ai{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=We.next(this._element,mh)[0]||We.prev(this._element,mh)[0]||We.findOne(mh,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Jx}static get DefaultType(){return Zx}static get NAME(){return q0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Lo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!de.trigger(this._element,Dx,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bx))for(const r of[].concat(...document.body.children))de.on(r,"mouseover",Nh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Hl),this._element.classList.add(Hl),de.trigger(this._element,xx,e)}}hide(){if(Lo(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!de.trigger(this._element,Nx,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))de.off(r,"mouseover",Nh);this._popper&&this._popper.destroy(),this._menu.classList.remove(Hl),this._element.classList.remove(Hl),this._element.setAttribute("aria-expanded","false"),Ss.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,Px,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Is(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${q0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof EC>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Is(this._config.reference)?e=Oo(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Vv(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Hl)}_getPlacement(){const e=this._parent;if(e.classList.contains(Mx))return Gx;if(e.classList.contains(Vx))return Qx;if(e.classList.contains(Ux))return Yx;if(e.classList.contains($x))return Xx;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Lx)?t?Wx:zx:t?Kx:qx}_detectNavbar(){return this._element.closest(jx)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ss.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...wr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=We.find(Hx,this._menu).filter(i=>bc(i));r.length&&Uv(r,t,e===G0,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=gh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===kx||e.type==="keyup"&&e.key!==K0)return;const t=We.find(Fx);for(const r of t){const i=gh.getInstance(r);if(!i||i._config.autoClose===!1)continue;const o=e.composedPath(),l=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===K0||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const u={relatedTarget:i._element};e.type==="click"&&(u.clickEvent=e),i._completeHide(u)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===Ax,i=[Rx,G0].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const o=this.matches(Sa)?this:We.prev(this,Sa)[0]||We.next(this,Sa)[0]||We.findOne(Sa,e.delegateTarget.parentNode),l=gh.getOrCreateInstance(o);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),o.focus())}};de.on(document,WC,Sa,Rc.dataApiKeydownHandler);de.on(document,WC,mh,Rc.dataApiKeydownHandler);de.on(document,zC,Rc.clearMenus);de.on(document,Ox,Rc.clearMenus);de.on(document,zC,Sa,function(n){n.preventDefault(),Rc.getOrCreateInstance(this).toggle()});oi(Rc);const qC="backdrop",eO="fade",Q0="show",Y0=`mousedown.bs.${qC}`,tO={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},nO={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class KC extends md{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return tO}static get DefaultType(){return nO}static get NAME(){return qC}show(e){if(!this._config.isVisible){wr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&pd(t),t.classList.add(Q0),this._emulateAnimation(()=>{wr(e)})}hide(e){if(!this._config.isVisible){wr(e);return}this._getElement().classList.remove(Q0),this._emulateAnimation(()=>{this.dispose(),wr(e)})}dispose(){this._isAppended&&(de.off(this._element,Y0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(eO),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Oo(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),de.on(e,Y0,()=>{wr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){bC(e,this._getElement(),this._config.isAnimated)}}const rO="focustrap",iO="bs.focustrap",Dh=`.${iO}`,sO=`focusin${Dh}`,oO=`keydown.tab${Dh}`,aO="Tab",lO="forward",X0="backward",cO={autofocus:!0,trapElement:null},uO={autofocus:"boolean",trapElement:"element"};class GC extends md{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cO}static get DefaultType(){return uO}static get NAME(){return rO}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),de.off(document,Dh),de.on(document,sO,e=>this._handleFocusin(e)),de.on(document,oO,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,Dh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=We.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===X0?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===aO&&(this._lastTabNavDirection=e.shiftKey?X0:lO)}}const J0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Z0=".sticky-top",Yf="padding-right",eT="margin-right";class Sy{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Yf,t=>t+e),this._setElementAttributes(J0,Yf,t=>t+e),this._setElementAttributes(Z0,eT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Yf),this._resetElementAttributes(J0,Yf),this._resetElementAttributes(Z0,eT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),o=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const u=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(u))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Ss.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const o=Ss.getDataAttribute(i,t);if(o===null){i.style.removeProperty(t);return}Ss.removeDataAttribute(i,t),i.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Is(e)){t(e);return}for(const r of We.find(e,this._element))t(r)}}const dO="modal",fO="bs.modal",ii=`.${fO}`,hO=".data-api",pO="Escape",mO=`hide${ii}`,gO=`hidePrevented${ii}`,QC=`hidden${ii}`,YC=`show${ii}`,yO=`shown${ii}`,vO=`resize${ii}`,_O=`click.dismiss${ii}`,wO=`mousedown.dismiss${ii}`,EO=`keydown.dismiss${ii}`,TO=`click${ii}${hO}`,tT="modal-open",IO="fade",nT="show",Lg="modal-static",SO=".modal.show",CO=".modal-dialog",bO=".modal-body",AO='[data-bs-toggle="modal"]',RO={backdrop:!0,focus:!0,keyboard:!0},kO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let xh=class XC extends Ai{constructor(e,t){super(e,t),this._dialog=We.findOne(CO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Sy,this._addEventListeners()}static get Default(){return RO}static get DefaultType(){return kO}static get NAME(){return dO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||de.trigger(this._element,YC,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(tT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||de.trigger(this._element,mO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nT),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){de.off(window,ii),de.off(this._dialog,ii),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new KC({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GC({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=We.findOne(bO,this._dialog);t&&(t.scrollTop=0),pd(this._element),this._element.classList.add(nT);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,yO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){de.on(this._element,EO,e=>{if(e.key===pO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),de.on(window,vO,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),de.on(this._element,wO,e=>{de.one(this._element,_O,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(tT),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,QC)})}_isAnimated(){return this._element.classList.contains(IO)}_triggerBackdropTransition(){if(de.trigger(this._element,gO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Lg)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Lg),this._queueCallback(()=>{this._element.classList.remove(Lg),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=ri()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=ri()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=XC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};de.on(document,TO,AO,function(n){const e=We.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),de.one(e,YC,i=>{i.defaultPrevented||de.one(e,QC,()=>{bc(this)&&this.focus()})});const t=We.findOne(SO);t&&xh.getInstance(t).hide(),xh.getOrCreateInstance(e).toggle(this)});dp(xh);oi(xh);const NO="offcanvas",PO="bs.offcanvas",$s=`.${PO}`,JC=".data-api",DO=`load${$s}${JC}`,xO="Escape",rT="show",iT="showing",sT="hiding",OO="offcanvas-backdrop",ZC=".offcanvas.show",LO=`show${$s}`,MO=`shown${$s}`,VO=`hide${$s}`,oT=`hidePrevented${$s}`,eb=`hidden${$s}`,UO=`resize${$s}`,$O=`click${$s}${JC}`,FO=`keydown.dismiss${$s}`,jO='[data-bs-toggle="offcanvas"]',BO={backdrop:!0,keyboard:!0,scroll:!1},HO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let oc=class tb extends Ai{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return BO}static get DefaultType(){return HO}static get NAME(){return NO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||de.trigger(this._element,LO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Sy().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(iT);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(rT),this._element.classList.remove(iT),de.trigger(this._element,MO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||de.trigger(this._element,VO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(sT),this._backdrop.hide();const t=()=>{this._element.classList.remove(rT,sT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Sy().reset(),de.trigger(this._element,eb)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){de.trigger(this._element,oT);return}this.hide()},t=!!this._config.backdrop;return new KC({className:OO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new GC({trapElement:this._element})}_addEventListeners(){de.on(this._element,FO,e=>{if(e.key===xO){if(this._config.keyboard){this.hide();return}de.trigger(this._element,oT)}})}static jQueryInterface(e){return this.each(function(){const t=tb.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};de.on(document,$O,jO,function(n){const e=We.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Lo(this))return;de.one(e,eb,()=>{bc(this)&&this.focus()});const t=We.findOne(ZC);t&&t!==e&&oc.getInstance(t).hide(),oc.getOrCreateInstance(e).toggle(this)});de.on(window,DO,()=>{for(const n of We.find(ZC))oc.getOrCreateInstance(n).show()});de.on(window,UO,()=>{for(const n of We.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&oc.getOrCreateInstance(n).hide()});dp(oc);oi(oc);const zO=/^aria-[\w-]*$/i,nb={"*":["class","dir","id","lang","role",zO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},WO=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,KO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?WO.has(t)?!!qO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function GO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const l of o){const u=l.nodeName.toLowerCase();if(!Object.keys(e).includes(u)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[u]||[]);for(const m of f)KO(m,p)||l.removeAttribute(m.nodeName)}return i.body.innerHTML}const QO="TemplateFactory",YO={allowList:nb,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},XO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},JO={entry:"(string|element|function|null)",selector:"(string|element)"};class ZO extends md{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return YO}static get DefaultType(){return XO}static get NAME(){return QO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},JO)}_setContent(e,t,r){const i=We.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Is(t)){this._putElementInTemplate(Oo(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?GO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return wr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const eL="tooltip",tL=new Set(["sanitize","allowList","sanitizeFn"]),Mg="fade",nL="modal",Xf="show",rL=".tooltip-inner",aT=`.${nL}`,lT="hide.bs.modal",Eu="hover",Vg="focus",iL="click",sL="manual",oL="hide",aL="hidden",lL="show",cL="shown",uL="inserted",dL="click",fL="focusin",hL="focusout",pL="mouseenter",mL="mouseleave",gL={AUTO:"auto",TOP:"top",RIGHT:ri()?"left":"right",BOTTOM:"bottom",LEFT:ri()?"right":"left"},yL={allowList:nb,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},vL={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let fp=class rb extends Ai{constructor(e,t){if(typeof EC>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yL}static get DefaultType(){return vL}static get NAME(){return eL}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(aT),lT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=de.trigger(this._element,this.constructor.eventName(lL)),r=(SC(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),de.trigger(this._element,this.constructor.eventName(uL))),this._popper=this._createPopper(i),i.classList.add(Xf),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))de.on(u,"mouseover",Nh);const l=()=>{de.trigger(this._element,this.constructor.eventName(cL)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||de.trigger(this._element,this.constructor.eventName(oL)).defaultPrevented)return;if(this._getTipElement().classList.remove(Xf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))de.off(i,"mouseover",Nh);this._activeTrigger[iL]=!1,this._activeTrigger[Vg]=!1,this._activeTrigger[Eu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.eventName(aL)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Mg,Xf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=iD(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Mg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ZO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[rL]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mg)}_isShown(){return this.tip&&this.tip.classList.contains(Xf)}_createPopper(e){const t=wr(this._config.placement,[this,e,this._element]),r=gL[t.toUpperCase()];return Vv(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return wr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...wr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")de.on(this._element,this.constructor.eventName(dL),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==sL){const r=t===Eu?this.constructor.eventName(pL):this.constructor.eventName(fL),i=t===Eu?this.constructor.eventName(mL):this.constructor.eventName(hL);de.on(this._element,r,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusin"?Vg:Eu]=!0,l._enter()}),de.on(this._element,i,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusout"?Vg:Eu]=l._element.contains(o.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(aT),lT,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Ss.getDataAttributes(this._element);for(const r of Object.keys(t))tL.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Oo(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=rb.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};oi(fp);const _L="popover",wL=".popover-header",EL=".popover-body",TL={...fp.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},IL={...fp.DefaultType,content:"(null|string|element|function)"};let SL=class ib extends fp{static get Default(){return TL}static get DefaultType(){return IL}static get NAME(){return _L}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[wL]:this._getTitle(),[EL]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=ib.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};oi(SL);const CL="scrollspy",bL="bs.scrollspy",Bv=`.${bL}`,AL=".data-api",RL=`activate${Bv}`,cT=`click${Bv}`,kL=`load${Bv}${AL}`,NL="dropdown-item",Ml="active",PL='[data-bs-spy="scroll"]',Ug="[href]",DL=".nav, .list-group",uT=".nav-link",xL=".nav-item",OL=".list-group-item",LL=`${uT}, ${xL} > ${uT}, ${OL}`,ML=".dropdown",VL=".dropdown-toggle",UL={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},$L={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class hp extends Ai{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return UL}static get DefaultType(){return $L}static get NAME(){return CL}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Oo(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(de.off(this._config.target,cT),de.on(this._config.target,cT,Ug,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const u=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&u){if(r(l),!i)return;continue}!o&&!u&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=We.find(Ug,this._config.target);for(const t of e){if(!t.hash||Lo(t))continue;const r=We.findOne(decodeURI(t.hash),this._element);bc(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Ml),this._activateParents(e),de.trigger(this._element,RL,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(NL)){We.findOne(VL,e.closest(ML)).classList.add(Ml);return}for(const t of We.parents(e,DL))for(const r of We.prev(t,LL))r.classList.add(Ml)}_clearActiveClass(e){e.classList.remove(Ml);const t=We.find(`${Ug}.${Ml}`,e);for(const r of t)r.classList.remove(Ml)}static jQueryInterface(e){return this.each(function(){const t=hp.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(window,kL,()=>{for(const n of We.find(PL))hp.getOrCreateInstance(n)});oi(hp);const FL="tab",jL="bs.tab",Wa=`.${jL}`,BL=`hide${Wa}`,HL=`hidden${Wa}`,zL=`show${Wa}`,WL=`shown${Wa}`,qL=`click${Wa}`,KL=`keydown${Wa}`,GL=`load${Wa}`,QL="ArrowLeft",dT="ArrowRight",YL="ArrowUp",fT="ArrowDown",$g="Home",hT="End",Ca="active",pT="fade",Fg="show",XL="dropdown",sb=".dropdown-toggle",JL=".dropdown-menu",jg=`:not(${sb})`,ZL='.list-group, .nav, [role="tablist"]',eM=".nav-item, .list-group-item",tM=`.nav-link${jg}, .list-group-item${jg}, [role="tab"]${jg}`,ob='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Bg=`${tM}, ${ob}`,nM=`.${Ca}[data-bs-toggle="tab"], .${Ca}[data-bs-toggle="pill"], .${Ca}[data-bs-toggle="list"]`;class ac extends Ai{constructor(e){super(e),this._parent=this._element.closest(ZL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),de.on(this._element,KL,t=>this._keydown(t)))}static get NAME(){return FL}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?de.trigger(t,BL,{relatedTarget:e}):null;de.trigger(e,zL,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Ca),this._activate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Fg);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),de.trigger(e,WL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(pT))}_deactivate(e,t){if(!e)return;e.classList.remove(Ca),e.blur(),this._deactivate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Fg);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),de.trigger(e,HL,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(pT))}_keydown(e){if(![QL,dT,YL,fT,$g,hT].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!Lo(i));let r;if([$g,hT].includes(e.key))r=t[e.key===$g?0:t.length-1];else{const i=[dT,fT].includes(e.key);r=Uv(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),ac.getOrCreateInstance(r).show())}_getChildren(){return We.find(Bg,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=We.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(XL))return;const i=(o,l)=>{const u=We.findOne(o,r);u&&u.classList.toggle(l,t)};i(sb,Ca),i(JL,Fg),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Ca)}_getInnerElement(e){return e.matches(Bg)?e:We.findOne(Bg,e)}_getOuterElement(e){return e.closest(eM)||e}static jQueryInterface(e){return this.each(function(){const t=ac.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(document,qL,ob,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Lo(this)&&ac.getOrCreateInstance(this).show()});de.on(window,GL,()=>{for(const n of We.find(nM))ac.getOrCreateInstance(n)});oi(ac);const rM="toast",iM="bs.toast",qo=`.${iM}`,sM=`mouseover${qo}`,oM=`mouseout${qo}`,aM=`focusin${qo}`,lM=`focusout${qo}`,cM=`hide${qo}`,uM=`hidden${qo}`,dM=`show${qo}`,fM=`shown${qo}`,hM="fade",mT="hide",Jf="show",Zf="showing",pM={animation:"boolean",autohide:"boolean",delay:"number"},mM={animation:!0,autohide:!0,delay:5e3};class pp extends Ai{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return mM}static get DefaultType(){return pM}static get NAME(){return rM}show(){if(de.trigger(this._element,dM).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(hM);const t=()=>{this._element.classList.remove(Zf),de.trigger(this._element,fM),this._maybeScheduleHide()};this._element.classList.remove(mT),pd(this._element),this._element.classList.add(Jf,Zf),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||de.trigger(this._element,cM).defaultPrevented)return;const t=()=>{this._element.classList.add(mT),this._element.classList.remove(Zf,Jf),de.trigger(this._element,uM)};this._element.classList.add(Zf),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Jf),super.dispose()}isShown(){return this._element.classList.contains(Jf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,sM,e=>this._onInteraction(e,!0)),de.on(this._element,oM,e=>this._onInteraction(e,!1)),de.on(this._element,aM,e=>this._onInteraction(e,!0)),de.on(this._element,lM,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=pp.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}dp(pp);oi(pp);var Hg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var gT;function gM(){return gT||(gT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)e.call(o,u)&&o[u]&&(l=i(l,u));return l}function i(o,l){return l?o?o+" "+l:o+l:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Hg)),Hg.exports}var yM=gM();const ye=dd(yM);function Cy(){return Cy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cy.apply(null,arguments)}function ab(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function yT(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function vM(n){var e=_M(n,"string");return typeof e=="symbol"?e:String(e)}function _M(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lb(n,e,t){var r=w.useRef(n!==void 0),i=w.useState(e),o=i[0],l=i[1],u=n!==void 0,f=r.current;return r.current=u,!u&&f&&o!==e&&l(e),[u?n:o,w.useCallback(function(p){for(var m=arguments.length,y=new Array(m>1?m-1:0),T=1;T<m;T++)y[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(y)),l(p)},[t])]}function qa(n,e){return Object.keys(e).reduce(function(t,r){var i,o=t,l=o[yT(r)],u=o[r],f=ab(o,[yT(r),r].map(vM)),p=e[r],m=lb(u,l,n[p]),y=m[0],T=m[1];return Cy({},f,(i={},i[r]=y,i[p]=T,i))},n)}function by(n,e){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},by(n,e)}function wM(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,by(n,e)}var zg={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function EM(){if(vT)return Tu;vT=1;var n=Tv(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,p){var m,y={},T=null,S=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(S=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(y[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:u,key:T,ref:S,props:y,_owner:i.current}}return Tu.Fragment=t,Tu.jsx=l,Tu.jsxs=l,Tu}var _T;function TM(){return _T||(_T=1,zg.exports=EM()),zg.exports}var Hv=TM();const E=Hv.jsx,ee=Hv.jsxs,Ht=Hv.Fragment,IM=["xxl","xl","lg","md","sm","xs"],SM="xs",yd=w.createContext({prefixes:{},breakpoints:IM,minBreakpoint:SM}),{Consumer:yz,Provider:vz}=yd;function Ee(n,e){const{prefixes:t}=w.useContext(yd);return n||t[e]||e}function cb(){const{breakpoints:n}=w.useContext(yd);return n}function ub(){const{minBreakpoint:n}=w.useContext(yd);return n}function vd(){const{dir:n}=w.useContext(yd);return n==="rtl"}function kc(n){return n&&n.ownerDocument||document}function CM(n){var e=kc(n);return e&&e.defaultView||window}function bM(n,e){return CM(n).getComputedStyle(n,e)}var AM=/([A-Z])/g;function RM(n){return n.replace(AM,"-$1").toLowerCase()}var kM=/^ms-/;function eh(n){return RM(n).replace(kM,"-ms-")}var NM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function PM(n){return!!(n&&NM.test(n))}function Cs(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(eh(e))||bM(n).getPropertyValue(eh(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?n.style.removeProperty(eh(i)):PM(i)?r+=i+"("+o+") ":t+=eh(i)+": "+o+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var Wg={exports:{}},qg,wT;function DM(){if(wT)return qg;wT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qg=n,qg}var Kg,ET;function xM(){if(ET)return Kg;ET=1;var n=DM();function e(){}function t(){}return t.resetWarningCache=e,Kg=function(){function r(l,u,f,p,m,y){if(y!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Kg}var TT;function OM(){return TT||(TT=1,Wg.exports=xM()()),Wg.exports}var LM=OM();const nr=dd(LM);var db=tC();const So=dd(db),MM=eC({__proto__:null,default:So},[db]),IT={disabled:!1},fb=nt.createContext(null);var VM=function(e){return e.scrollTop},Nu="unmounted",_o="exited",Ti="entering",vs="entered",Gu="exiting",Fs=function(n){wM(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,u=l&&!l.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?u?(f=_o,o.appearStatus=Ti):f=vs:r.unmountOnExit||r.mountOnEnter?f=Nu:f=_o,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===Nu?{status:_o}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ti&&l!==vs&&(o=Ti):(l===Ti||l===vs)&&(o=Gu)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,u;return o=l=u=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,u=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:u}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ti){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:So.findDOMNode(this);l&&VM(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_o&&this.setState({status:Nu})},t.performEnter=function(i){var o=this,l=this.props.enter,u=this.context?this.context.isMounting:i,f=this.props.nodeRef?[u]:[So.findDOMNode(this),u],p=f[0],m=f[1],y=this.getTimeouts(),T=u?y.appear:y.enter;if(!i&&!l||IT.disabled){this.safeSetState({status:vs},function(){o.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Ti},function(){o.props.onEntering(p,m),o.onTransitionEnd(T,function(){o.safeSetState({status:vs},function(){o.props.onEntered(p,m)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),u=this.props.nodeRef?void 0:So.findDOMNode(this);if(!o||IT.disabled){this.safeSetState({status:_o},function(){i.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Gu},function(){i.props.onExiting(u),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:_o},function(){i.props.onExited(u)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(u){l&&(l=!1,o.nextCallback=null,i(u))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:So.findDOMNode(this),u=i==null&&!this.props.addEndListener;if(!l||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],m=f[1];this.props.addEndListener(p,m)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Nu)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var u=ab(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nt.createElement(fb.Provider,{value:null},typeof l=="function"?l(i,u):nt.cloneElement(nt.Children.only(l),u))},e}(nt.Component);Fs.contextType=fb;Fs.propTypes={};function Vl(){}Fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vl,onEntering:Vl,onEntered:Vl,onExit:Vl,onExiting:Vl,onExited:Vl};Fs.UNMOUNTED=Nu;Fs.EXITED=_o;Fs.ENTERING=Ti;Fs.ENTERED=vs;Fs.EXITING=Gu;function hb(n){return n.code==="Escape"||n.keyCode===27}function UM(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Ka(n){if(!n||typeof n=="function")return null;const{major:e}=UM();return e>=19?n.props.ref:n.ref}const Nc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ay=!1,Ry=!1;try{var Gg={get passive(){return Ay=!0},get once(){return Ry=Ay=!0}};Nc&&(window.addEventListener("test",Gg,Gg),window.removeEventListener("test",Gg,!0))}catch{}function zv(n,e,t,r){if(r&&typeof r!="boolean"&&!Ry){var i=r.once,o=r.capture,l=t;!Ry&&i&&(l=t.__once||function u(f){this.removeEventListener(e,u,o),t.call(this,f)},t.__once=l),n.addEventListener(e,l,Ay?r:o)}n.addEventListener(e,t,r)}function ky(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function _s(n,e,t,r){return zv(n,e,t,r),function(){ky(n,e,t,r)}}function $M(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function FM(n){var e=Cs(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function jM(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||$M(n,"transitionend",!0)},e+t),o=_s(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function pb(n,e,t,r){t==null&&(t=FM(n)||0);var i=jM(n,t,r),o=_s(n,"transitionend",e);return function(){i(),o()}}function ST(n,e){const t=Cs(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function mp(n,e){const t=ST(n,"transitionDuration"),r=ST(n,"transitionDelay"),i=pb(n,o=>{o.target===n&&(i(),e(o))},t+r)}function Iu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function Wv(n){n.offsetHeight}const CT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function BM(n,e){const t=CT(n),r=CT(e);return i=>{t&&t(i),r&&r(i)}}function Pc(n,e){return w.useMemo(()=>BM(n,e),[n,e])}function Oh(n){return n&&"setState"in n?So.findDOMNode(n):n??null}const gp=nt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:o,addEndListener:l,children:u,childRef:f,...p},m)=>{const y=w.useRef(null),T=Pc(y,f),S=G=>{T(Oh(G))},k=G=>C=>{G&&y.current&&G(y.current,C)},N=w.useCallback(k(n),[n]),R=w.useCallback(k(e),[e]),x=w.useCallback(k(t),[t]),M=w.useCallback(k(r),[r]),V=w.useCallback(k(i),[i]),j=w.useCallback(k(o),[o]),q=w.useCallback(k(l),[l]);return E(Fs,{ref:m,...p,onEnter:N,onEntered:x,onEntering:R,onExit:M,onExited:j,onExiting:V,addEndListener:q,nodeRef:y,children:typeof u=="function"?(G,C)=>u(G,{...C,ref:S}):nt.cloneElement(u,{ref:S})})}),HM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function zM(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=HM[n];return r+parseInt(Cs(e,i[0]),10)+parseInt(Cs(e,i[1]),10)}const WM={[_o]:"collapse",[Gu]:"collapsing",[Ti]:"collapsing",[vs]:"collapse show"},mb=nt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:o,children:l,dimension:u="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:y=!1,appear:T=!1,getDimensionValue:S=zM,...k},N)=>{const R=typeof u=="function"?u():u,x=w.useMemo(()=>Iu(G=>{G.style[R]="0"},n),[R,n]),M=w.useMemo(()=>Iu(G=>{const C=`scroll${R[0].toUpperCase()}${R.slice(1)}`;G.style[R]=`${G[C]}px`},e),[R,e]),V=w.useMemo(()=>Iu(G=>{G.style[R]=null},t),[R,t]),j=w.useMemo(()=>Iu(G=>{G.style[R]=`${S(R,G)}px`,Wv(G)},r),[r,S,R]),q=w.useMemo(()=>Iu(G=>{G.style[R]=null},i),[R,i]);return E(gp,{ref:N,addEndListener:mp,...k,"aria-expanded":k.role?f:null,onEnter:x,onEntering:M,onEntered:V,onExit:j,onExiting:q,childRef:Ka(l),in:f,timeout:p,mountOnEnter:m,unmountOnExit:y,appear:T,children:(G,C)=>nt.cloneElement(l,{...C,className:ye(o,l.props.className,WM[G],R==="width"&&"collapse-horizontal")})})});function gb(n,e){return Array.isArray(n)?n.includes(e):n===e}const _d=w.createContext({});_d.displayName="AccordionContext";const qv=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...o},l)=>{const{activeEventKey:u}=w.useContext(_d);return e=Ee(e,"accordion-collapse"),E(mb,{ref:l,in:gb(u,i),...o,className:ye(t,e),children:E(n,{children:w.Children.only(r)})})});qv.displayName="AccordionCollapse";const yp=w.createContext({eventKey:""});yp.displayName="AccordionItemContext";const yb=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:f,...p},m)=>{e=Ee(e,"accordion-body");const{eventKey:y}=w.useContext(yp);return E(qv,{eventKey:y,onEnter:r,onEntering:i,onEntered:o,onExit:l,onExiting:u,onExited:f,children:E(n,{ref:m,...p,className:ye(t,e)})})});yb.displayName="AccordionBody";function qM(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=w.useContext(_d);return o=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(u=>u!==n):l=[...t,n]:l=[n]),r==null||r(l,o),e==null||e(o)}}const Kv=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},o)=>{e=Ee(e,"accordion-button");const{eventKey:l}=w.useContext(yp),u=qM(l,r),{activeEventKey:f}=w.useContext(_d);return n==="button"&&(i.type="button"),E(n,{ref:o,onClick:u,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!gb(f,l)&&"collapsed")})});Kv.displayName="AccordionButton";const vb=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:o,...l},u)=>(t=Ee(t,"accordion-header"),E(n,{ref:u,...l,className:ye(r,t),children:E(Kv,{onClick:o,"aria-controls":e,children:i})})));vb.displayName="AccordionHeader";const _b=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},o)=>{e=Ee(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return E(yp.Provider,{value:l,children:E(n,{ref:o,...i,className:ye(t,e)})})});_b.displayName="AccordionItem";const wb=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:o,onSelect:l,flush:u,alwaysOpen:f,...p}=qa(n,{activeKey:"onSelect"}),m=Ee(i,"accordion"),y=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return E(_d.Provider,{value:y,children:E(t,{ref:e,...p,className:ye(o,m,u&&`${m}-flush`)})})});wb.displayName="Accordion";const Co=Object.assign(wb,{Button:Kv,Collapse:qv,Item:_b,Header:vb,Body:yb});function Eb(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function si(n){const e=Eb(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const wd=n=>w.forwardRef((e,t)=>E("div",{...e,ref:t,className:ye(e.className,n)})),Tb=wd("h4");Tb.displayName="DivStyledAsH4";const Ib=w.forwardRef(({className:n,bsPrefix:e,as:t=Tb,...r},i)=>(e=Ee(e,"alert-heading"),E(t,{ref:i,className:ye(n,e),...r})));Ib.displayName="AlertHeading";function Ny(){return w.useState(null)}function KM(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function xn(n){const e=KM(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function GM(n,e,t,r=!1){const i=xn(t);w.useEffect(()=>{const o=typeof n=="function"?n():n;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[n])}function Sb(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Cb(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const QM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",YM=typeof document<"u",bT=YM||QM?w.useLayoutEffect:w.useEffect,XM=["as","disabled"];function JM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ZM(n){return!n||n.trim()==="#"}function Gv({tagName:n,disabled:e,href:t,target:r,rel:i,role:o,onClick:l,tabIndex:u=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const m=T=>{if((e||n==="a"&&ZM(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},y=T=>{T.key===" "&&(T.preventDefault(),m(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:u,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:m,onKeyDown:y},p]}const Qv=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=JM(n,XM);const[o,{tagName:l}]=Gv(Object.assign({tagName:t,disabled:r},i));return E(l,Object.assign({},i,o,{ref:e}))});Qv.displayName="Button";const e2=["onKeyDown"];function t2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function n2(n){return!n||n.trim()==="#"}const lc=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=t2(n,e2);const[i]=Gv(Object.assign({tagName:"a"},r)),o=xn(l=>{i.onKeyDown(l),t==null||t(l)});return n2(r.href)||r.role==="button"?E("a",Object.assign({ref:e},r,i,{onKeyDown:o})):E("a",Object.assign({ref:e},r,{onKeyDown:t}))});lc.displayName="Anchor";const bb=w.forwardRef(({className:n,bsPrefix:e,as:t=lc,...r},i)=>(e=Ee(e,"alert-link"),E(t,{ref:i,className:ye(n,e),...r})));bb.displayName="AlertLink";const r2={[Ti]:"show",[vs]:"show"},Mo=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},u=w.useCallback((f,p)=>{Wv(f),r==null||r(f,p)},[r]);return E(gp,{ref:o,addEndListener:mp,...l,onEnter:u,childRef:Ka(e),children:(f,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,r2[f],t[f])})})});Mo.displayName="Fade";const i2={"aria-label":nr.string,onClick:nr.func,variant:nr.oneOf(["white"])},Dc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>E("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));Dc.displayName="CloseButton";Dc.propTypes=i2;const Ab=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:o,className:l,children:u,variant:f="primary",onClose:p,dismissible:m,transition:y=Mo,...T}=qa(n,{show:"onClose"}),S=Ee(t,"alert"),k=si(x=>{p&&p(!1,x)}),N=y===!0?Mo:y,R=ee("div",{role:"alert",...N?void 0:T,ref:e,className:ye(l,S,f&&`${S}-${f}`,m&&`${S}-dismissible`),children:[m&&E(Dc,{onClick:k,"aria-label":i,variant:o}),u]});return N?E(N,{unmountOnExit:!0,...T,ref:void 0,in:r,children:R}):r?R:null});Ab.displayName="Alert";const cc=Object.assign(Ab,{Link:bb,Heading:Ib}),tn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:o=!1,className:l,...u},f)=>{const p=Ee(e,"btn"),[m,{tagName:y}]=Gv({tagName:n,disabled:o,...u});return E(y,{...m,...u,ref:f,disabled:o,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,u.href&&o&&"disabled")})});tn.displayName="Button";const Yv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-body"),E(t,{ref:i,className:ye(n,e),...r})));Yv.displayName="CardBody";const Rb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-footer"),E(t,{ref:i,className:ye(n,e),...r})));Rb.displayName="CardFooter";const Xv=w.createContext(null);Xv.displayName="CardHeaderContext";const kb=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Ee(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return E(Xv.Provider,{value:l,children:E(t,{ref:i,...r,className:ye(e,o)})})});kb.displayName="CardHeader";const Nb=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},o)=>{const l=Ee(n,"card-img");return E(r,{ref:o,className:ye(t?`${l}-${t}`:l,e),...i})});Nb.displayName="CardImg";const Pb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"card-img-overlay"),E(t,{ref:i,className:ye(n,e),...r})));Pb.displayName="CardImgOverlay";const Db=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=Ee(e,"card-link"),E(t,{ref:i,className:ye(n,e),...r})));Db.displayName="CardLink";const s2=wd("h6"),xb=w.forwardRef(({className:n,bsPrefix:e,as:t=s2,...r},i)=>(e=Ee(e,"card-subtitle"),E(t,{ref:i,className:ye(n,e),...r})));xb.displayName="CardSubtitle";const Ob=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=Ee(e,"card-text"),E(t,{ref:i,className:ye(n,e),...r})));Ob.displayName="CardText";const o2=wd("h5"),Lb=w.forwardRef(({className:n,bsPrefix:e,as:t=o2,...r},i)=>(e=Ee(e,"card-title"),E(t,{ref:i,className:ye(n,e),...r})));Lb.displayName="CardTitle";const Mb=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:o=!1,children:l,as:u="div",...f},p)=>{const m=Ee(n,"card");return E(u,{ref:p,...f,className:ye(e,m,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:o?E(Yv,{children:l}):l})});Mb.displayName="Card";const gs=Object.assign(Mb,{Img:Nb,Title:Lb,Subtitle:xb,Body:Yv,Link:Db,Text:Ob,Header:kb,Footer:Rb,ImgOverlay:Pb});function a2(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function l2(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function c2(n){const e=w.useRef(n);return e.current=n,e}function Vb(n){const e=c2(n);w.useEffect(()=>()=>e.current(),[])}const Py=2**31-1;function Ub(n,e,t){const r=t-Date.now();n.current=r<=Py?setTimeout(e,r):setTimeout(()=>Ub(n,e,t),Py)}function $b(){const n=l2(),e=w.useRef();return Vb(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,o=0){n()&&(t(),o<=Py?e.current=setTimeout(i,o):Ub(e,i,Date.now()+o))}return{set:r,clear:t,handleRef:e}},[])}const Fb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"carousel-caption"),E(t,{ref:i,className:ye(n,e),...r})));Fb.displayName="CarouselCaption";const jb=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const o=ye(t,Ee(e,"carousel-item"));return E(n,{ref:i,...r,className:o})});jb.displayName="CarouselItem";function AT(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function u2(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function d2(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const f2=40;function h2(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const Bb=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:o=!0,fade:l=!1,controls:u=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:m,onSelect:y,onSlide:T,onSlid:S,interval:k=5e3,keyboard:N=!0,onKeyDown:R,pause:x="hover",onMouseOver:M,onMouseOut:V,wrap:j=!0,touch:q=!0,onTouchStart:G,onTouchMove:C,onTouchEnd:b,prevIcon:P=E("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:L="Previous",nextIcon:U=E("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:F="Next",variant:O,className:we,children:Ne,...je}=qa({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Se=Ee(i,"carousel"),re=vd(),me=w.useRef(null),[ce,z]=w.useState("next"),[te,pe]=w.useState(!1),[ve,Ie]=w.useState(!1),[Ae,Ge]=w.useState(m||0);w.useEffect(()=>{!ve&&m!==Ae&&(me.current?z(me.current):z((m||0)>Ae?"next":"prev"),o&&Ie(!0),Ge(m||0))},[m,ve,Ae,o]),w.useEffect(()=>{me.current&&(me.current=null)});let Be=0,ot;u2(Ne,(ze,at)=>{++Be,at===m&&(ot=ze.props.interval)});const Tt=Eb(ot),Ct=w.useCallback(ze=>{if(ve)return;let at=Ae-1;if(at<0){if(!j)return;at=Be-1}me.current="prev",y==null||y(at,ze)},[ve,Ae,y,j,Be]),st=si(ze=>{if(ve)return;let at=Ae+1;if(at>=Be){if(!j)return;at=0}me.current="next",y==null||y(at,ze)}),Pt=w.useRef();w.useImperativeHandle(t,()=>({element:Pt.current,prev:Ct,next:st}));const Yt=si(()=>{!document.hidden&&h2(Pt.current)&&(re?Ct():st())}),it=ce==="next"?"start":"end";a2(()=>{o||(T==null||T(Ae,it),S==null||S(Ae,it))},[Ae]);const zt=`${Se}-item-${ce}`,vn=`${Se}-item-${it}`,Fr=w.useCallback(ze=>{Wv(ze),T==null||T(Ae,it)},[T,Ae,it]),Qn=w.useCallback(()=>{Ie(!1),S==null||S(Ae,it)},[S,Ae,it]),Wt=w.useCallback(ze=>{if(N&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),re?st(ze):Ct(ze);return;case"ArrowRight":ze.preventDefault(),re?Ct(ze):st(ze);return}R==null||R(ze)},[N,R,Ct,st,re]),rn=w.useCallback(ze=>{x==="hover"&&pe(!0),M==null||M(ze)},[x,M]),or=w.useCallback(ze=>{pe(!1),V==null||V(ze)},[V]),Mn=w.useRef(0),Ot=w.useRef(0),fn=$b(),$e=w.useCallback(ze=>{Mn.current=ze.touches[0].clientX,Ot.current=0,x==="hover"&&pe(!0),G==null||G(ze)},[x,G]),gt=w.useCallback(ze=>{ze.touches&&ze.touches.length>1?Ot.current=0:Ot.current=ze.touches[0].clientX-Mn.current,C==null||C(ze)},[C]),Lt=w.useCallback(ze=>{if(q){const at=Ot.current;Math.abs(at)>f2&&(at>0?Ct(ze):st(ze))}x==="hover"&&fn.set(()=>{pe(!1)},k||void 0),b==null||b(ze)},[q,x,Ct,st,fn,k,b]),_n=k!=null&&!te&&!ve,Yn=w.useRef();w.useEffect(()=>{var ze,at;if(!_n)return;const wn=re?Ct:st;return Yn.current=window.setInterval(document.visibilityState?Yt:wn,(ze=(at=Tt.current)!=null?at:k)!=null?ze:void 0),()=>{Yn.current!==null&&clearInterval(Yn.current)}},[_n,Ct,st,Tt,k,Yt,re]);const Xn=w.useMemo(()=>f&&Array.from({length:Be},(ze,at)=>wn=>{y==null||y(at,wn)}),[f,Be,y]);return ee(r,{ref:Pt,...je,onKeyDown:Wt,onMouseOver:rn,onMouseOut:or,onTouchStart:$e,onTouchMove:gt,onTouchEnd:Lt,className:ye(we,Se,o&&"slide",l&&`${Se}-fade`,O&&`${Se}-${O}`),children:[f&&E("div",{className:`${Se}-indicators`,children:AT(Ne,(ze,at)=>E("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[at]:`Slide ${at+1}`,className:at===Ae?"active":void 0,onClick:Xn?Xn[at]:void 0,"aria-current":at===Ae},at))}),E("div",{className:`${Se}-inner`,children:AT(Ne,(ze,at)=>{const wn=at===Ae;return o?E(gp,{in:wn,onEnter:wn?Fr:void 0,onEntered:wn?Qn:void 0,addEndListener:mp,children:(ar,Ri)=>w.cloneElement(ze,{...Ri,className:ye(ze.props.className,wn&&ar!=="entered"&&zt,(ar==="entered"||ar==="exiting")&&"active",(ar==="entering"||ar==="exiting")&&vn)})}):w.cloneElement(ze,{className:ye(ze.props.className,wn&&"active")})})}),u&&ee(Ht,{children:[(j||m!==0)&&ee(lc,{className:`${Se}-control-prev`,onClick:Ct,children:[P,L&&E("span",{className:"visually-hidden",children:L})]}),(j||m!==Be-1)&&ee(lc,{className:`${Se}-control-next`,onClick:st,children:[U,F&&E("span",{className:"visually-hidden",children:F})]})]})]})});Bb.displayName="Carousel";const RT=Object.assign(Bb,{Caption:Fb,Item:jb});function p2({as:n,bsPrefix:e,className:t,...r}){e=Ee(e,"col");const i=cb(),o=ub(),l=[],u=[];return i.forEach(f=>{const p=r[f];delete r[f];let m,y,T;typeof p=="object"&&p!=null?{span:m,offset:y,order:T}=p:m=p;const S=f!==o?`-${f}`:"";m&&l.push(m===!0?`${e}${S}`:`${e}${S}-${m}`),T!=null&&u.push(`order${S}-${T}`),y!=null&&u.push(`offset${S}-${y}`)}),[{...r,className:ye(t,...l,...u)},{as:n,bsPrefix:e,spans:l}]}const Lr=w.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:o,spans:l}]=p2(n);return E(i,{...r,ref:e,className:ye(t,!l.length&&o)})});Lr.displayName="Col";const Zi=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},o)=>{const l=Ee(n,"container"),u=typeof e=="string"?`-${e}`:"-fluid";return E(t,{ref:o,...i,className:ye(r,e?`${l}${u}`:l)})});Zi.displayName="Container";var m2=Function.prototype.bind.call(Function.prototype.call,[].slice);function ys(n,e){return m2(n.querySelectorAll(e))}function g2(n,e,t){const r=w.useRef(n!==void 0),[i,o]=w.useState(e),l=n!==void 0,u=r.current;return r.current=l,!l&&u&&i!==e&&o(e),[l?n:i,w.useCallback((...f)=>{const[p,...m]=f;let y=t==null?void 0:t(p,...m);return o(p),y},[t])]}function Hb(){const[,n]=w.useReducer(e=>e+1,0);return n}const vp=w.createContext(null);var kT=Object.prototype.hasOwnProperty;function NT(n,e,t){for(t of n.keys())if(Bu(t,e))return t}function Bu(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Bu(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=NT(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=NT(e,i),!i)||!Bu(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(kT.call(n,t)&&++r&&!kT.call(e,t)||!(t in e)||!Bu(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function y2(n){const e=Sb();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const v2=hd({defaultModifiers:[Ov,up,lp,cp,Lv,xv,Mv,kv]}),_2=["enabled","placement","strategy","modifiers"];function w2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const E2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},T2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${t.id}`:t.id)}}},I2=[];function zb(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:l=I2}=t,u=w2(t,_2);const f=w.useRef(l),p=w.useRef(),m=w.useCallback(()=>{var R;(R=p.current)==null||R.update()},[]),y=w.useCallback(()=>{var R;(R=p.current)==null||R.forceUpdate()},[]),[T,S]=y2(w.useState({placement:i,update:m,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),k=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:R})=>{const x={},M={};Object.keys(R.elements).forEach(V=>{x[V]=R.styles[V],M[V]=R.attributes[V]}),S({state:R,styles:x,attributes:M,update:m,forceUpdate:y,placement:R.placement})}}),[m,y,S]),N=w.useMemo(()=>(Bu(f.current,l)||(f.current=l),f.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:o,modifiers:[...N,k,E2]})},[o,i,k,r,N]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=v2(n,e,Object.assign({},u,{placement:i,strategy:o,modifiers:[...N,T2,k]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(R=>Object.assign({},R,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function Qu(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Qg,PT;function S2(){if(PT)return Qg;PT=1;var n=function(){};return Qg=n,Qg}var C2=S2();const b2=dd(C2),DT=()=>{};function A2(n){return n.button===0}function R2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const yh=n=>n&&("current"in n?n.current:n),xT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Wb(n,e=DT,{disabled:t,clickTrigger:r="click"}={}){const i=w.useRef(!1),o=w.useRef(!1),l=w.useCallback(p=>{const m=yh(n);b2(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!m||R2(p)||!A2(p)||!!Qu(m,p.target)||o.current,o.current=!1},[n]),u=xn(p=>{const m=yh(n);m&&Qu(m,p.target)?o.current=!0:o.current=!1}),f=xn(p=>{i.current||e(p)});w.useEffect(()=>{var p,m;if(t||n==null)return;const y=kc(yh(n)),T=y.defaultView||window;let S=(p=T.event)!=null?p:(m=T.parent)==null?void 0:m.event,k=null;xT[r]&&(k=_s(y,xT[r],u,!0));const N=_s(y,r,l,!0),R=_s(y,r,M=>{if(M===S){S=void 0;return}f(M)});let x=[];return"ontouchstart"in y.documentElement&&(x=[].slice.call(y.body.children).map(M=>_s(M,"mousemove",DT))),()=>{k==null||k(),N(),R(),x.forEach(M=>M())}},[n,t,r,l,u,f])}function k2(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function N2(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function qb({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:o,containerPadding:l,arrowElement:u,popperConfig:f={}}){var p,m,y,T,S;const k=k2(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:o?"fixed":f.strategy,modifiers:N2(Object.assign({},k,{eventListeners:{enabled:e,options:(p=k.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},k.preventOverflow,{options:l?Object.assign({padding:l},(m=k.preventOverflow)==null?void 0:m.options):(y=k.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:i},(T=k.offset)==null?void 0:T.options)},arrow:Object.assign({},k.arrow,{enabled:!!u,options:Object.assign({},(S=k.arrow)==null?void 0:S.options,{element:u})}),flip:Object.assign({enabled:!!r},k.flip)}))})}const P2=["children","usePopper"];function D2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const x2=()=>{};function Kb(n={}){const e=w.useContext(vp),[t,r]=Ny(),i=w.useRef(!1),{flip:o,offset:l,rootCloseEvent:u,fixed:f=!1,placement:p,popperConfig:m={},enableEventListeners:y=!0,usePopper:T=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!i.current&&(i.current=!0);const k=G=>{e==null||e.toggle(!1,G)},{placement:N,setMenu:R,menuElement:x,toggleElement:M}=e||{},V=zb(M,x,qb({placement:p||N||"bottom-start",enabled:T,enableEvents:y??S,offset:l,flip:o,fixed:f,arrowElement:t,popperConfig:m})),j=Object.assign({ref:R||x2,"aria-labelledby":M==null?void 0:M.id},V.attributes.popper,{style:V.styles.popper}),q={show:S,placement:N,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?V:null,arrowProps:T?Object.assign({ref:r},V.attributes.arrow,{style:V.styles.arrow}):{}};return Wb(x,k,{clickTrigger:u,disabled:!S}),[j,q]}function Gb(n){let{children:e,usePopper:t=!0}=n,r=D2(n,P2);const[i,o]=Kb(Object.assign({},r,{usePopper:t}));return E(Ht,{children:e(i,o)})}Gb.displayName="DropdownMenu";const Jv={prefix:String(Math.round(Math.random()*1e10)),current:0},Qb=nt.createContext(Jv),O2=nt.createContext(!1);let L2=!!(typeof window<"u"&&window.document&&window.document.createElement),Yg=new WeakMap;function M2(n=!1){let e=w.useContext(Qb),t=w.useRef(null);if(t.current===null&&!n){var r,i;let o=(i=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let l=Yg.get(o);l==null?Yg.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==l.state&&(e.current=l.id,Yg.delete(o))}t.current=++e.current}return t.current}function V2(n){let e=w.useContext(Qb);e===Jv&&!L2&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=M2(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function U2(n){let e=nt.useId(),[t]=w.useState(H2()),r=t?"react-aria":`react-aria${Jv.prefix}`;return n||`${r}-${e}`}const $2=typeof nt.useId=="function"?U2:V2;function F2(){return!1}function j2(){return!0}function B2(n){return()=>{}}function H2(){return typeof nt.useSyncExternalStore=="function"?nt.useSyncExternalStore(B2,F2,j2):w.useContext(O2)}const Yb=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},OT=()=>{};function Xb(){const n=$2(),{show:e=!1,toggle:t=OT,setToggle:r,menuElement:i}=w.useContext(vp)||{},o=w.useCallback(u=>{t(!e,u)},[e,t]),l={id:n,ref:r||OT,onClick:o,"aria-expanded":!!e};return i&&Yb(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function Jb({children:n}){const[e,t]=Xb();return E(Ht,{children:n(e,t)})}Jb.displayName="DropdownToggle";const Oa=w.createContext(null),uc=(n,e=null)=>n!=null?String(n):e||null,_p=w.createContext(null);_p.displayName="NavContext";const z2="data-rr-ui-",W2="rrUi";function xc(n){return`${z2}${n}`}function q2(n){return`${W2}${n}`}const K2=["eventKey","disabled","onClick","active","as"];function G2(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Zb({key:n,href:e,active:t,disabled:r,onClick:i}){const o=w.useContext(Oa),l=w.useContext(_p),{activeKey:u}=l||{},f=uc(n,e),p=t==null&&n!=null?uc(u)===f:t;return[{onClick:xn(y=>{r||(i==null||i(y),o&&!y.isPropagationStopped()&&o(f,y))}),"aria-disabled":r||void 0,"aria-selected":p,[xc("dropdown-item")]:""},{isActive:p}]}const eA=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:o,as:l=Qv}=n,u=G2(n,K2);const[f]=Zb({key:t,href:u.href,disabled:r,onClick:i,active:o});return E(l,Object.assign({},u,{ref:e},f))});eA.displayName="DropdownItem";const tA=w.createContext(Nc?window:void 0);tA.Provider;function wp(){return w.useContext(tA)}function LT(){const n=Hb(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Ed({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${xc("dropdown-item")}]`,focusFirstItemOnShow:o,placement:l="bottom-start",children:u}){const f=wp(),[p,m]=g2(e,n,r),[y,T]=LT(),S=y.current,[k,N]=LT(),R=k.current,x=Cb(p),M=w.useRef(null),V=w.useRef(!1),j=w.useContext(Oa),q=w.useCallback((U,F,O=F==null?void 0:F.type)=>{m(U,{originalEvent:F,source:O})},[m]),G=xn((U,F)=>{t==null||t(U,F),q(!1,F,"select"),F.isPropagationStopped()||j==null||j(U,F)}),C=w.useMemo(()=>({toggle:q,placement:l,show:p,menuElement:S,toggleElement:R,setMenu:T,setToggle:N}),[q,l,p,S,R,T,N]);S&&x&&!p&&(V.current=S.contains(S.ownerDocument.activeElement));const b=xn(()=>{R&&R.focus&&R.focus()}),P=xn(()=>{const U=M.current;let F=o;if(F==null&&(F=y.current&&Yb(y.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(U))return;const O=ys(y.current,i)[0];O&&O.focus&&O.focus()});w.useEffect(()=>{p?P():V.current&&(V.current=!1,b())},[p,V,b,P]),w.useEffect(()=>{M.current=null});const L=(U,F)=>{if(!y.current)return null;const O=ys(y.current,i);let we=O.indexOf(U)+F;return we=Math.max(0,Math.min(we,O.length)),O[we]};return GM(w.useCallback(()=>f.document,[f]),"keydown",U=>{var F,O;const{key:we}=U,Ne=U.target,je=(F=y.current)==null?void 0:F.contains(Ne),Se=(O=k.current)==null?void 0:O.contains(Ne);if(/input|textarea/i.test(Ne.tagName)&&(we===" "||we!=="Escape"&&je||we==="Escape"&&Ne.type==="search")||!je&&!Se||we==="Tab"&&(!y.current||!p))return;M.current=U.type;const me={originalEvent:U,source:U.type};switch(we){case"ArrowUp":{const ce=L(Ne,-1);ce&&ce.focus&&ce.focus(),U.preventDefault();return}case"ArrowDown":if(U.preventDefault(),!p)m(!0,me);else{const ce=L(Ne,1);ce&&ce.focus&&ce.focus()}return;case"Tab":zv(Ne.ownerDocument,"keyup",ce=>{var z;(ce.key==="Tab"&&!ce.target||!((z=y.current)!=null&&z.contains(ce.target)))&&m(!1,me)},{once:!0});break;case"Escape":we==="Escape"&&(U.preventDefault(),U.stopPropagation()),m(!1,me);break}}),E(Oa.Provider,{value:G,children:E(vp.Provider,{value:C,children:u})})}Ed.displayName="Dropdown";Ed.Menu=Gb;Ed.Toggle=Jb;Ed.Item=eA;const Zv=w.createContext({});Zv.displayName="DropdownContext";const nA=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},o)=>(e=Ee(e,"dropdown-divider"),E(t,{ref:o,className:ye(n,e),role:r,...i})));nA.displayName="DropdownDivider";const rA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},o)=>(e=Ee(e,"dropdown-header"),E(t,{ref:o,className:ye(n,e),role:r,...i})));rA.displayName="DropdownHeader";const iA=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:o,as:l=lc,...u},f)=>{const p=Ee(n,"dropdown-item"),[m,y]=Zb({key:t,href:u.href,disabled:r,onClick:i,active:o});return E(l,{...u,...m,ref:f,className:ye(e,p,y.isActive&&"active",r&&"disabled")})});iA.displayName="DropdownItem";const sA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ee(e,"dropdown-item-text"),E(t,{ref:i,className:ye(n,e),...r})));sA.displayName="DropdownItemText";const Q2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Y2=typeof document<"u",e_=Y2||Q2?w.useLayoutEffect:w.useEffect,t_=w.createContext(null);t_.displayName="InputGroupContext";const Ga=w.createContext(null);Ga.displayName="NavbarContext";function oA(n,e){return n}function aA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",o=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",u=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",m=t?"left-end":"right-end";let y=n?l:o;return e==="up"?y=n?i:r:e==="end"?y=n?m:p:e==="start"?y=n?f:u:e==="down-centered"?y="bottom":e==="up-centered"&&(y="top"),y}const lA=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:l,as:u="div",popperConfig:f,variant:p,...m},y)=>{let T=!1;const S=w.useContext(Ga),k=Ee(n,"dropdown-menu"),{align:N,drop:R,isRTL:x}=w.useContext(Zv);t=t||N;const M=w.useContext(t_),V=[];if(t)if(typeof t=="object"){const U=Object.keys(t);if(U.length){const F=U[0],O=t[F];T=O==="start",V.push(`${k}-${F}-${O}`)}}else t==="end"&&(T=!0);const j=aA(T,R,x),[q,{hasShown:G,popper:C,show:b,toggle:P}]=Kb({flip:i,rootCloseEvent:r,show:o,usePopper:!S&&V.length===0,offset:[0,2],popperConfig:f,placement:j});if(q.ref=Pc(oA(y),q.ref),e_(()=>{b&&(C==null||C.update())},[b]),!G&&!l&&!M)return null;typeof u!="string"&&(q.show=b,q.close=()=>P==null?void 0:P(!1),q.align=t);let L=m.style;return C!=null&&C.placement&&(L={...m.style,...q.style},m["x-placement"]=C.placement),E(u,{...m,...q,style:L,...(V.length||S)&&{"data-bs-popper":"static"},className:ye(e,k,b&&"show",T&&`${k}-end`,p&&`${k}-${p}`,...V)})});lA.displayName="DropdownMenu";const cA=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=tn,...o},l)=>{const u=Ee(n,"dropdown-toggle"),f=w.useContext(vp);r!==void 0&&(o.bsPrefix=r);const[p]=Xb();return p.ref=Pc(p.ref,oA(l)),E(i,{className:ye(t,u,e&&`${u}-split`,(f==null?void 0:f.show)&&"show"),...p,...o})});cA.displayName="DropdownToggle";const uA=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:o,align:l="start",onSelect:u,onToggle:f,focusFirstItemOnShow:p,as:m="div",navbar:y,autoClose:T=!0,...S}=qa(n,{show:"onToggle"}),k=w.useContext(t_),N=Ee(t,"dropdown"),R=vd(),x=C=>T===!1?C==="click":T==="inside"?C!=="rootClose":T==="outside"?C!=="select":!0,M=si((C,b)=>{var P;!((P=b.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&b.source==="mousedown"||(b.originalEvent.currentTarget===document&&(b.source!=="keydown"||b.originalEvent.key==="Escape")&&(b.source="rootClose"),x(b.source)&&(f==null||f(C,b)))}),j=aA(l==="end",r,R),q=w.useMemo(()=>({align:l,drop:r,isRTL:R}),[l,r,R]),G={down:N,"down-centered":`${N}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E(Zv.Provider,{value:q,children:E(Ed,{placement:j,show:i,onSelect:u,onToggle:M,focusFirstItemOnShow:p,itemSelector:`.${N}-item:not(.disabled):not(:disabled)`,children:k?S.children:E(m,{...S,ref:e,className:ye(o,i&&"show",G[r])})})})});uA.displayName="Dropdown";const ba=Object.assign(uA,{Toggle:cA,Menu:lA,Item:iA,ItemText:sA,Divider:nA,Header:rA});nr.string,nr.bool,nr.bool,nr.bool,nr.bool;const Yu=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:o=!1,...l},u)=>(n=Ee(n,"img"),E("img",{ref:u,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",o&&`${n}-thumbnail`)})));Yu.displayName="Image";const X2={type:nr.string,tooltip:nr.bool,as:nr.elementType},Ep=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},o)=>E(n,{...i,ref:o,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));Ep.displayName="Feedback";Ep.propTypes=X2;const Ds=w.createContext({}),n_=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:l="input",...u},f)=>{const{controlId:p}=w.useContext(Ds);return e=Ee(e,"form-check-input"),E(l,{...u,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",o&&"is-invalid")})});n_.displayName="FormCheckInput";const Lh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:o}=w.useContext(Ds);return n=Ee(n,"form-check-label"),E("label",{...r,ref:i,htmlFor:t||o,className:ye(e,n)})});Lh.displayName="FormCheckLabel";const dA=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:m,className:y,style:T,title:S="",type:k="checkbox",label:N,children:R,as:x="input",...M},V)=>{e=Ee(e,"form-check"),t=Ee(t,"form-switch");const{controlId:j}=w.useContext(Ds),q=w.useMemo(()=>({controlId:n||j}),[j,n]),G=!R&&N!=null&&N!==!1||d2(R,Lh),C=E(n_,{...M,type:k==="switch"?"checkbox":k,ref:V,isValid:l,isInvalid:u,disabled:o,as:x});return E(Ds.Provider,{value:q,children:E("div",{style:T,className:ye(y,G&&e,r&&`${e}-inline`,i&&`${e}-reverse`,k==="switch"&&t),children:R||ee(Ht,{children:[C,G&&E(Lh,{title:S,children:N}),p&&E(Ep,{type:m,tooltip:f,children:p})]})})})});dA.displayName="FormCheck";const Mh=Object.assign(dA,{Input:n_,Label:Lh}),fA=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:f,readOnly:p,as:m="input",...y},T)=>{const{controlId:S}=w.useContext(Ds);return n=Ee(n,"form-control"),E(m,{...y,type:e,size:r,ref:T,readOnly:p,id:i||S,className:ye(o,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",u&&"is-invalid")})});fA.displayName="FormControl";const J2=Object.assign(fA,{Feedback:Ep}),hA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"form-floating"),E(t,{ref:i,className:ye(n,e),...r})));hA.displayName="FormFloating";const r_=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=w.useMemo(()=>({controlId:n}),[n]);return E(Ds.Provider,{value:i,children:E(e,{...t,ref:r})})});r_.displayName="FormGroup";const pA=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...l},u)=>{const{controlId:f}=w.useContext(Ds);e=Ee(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const m=ye(i,e,r&&"visually-hidden",t&&p);return o=o||f,t?E(Lr,{ref:u,as:"label",className:m,htmlFor:o,...l}):E(n,{ref:u,className:m,htmlFor:o,...l})});pA.displayName="FormLabel";const mA=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:o}=w.useContext(Ds);return n=Ee(n,"form-range"),E("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||o})});mA.displayName="FormRange";const gA=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:o=!1,id:l,...u},f)=>{const{controlId:p}=w.useContext(Ds);return n=Ee(n,"form-select"),E("select",{...u,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",o&&"is-invalid"),id:l||p})});gA.displayName="FormSelect";const yA=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},o)=>(n=Ee(n,"form-text"),E(t,{...i,ref:o,className:ye(e,n,r&&"text-muted")})));yA.displayName="FormText";const vA=w.forwardRef((n,e)=>E(Mh,{...n,ref:e,type:"switch"}));vA.displayName="Switch";const Z2=Object.assign(vA,{Input:Mh.Input,Label:Mh.Label}),i_=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...o},l)=>(n=Ee(n,"form-floating"),ee(r_,{ref:l,className:ye(e,n),controlId:r,...o,children:[t,E("label",{htmlFor:r,children:i})]})));i_.displayName="FloatingLabel";const eV={_ref:nr.any,validated:nr.bool,as:nr.elementType},s_=w.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>E(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));s_.displayName="Form";s_.propTypes=eV;const Zr=Object.assign(s_,{Group:r_,Control:J2,Floating:hA,Check:Mh,Switch:Z2,Label:pA,Text:yA,Range:mA,Select:gA,FloatingLabel:i_}),MT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function tV(n,e){const t=MT(n),r=MT(e);return i=>{t&&t(i),r&&r(i)}}function Td(n,e){return w.useMemo(()=>tV(n,e),[n,e])}const _A=w.createContext(null),nV=["as","active","eventKey"];function rV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function o_({key:n,onClick:e,active:t,id:r,role:i,disabled:o}){const l=w.useContext(Oa),u=w.useContext(_p),f=w.useContext(_A);let p=t;const m={role:i};if(u){!i&&u.role==="tablist"&&(m.role="tab");const y=u.getControllerId(n??null),T=u.getControlledId(n??null);m[xc("event-key")]=n,m.id=y||r,p=t==null&&n!=null?u.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(m["aria-controls"]=T)}return m.role==="tab"&&(m["aria-selected"]=p,p||(m.tabIndex=-1),o&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=xn(y=>{o||(e==null||e(y),n!=null&&l&&!y.isPropagationStopped()&&l(n,y))}),[m,{isActive:p}]}const wA=w.forwardRef((n,e)=>{let{as:t=Qv,active:r,eventKey:i}=n,o=rV(n,nV);const[l,u]=o_(Object.assign({key:uc(i,o.href),active:r},o));return l[xc("active")]=u.isActive,E(t,Object.assign({},o,l,{ref:e}))});wA.displayName="NavItem";const iV=["as","onSelect","activeKey","role","onKeyDown"];function sV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const VT=()=>{},UT=xc("event-key"),EA=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:o,onKeyDown:l}=n,u=sV(n,iV);const f=Hb(),p=w.useRef(!1),m=w.useContext(Oa),y=w.useContext(_A);let T,S;y&&(o=o||"tablist",i=y.activeKey,T=y.getControlledId,S=y.getControllerId);const k=w.useRef(null),N=V=>{const j=k.current;if(!j)return null;const q=ys(j,`[${UT}]:not([aria-disabled=true])`),G=j.querySelector("[aria-selected=true]");if(!G||G!==document.activeElement)return null;const C=q.indexOf(G);if(C===-1)return null;let b=C+V;return b>=q.length&&(b=0),b<0&&(b=q.length-1),q[b]},R=(V,j)=>{V!=null&&(r==null||r(V,j),m==null||m(V,j))},x=V=>{if(l==null||l(V),!y)return;let j;switch(V.key){case"ArrowLeft":case"ArrowUp":j=N(-1);break;case"ArrowRight":case"ArrowDown":j=N(1);break;default:return}j&&(V.preventDefault(),R(j.dataset[q2("EventKey")]||null,V),p.current=!0,f())};w.useEffect(()=>{if(k.current&&p.current){const V=k.current.querySelector(`[${UT}][aria-selected=true]`);V==null||V.focus()}p.current=!1});const M=Td(e,k);return E(Oa.Provider,{value:R,children:E(_p.Provider,{value:{role:o,activeKey:uc(i),getControlledId:T||VT,getControllerId:S||VT},children:E(t,Object.assign({},u,{onKeyDown:x,ref:M,role:o}))})})});EA.displayName="Nav";const TA=Object.assign(EA,{Item:wA}),IA=w.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:i,variant:o,action:l,as:u,...f},p)=>{n=Ee(n,"list-group-item");const[m,y]=o_({key:uc(r,f.href),active:e,...f}),T=si(k=>{if(t){k.preventDefault(),k.stopPropagation();return}m.onClick(k)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const S=u||(l?f.href?"a":"button":"div");return E(S,{ref:p,...f,...m,onClick:T,className:ye(i,n,y.isActive&&"active",t&&"disabled",o&&`${n}-${o}`,l&&`${n}-action`)})});IA.displayName="ListGroupItem";const SA=w.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:i,horizontal:o,numbered:l,as:u="div",...f}=qa(n,{activeKey:"onSelect"}),p=Ee(r,"list-group");let m;return o&&(m=o===!0?"horizontal":`horizontal-${o}`),E(TA,{ref:e,...f,as:u,className:ye(t,p,i&&`${p}-${i}`,m&&`${p}-${m}`,l&&`${p}-numbered`)})});SA.displayName="ListGroup";const Pr=Object.assign(SA,{Item:IA});var th;function $T(n){if((!th&&th!==0||n)&&Nc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),th=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return th}function oV(){return w.useState(null)}function Xg(n){n===void 0&&(n=kc());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function aV(n){const e=w.useRef(n);return e.current=n,e}function lV(n){const e=aV(n);w.useEffect(()=>()=>e.current(),[])}function cV(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const FT=xc("modal-open");class a_{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return cV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(Cs(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(FT,""),Cs(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(FT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Jg=(n,e)=>Nc?n==null?(e||kc()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Dy(n,e){const t=wp(),[r,i]=w.useState(()=>Jg(n,t==null?void 0:t.document));if(!r){const o=Jg(n);o&&i(o)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const o=Jg(n);o!==r&&i(o)},[n,r]),r}function uV({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const o=w.useRef(null),l=w.useRef(e),u=xn(t);w.useEffect(()=>{e?l.current=!0:u(o.current)},[e,u]);const f=Td(o,Ka(n)),p=w.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const dV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function fV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function hV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:o,onExited:l,addEndListener:u,children:f}=n,p=fV(n,dV);const m=w.useRef(null),y=Td(m,Ka(f)),T=j=>q=>{j&&m.current&&j(m.current,q)},S=w.useCallback(T(e),[e]),k=w.useCallback(T(t),[t]),N=w.useCallback(T(r),[r]),R=w.useCallback(T(i),[i]),x=w.useCallback(T(o),[o]),M=w.useCallback(T(l),[l]),V=w.useCallback(T(u),[u]);return Object.assign({},p,{nodeRef:m},e&&{onEnter:S},t&&{onEntering:k},r&&{onEntered:N},i&&{onExit:R},o&&{onExiting:x},l&&{onExited:M},u&&{addEndListener:V},{children:typeof f=="function"?(j,q)=>f(j,Object.assign({},q,{ref:y})):w.cloneElement(f,{ref:y})})}const pV=["component"];function mV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const gV=w.forwardRef((n,e)=>{let{component:t}=n,r=mV(n,pV);const i=hV(r);return E(t,Object.assign({ref:e},i))});function yV({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),i=xn(e);return bT(()=>{if(!t.current)return;let o=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[n,i]),bT(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function vV({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[o,l]=w.useState(!e);e&&o&&l(!1);const u=yV({in:!!e,onTransition:p=>{const m=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(m,y=>{throw p.in||l(!0),y})}}),f=Td(u,Ka(n));return o&&!e?null:w.cloneElement(n,{ref:f})}function xy(n,e,t){return n?E(gV,Object.assign({},t,{component:n})):e?E(vV,Object.assign({},t,{transition:e})):E(uV,Object.assign({},t))}const _V=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function wV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let Zg;function EV(n){return Zg||(Zg=new a_({ownerDocument:n==null?void 0:n.document})),Zg}function TV(n){const e=wp(),t=n||EV(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const CA=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:o,children:l,backdrop:u=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:m,transition:y,runTransition:T,backdropTransition:S,runBackdropTransition:k,autoFocus:N=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:M,renderDialog:V,renderBackdrop:j=it=>E("div",Object.assign({},it)),manager:q,container:G,onShow:C,onHide:b=()=>{},onExit:P,onExited:L,onExiting:U,onEnter:F,onEntering:O,onEntered:we}=n,Ne=wV(n,_V);const je=wp(),Se=Dy(G),re=TV(q),me=Sb(),ce=Cb(t),[z,te]=w.useState(!t),pe=w.useRef(null);w.useImperativeHandle(e,()=>re,[re]),Nc&&!ce&&t&&(pe.current=Xg(je==null?void 0:je.document)),t&&z&&te(!1);const ve=xn(()=>{if(re.add(),Tt.current=_s(document,"keydown",Be),ot.current=_s(document,"focus",()=>setTimeout(Ae),!0),C&&C(),N){var it,zt;const vn=Xg((it=(zt=re.dialog)==null?void 0:zt.ownerDocument)!=null?it:je==null?void 0:je.document);re.dialog&&vn&&!Qu(re.dialog,vn)&&(pe.current=vn,re.dialog.focus())}}),Ie=xn(()=>{if(re.remove(),Tt.current==null||Tt.current(),ot.current==null||ot.current(),x){var it;(it=pe.current)==null||it.focus==null||it.focus(M),pe.current=null}});w.useEffect(()=>{!t||!Se||ve()},[t,Se,ve]),w.useEffect(()=>{z&&Ie()},[z,Ie]),lV(()=>{Ie()});const Ae=xn(()=>{if(!R||!me()||!re.isTopModal())return;const it=Xg(je==null?void 0:je.document);re.dialog&&it&&!Qu(re.dialog,it)&&re.dialog.focus()}),Ge=xn(it=>{it.target===it.currentTarget&&(p==null||p(it),u===!0&&b())}),Be=xn(it=>{f&&hb(it)&&re.isTopModal()&&(m==null||m(it),it.defaultPrevented||b())}),ot=w.useRef(),Tt=w.useRef(),Ct=(...it)=>{te(!0),L==null||L(...it)};if(!Se)return null;const st=Object.assign({role:r,ref:re.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ne,{style:o,className:i,tabIndex:-1});let Pt=V?V(st):E("div",Object.assign({},st,{children:w.cloneElement(l,{role:"document"})}));Pt=xy(y,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:U,onExited:Ct,onEnter:F,onEntering:O,onEntered:we,children:Pt});let Yt=null;return u&&(Yt=j({ref:re.setBackdropRef,onClick:Ge}),Yt=xy(S,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Yt})),E(Ht,{children:So.createPortal(ee(Ht,{children:[Yt,Pt]}),Se)})});CA.displayName="Modal";const bA=Object.assign(CA,{Manager:a_});function Oy(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function IV(n,e){n.classList?n.classList.add(e):Oy(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function jT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function SV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=jT(n.className,e):n.setAttribute("class",jT(n.className&&n.className.baseVal||"",e))}const Ul={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class AA extends a_{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,Cs(t,{[e]:`${parseFloat(Cs(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],Cs(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(IV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ys(t,Ul.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),ys(t,Ul.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),ys(t,Ul.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();SV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";ys(t,Ul.FIXED_CONTENT).forEach(o=>this.restore(r,o)),ys(t,Ul.STICKY_CONTENT).forEach(o=>this.restore(i,o)),ys(t,Ul.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let ey;function RA(n){return ey||(ey=new AA(n)),ey}const kA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"modal-body"),E(t,{ref:i,className:ye(n,e),...r})));kA.displayName="ModalBody";const l_=w.createContext({onHide(){}}),c_=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:o,children:l,scrollable:u,...f},p)=>{n=Ee(n,"modal");const m=`${n}-dialog`,y=typeof o=="string"?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return E("div",{...f,ref:p,className:ye(m,e,i&&`${n}-${i}`,r&&`${m}-centered`,u&&`${m}-scrollable`,o&&y),children:E("div",{className:ye(`${n}-content`,t),children:l})})});c_.displayName="ModalDialog";const NA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"modal-footer"),E(t,{ref:i,className:ye(n,e),...r})));NA.displayName="ModalFooter";const PA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...o},l)=>{const u=w.useContext(l_),f=si(()=>{u==null||u.onHide(),r==null||r()});return ee("div",{ref:l,...o,children:[i,t&&E(Dc,{"aria-label":n,variant:e,onClick:f})]})}),DA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=Ee(n,"modal-header"),E(PA,{ref:o,...i,className:ye(e,n),closeLabel:t,closeButton:r})));DA.displayName="ModalHeader";const CV=wd("h4"),xA=w.forwardRef(({className:n,bsPrefix:e,as:t=CV,...r},i)=>(e=Ee(e,"modal-title"),E(t,{ref:i,className:ye(n,e),...r})));xA.displayName="ModalTitle";function bV(n){return E(Mo,{...n,timeout:null})}function AV(n){return E(Mo,{...n,timeout:null})}const OA=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:o,dialogAs:l=c_,"data-bs-theme":u,"aria-labelledby":f,"aria-describedby":p,"aria-label":m,show:y=!1,animation:T=!0,backdrop:S=!0,keyboard:k=!0,onEscapeKeyDown:N,onShow:R,onHide:x,container:M,autoFocus:V=!0,enforceFocus:j=!0,restoreFocus:q=!0,restoreFocusOptions:G,onEntered:C,onExit:b,onExiting:P,onEnter:L,onEntering:U,onExited:F,backdropClassName:O,manager:we,...Ne},je)=>{const[Se,re]=w.useState({}),[me,ce]=w.useState(!1),z=w.useRef(!1),te=w.useRef(!1),pe=w.useRef(null),[ve,Ie]=oV(),Ae=Pc(je,Ie),Ge=si(x),Be=vd();n=Ee(n,"modal");const ot=w.useMemo(()=>({onHide:Ge}),[Ge]);function Tt(){return we||RA({isRTL:Be})}function Ct($e){if(!Nc)return;const gt=Tt().getScrollbarWidth()>0,Lt=$e.scrollHeight>kc($e).documentElement.clientHeight;re({paddingRight:gt&&!Lt?$T():void 0,paddingLeft:!gt&&Lt?$T():void 0})}const st=si(()=>{ve&&Ct(ve.dialog)});Vb(()=>{ky(window,"resize",st),pe.current==null||pe.current()});const Pt=()=>{z.current=!0},Yt=$e=>{z.current&&ve&&$e.target===ve.dialog&&(te.current=!0),z.current=!1},it=()=>{ce(!0),pe.current=pb(ve.dialog,()=>{ce(!1)})},zt=$e=>{$e.target===$e.currentTarget&&it()},vn=$e=>{if(S==="static"){zt($e);return}if(te.current||$e.target!==$e.currentTarget){te.current=!1;return}x==null||x()},Fr=$e=>{k?N==null||N($e):($e.preventDefault(),S==="static"&&it())},Qn=($e,gt)=>{$e&&Ct($e),L==null||L($e,gt)},Wt=$e=>{pe.current==null||pe.current(),b==null||b($e)},rn=($e,gt)=>{U==null||U($e,gt),zv(window,"resize",st)},or=$e=>{$e&&($e.style.display=""),F==null||F($e),ky(window,"resize",st)},Mn=w.useCallback($e=>E("div",{...$e,className:ye(`${n}-backdrop`,O,!T&&"show")}),[T,O,n]),Ot={...t,...Se};Ot.display="block";const fn=$e=>E("div",{role:"dialog",...$e,style:Ot,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:S?vn:void 0,onMouseUp:Yt,"data-bs-theme":u,"aria-label":m,"aria-labelledby":f,"aria-describedby":p,children:E(l,{...Ne,onMouseDown:Pt,className:r,contentClassName:i,children:o})});return E(l_.Provider,{value:ot,children:E(bA,{show:y,ref:Ae,backdrop:S,container:M,keyboard:!0,autoFocus:V,enforceFocus:j,restoreFocus:q,restoreFocusOptions:G,onEscapeKeyDown:Fr,onShow:R,onHide:x,onEnter:Qn,onEntering:rn,onEntered:C,onExit:Wt,onExiting:P,onExited:or,manager:Tt(),transition:T?bV:void 0,backdropTransition:T?AV:void 0,renderBackdrop:Mn,renderDialog:fn})})});OA.displayName="Modal";const tr=Object.assign(OA,{Body:kA,Header:DA,Title:xA,Footer:NA,Dialog:c_,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),LA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"nav-item"),E(t,{ref:i,className:ye(n,e),...r})));LA.displayName="NavItem";const u_=w.forwardRef(({bsPrefix:n,className:e,as:t=lc,active:r,eventKey:i,disabled:o=!1,...l},u)=>{n=Ee(n,"nav-link");const[f,p]=o_({key:uc(i,l.href),active:r,disabled:o,...l});return E(t,{...l,...f,ref:u,disabled:o,className:ye(e,n,o&&"disabled",p.isActive&&"active")})});u_.displayName="NavLink";const MA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:o=!1,justify:l=!1,navbar:u,navbarScroll:f,className:p,activeKey:m,...y}=qa(n,{activeKey:"onSelect"}),T=Ee(r,"nav");let S,k,N=!1;const R=w.useContext(Ga),x=w.useContext(Xv);return R?(S=R.bsPrefix,N=u??!0):x&&({cardHeaderBsPrefix:k}=x),E(TA,{as:t,ref:e,activeKey:m,className:ye(p,{[T]:!N,[`${S}-nav`]:N,[`${S}-nav-scroll`]:N&&f,[`${k}-${i}`]:!!k,[`${T}-${i}`]:!!i,[`${T}-fill`]:o,[`${T}-justified`]:l}),...y})});MA.displayName="Nav";const wi=Object.assign(MA,{Item:LA,Link:u_}),VA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=Ee(n,"navbar-brand");const o=t||(r.href?"a":"span");return E(o,{...r,ref:i,className:ye(e,n)})});VA.displayName="NavbarBrand";const UA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Ee(e,"navbar-collapse");const i=w.useContext(Ga);return E(mb,{in:!!(i&&i.expanded),...t,children:E("div",{ref:r,className:e,children:n})})});UA.displayName="NavbarCollapse";const $A=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:o,...l},u)=>{n=Ee(n,"navbar-toggler");const{onToggle:f,expanded:p}=w.useContext(Ga)||{},m=si(y=>{o&&o(y),f&&f()});return i==="button"&&(l.type="button"),E(i,{...l,ref:u,onClick:m,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||E("span",{className:`${n}-icon`})})});$A.displayName="NavbarToggle";const Ly=new WeakMap,BT=(n,e)=>{if(!n||!e)return;const t=Ly.get(e)||new Map;Ly.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function RV(n,e=typeof window>"u"?void 0:window){const t=BT(n,e),[r,i]=w.useState(()=>t?t.matches:!1);return e_(()=>{let o=BT(n,e);if(!o)return i(!1);let l=Ly.get(e);const u=()=>{i(o.matches)};return o.refCount++,o.addListener(u),u(),()=>{o.removeListener(u),o.refCount--,o.refCount<=0&&(l==null||l.delete(o.media)),o=void 0}},[n]),r}function kV(n){const e=Object.keys(n);function t(u,f){return u===f?f:u?`${u} and ${f}`:f}function r(u){return e[Math.min(e.indexOf(u)+1,e.length-1)]}function i(u){const f=r(u);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function o(u){let f=n[u];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(u,f,p){let m;typeof u=="object"?(m=u,p=f,f=!0):(f=f||!0,m={[u]:f});let y=w.useMemo(()=>Object.entries(m).reduce((T,[S,k])=>((k==="up"||k===!0)&&(T=t(T,o(S))),(k==="down"||k===!0)&&(T=t(T,i(S))),T),""),[JSON.stringify(m)]);return RV(y,p)}return l}const NV=kV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),FA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"offcanvas-body"),E(t,{ref:i,className:ye(n,e),...r})));FA.displayName="OffcanvasBody";const PV={[Ti]:"show",[vs]:"show"},jA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:l=!1,...u},f)=>(n=Ee(n,"offcanvas"),E(gp,{ref:f,addEndListener:mp,in:r,mountOnEnter:i,unmountOnExit:o,appear:l,...u,childRef:Ka(t),children:(p,m)=>w.cloneElement(t,{...m,className:ye(e,t.props.className,(p===Ti||p===Gu)&&`${n}-toggling`,PV[p])})})));jA.displayName="OffcanvasToggling";const BA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},o)=>(n=Ee(n,"offcanvas-header"),E(PA,{ref:o,...i,className:ye(e,n),closeLabel:t,closeButton:r})));BA.displayName="OffcanvasHeader";const DV=wd("h5"),HA=w.forwardRef(({className:n,bsPrefix:e,as:t=DV,...r},i)=>(e=Ee(e,"offcanvas-title"),E(t,{ref:i,className:ye(n,e),...r})));HA.displayName="OffcanvasTitle";function xV(n){return E(jA,{...n})}function OV(n){return E(Mo,{...n})}const zA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:o,show:l=!1,backdrop:u=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:m,onShow:y,onHide:T,container:S,autoFocus:k=!0,enforceFocus:N=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:M,onExit:V,onExiting:j,onEnter:q,onEntering:G,onExited:C,backdropClassName:b,manager:P,renderStaticNode:L=!1,...U},F)=>{const O=w.useRef();n=Ee(n,"offcanvas");const[we,Ne]=w.useState(!1),je=si(T),Se=NV(o||"xs","up");w.useEffect(()=>{Ne(o?l&&!Se:l)},[l,o,Se]);const re=w.useMemo(()=>({onHide:je}),[je]);function me(){return P||(p?(O.current||(O.current=new AA({handleContainerOverflow:!1})),O.current):RA())}const ce=(ve,...Ie)=>{ve&&(ve.style.visibility="visible"),q==null||q(ve,...Ie)},z=(ve,...Ie)=>{ve&&(ve.style.visibility=""),C==null||C(...Ie)},te=w.useCallback(ve=>E("div",{...ve,className:ye(`${n}-backdrop`,b)}),[b,n]),pe=ve=>E("div",{...ve,...U,className:ye(e,o?`${n}-${o}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return ee(Ht,{children:[!we&&(o||L)&&pe({}),E(l_.Provider,{value:re,children:E(bA,{show:we,ref:F,backdrop:u,container:S,keyboard:f,autoFocus:k,enforceFocus:N&&!p,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:m,onShow:y,onHide:je,onEnter:ce,onEntering:G,onEntered:M,onExit:V,onExiting:j,onExited:z,manager:me(),transition:xV,backdropTransition:OV,renderBackdrop:te,renderDialog:pe})})]})});zA.displayName="Offcanvas";const LV=Object.assign(zA,{Body:FA,Header:BA,Title:HA}),WA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(Ga),i=si(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return E(LV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});WA.displayName="NavbarOffcanvas";const qA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=Ee(e,"navbar-text"),E(t,{ref:i,className:ye(n,e),...r})));qA.displayName="NavbarText";const KA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:o,fixed:l,sticky:u,className:f,as:p="nav",expanded:m,onToggle:y,onSelect:T,collapseOnSelect:S=!1,...k}=qa(n,{expanded:"onToggle"}),N=Ee(t,"navbar"),R=w.useCallback((...V)=>{T==null||T(...V),S&&m&&(y==null||y(!1))},[T,S,m,y]);k.role===void 0&&p!=="nav"&&(k.role="navigation");let x=`${N}-expand`;typeof r=="string"&&(x=`${x}-${r}`);const M=w.useMemo(()=>({onToggle:()=>y==null?void 0:y(!m),bsPrefix:N,expanded:!!m,expand:r}),[N,m,r,y]);return E(Ga.Provider,{value:M,children:E(Oa.Provider,{value:R,children:E(p,{ref:e,...k,className:ye(f,N,r&&x,i&&`${N}-${i}`,o&&`bg-${o}`,u&&`sticky-${u}`,l&&`fixed-${l}`)})})})});KA.displayName="Navbar";const nh=Object.assign(KA,{Brand:VA,Collapse:UA,Offcanvas:WA,Text:qA,Toggle:$A}),GA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:l,disabled:u,active:f,renderMenuOnMount:p,menuVariant:m,...y},T)=>{const S=Ee(void 0,"nav-item");return ee(ba,{ref:T,...y,className:ye(i,S),children:[E(ba.Toggle,{id:n,eventKey:null,active:f,disabled:u,childBsPrefix:r,as:u_,children:e}),E(ba.Menu,{role:l,renderOnMount:p,rootCloseEvent:o,variant:m,children:t})]})});GA.displayName="NavDropdown";const Su=Object.assign(GA,{Item:ba.Item,ItemText:ba.ItemText,Divider:ba.Divider,Header:ba.Header}),MV=()=>{};function VV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||MV;Wb(n,i,{disabled:t,clickTrigger:r});const o=xn(l=>{hb(l)&&i(l)});w.useEffect(()=>{if(t||n==null)return;const l=kc(yh(n));let u=(l.defaultView||window).event;const f=_s(l,"keyup",p=>{if(p===u){u=void 0;return}o(p)});return()=>{f()}},[n,t,o])}const QA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:o,popperConfig:l={},transition:u,runTransition:f}=n,[p,m]=Ny(),[y,T]=Ny(),S=Td(m,e),k=Dy(n.container),N=Dy(n.target),[R,x]=w.useState(!n.show),M=zb(N,p,qb({placement:i,enableEvents:!!n.show,containerPadding:o||5,flip:t,offset:r,arrowElement:y,popperConfig:l}));n.show&&R&&x(!1);const V=(...U)=>{x(!0),n.onExited&&n.onExited(...U)},j=n.show||!R;if(VV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!j)return null;const{onExit:q,onExiting:G,onEnter:C,onEntering:b,onEntered:P}=n;let L=n.children(Object.assign({},M.attributes.popper,{style:M.styles.popper,ref:S}),{popper:M,placement:i,show:!!n.show,arrowProps:Object.assign({},M.attributes.arrow,{style:M.styles.arrow,ref:T})});return L=xy(u,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:L,onExit:q,onExiting:G,onExited:V,onEnter:C,onEntering:b,onEntered:P}),k?So.createPortal(L,k):null});QA.displayName="Overlay";const YA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"popover-header"),E(t,{ref:i,className:ye(n,e),...r})));YA.displayName="PopoverHeader";const d_=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=Ee(e,"popover-body"),E(t,{ref:i,className:ye(n,e),...r})));d_.displayName="PopoverBody";function XA(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function JA(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const UV=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:o,arrowProps:l,hasDoneInitialMeasure:u,popper:f,show:p,...m},y)=>{const T=Ee(n,"popover"),S=vd(),[k]=(e==null?void 0:e.split("-"))||[],N=XA(k,S);let R=r;return p&&!u&&(R={...r,...JA(f==null?void 0:f.strategy)}),ee("div",{ref:y,role:"tooltip",style:R,"x-placement":k,className:ye(t,T,k&&`bs-popover-${N}`),...m,children:[E("div",{className:"popover-arrow",...l}),o?E(d_,{children:i}):i]})}),$V=Object.assign(UV,{Header:YA,Body:d_,POPPER_OFFSET:[0,8]}),ZA=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:o,hasDoneInitialMeasure:l,popper:u,show:f,...p},m)=>{n=Ee(n,"tooltip");const y=vd(),[T]=(e==null?void 0:e.split("-"))||[],S=XA(T,y);let k=r;return f&&!l&&(k={...r,...JA(u==null?void 0:u.strategy)}),ee("div",{ref:m,style:k,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${S}`),...p,children:[E("div",{className:"tooltip-arrow",...o}),E("div",{className:`${n}-inner`,children:i})]})});ZA.displayName="Tooltip";const eR=Object.assign(ZA,{TOOLTIP_OFFSET:[0,6]});function FV(n){const e=w.useRef(null),t=Ee(void 0,"popover"),r=Ee(void 0,"tooltip"),i=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(Oy(e.current,t))return $V.POPPER_OFFSET;if(Oy(e.current,r))return eR.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function jV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(Oh(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(Oh(i)))}const tR=w.forwardRef(({children:n,transition:e=Mo,popperConfig:t={},rootClose:r=!1,placement:i="top",show:o=!1,...l},u)=>{const f=w.useRef({}),[p,m]=w.useState(null),[y,T]=FV(l.offset),S=Pc(u,y),k=e===!0?Mo:e||void 0,N=si(R=>{m(R),t==null||t.onFirstUpdate==null||t.onFirstUpdate(R)});return e_(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{o||m(null)},[o]),E(QA,{...l,ref:S,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:N},transition:k,rootClose:r,placement:i,show:o,children:(R,{arrowProps:x,popper:M,show:V})=>{var j;jV(R,x);const q=M==null?void 0:M.placement,G=Object.assign(f.current,{state:M==null?void 0:M.state,scheduleUpdate:M==null?void 0:M.update,placement:q,outOfBoundaries:(M==null||(j=M.state)==null||(j=j.modifiersData.hide)==null?void 0:j.isReferenceHidden)||!1,strategy:t.strategy}),C=!!p;return typeof n=="function"?n({...R,placement:q,show:V,...!e&&V&&{className:"show"},popper:G,arrowProps:x,hasDoneInitialMeasure:C}):w.cloneElement(n,{...R,placement:q,arrowProps:x,popper:G,hasDoneInitialMeasure:C,className:ye(n.props.className,!e&&V&&"show"),style:{...n.props.style,...R.style}})}})});tR.displayName="Overlay";function BV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function HT(n,e,t){const[r]=e,i=r.currentTarget,o=r.relatedTarget||r.nativeEvent[t];(!o||o!==i)&&!Qu(i,o)&&n(...e)}nr.oneOf(["click","hover","focus"]);const HV=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:o=!1,onToggle:l,delay:u,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...m})=>{const y=w.useRef(null),T=Pc(y,Ka(t)),S=$b(),k=w.useRef(""),[N,R]=lb(i,o,l),x=BV(u),{onFocus:M,onBlur:V,onClick:j}=typeof t!="function"?w.Children.only(t).props:{},q=Ne=>{T(Oh(Ne))},G=w.useCallback(()=>{if(S.clear(),k.current="show",!x.show){R(!0);return}S.set(()=>{k.current==="show"&&R(!0)},x.show)},[x.show,R,S]),C=w.useCallback(()=>{if(S.clear(),k.current="hide",!x.hide){R(!1);return}S.set(()=>{k.current==="hide"&&R(!1)},x.hide)},[x.hide,R,S]),b=w.useCallback((...Ne)=>{G(),M==null||M(...Ne)},[G,M]),P=w.useCallback((...Ne)=>{C(),V==null||V(...Ne)},[C,V]),L=w.useCallback((...Ne)=>{R(!N),j==null||j(...Ne)},[j,R,N]),U=w.useCallback((...Ne)=>{HT(G,Ne,"fromElement")},[G]),F=w.useCallback((...Ne)=>{HT(C,Ne,"toElement")},[C]),O=n==null?[]:[].concat(n),we={ref:q};return O.indexOf("click")!==-1&&(we.onClick=L),O.indexOf("focus")!==-1&&(we.onFocus=b,we.onBlur=P),O.indexOf("hover")!==-1&&(we.onMouseOver=U,we.onMouseOut=F),ee(Ht,{children:[typeof t=="function"?t(we):w.cloneElement(t,we),E(tR,{...m,show:N,onHide:C,flip:p,placement:f,popperConfig:r,target:y.current,children:e})]})},Ii=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const o=Ee(n,"row"),l=cb(),u=ub(),f=`${o}-cols`,p=[];return l.forEach(m=>{const y=r[m];delete r[m];let T;y!=null&&typeof y=="object"?{cols:T}=y:T=y;const S=m!==u?`-${m}`:"";T!=null&&p.push(`${f}${S}-${T}`)}),E(t,{ref:i,...r,className:ye(e,o,...p)})});Ii.displayName="Row";const nR=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:o,...l},u)=>{n=Ee(n,"spinner");const f=`${n}-${t}`;return E(i,{ref:u,...l,className:ye(o,f,r&&`${f}-${r}`,e&&`text-${e}`)})});nR.displayName="Spinner";function Te(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(m){try{p(r.next(m))}catch(y){l(y)}}function f(m){try{p(r.throw(m))}catch(y){l(y)}}function p(m){m.done?o(m.value):i(m.value).then(u,f)}p((r=r.apply(n,[])).next())})}function zV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let Fe=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};Fe.equal=(n,e)=>new Fe("equal",n,e).toString();Fe.notEqual=(n,e)=>new Fe("notEqual",n,e).toString();Fe.lessThan=(n,e)=>new Fe("lessThan",n,e).toString();Fe.lessThanEqual=(n,e)=>new Fe("lessThanEqual",n,e).toString();Fe.greaterThan=(n,e)=>new Fe("greaterThan",n,e).toString();Fe.greaterThanEqual=(n,e)=>new Fe("greaterThanEqual",n,e).toString();Fe.isNull=n=>new Fe("isNull",n).toString();Fe.isNotNull=n=>new Fe("isNotNull",n).toString();Fe.between=(n,e,t)=>new Fe("between",n,[e,t]).toString();Fe.startsWith=(n,e)=>new Fe("startsWith",n,e).toString();Fe.endsWith=(n,e)=>new Fe("endsWith",n,e).toString();Fe.select=n=>new Fe("select",void 0,n).toString();Fe.search=(n,e)=>new Fe("search",n,e).toString();Fe.orderDesc=n=>new Fe("orderDesc",n).toString();Fe.orderAsc=n=>new Fe("orderAsc",n).toString();Fe.cursorAfter=n=>new Fe("cursorAfter",void 0,n).toString();Fe.cursorBefore=n=>new Fe("cursorBefore",void 0,n).toString();Fe.limit=n=>new Fe("limit",void 0,n).toString();Fe.offset=n=>new Fe("offset",void 0,n).toString();Fe.contains=(n,e)=>new Fe("contains",n,e).toString();Fe.or=n=>new Fe("or",void 0,n.map(e=>JSON.parse(e))).toString();Fe.and=n=>new Fe("and",void 0,n.map(e=>JSON.parse(e))).toString();class ae extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class ei{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const o=this.config.endpointRealtime+"/realtime?"+i.toString();(o!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=o,this.realtime.socket=new WebSocket(o),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var u,f,p;if(!this.realtime.reconnect||((f=(u=this.realtime)===null||u===void 0?void 0:u.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const m=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${m/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},m)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const o=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=o==null?void 0:o[`a_session_${this.config.project}`],u=i.data;l&&!u.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(m=>this.realtime.channels.has(m)))return;this.realtime.subscriptions.forEach(m=>{f.channels.some(y=>m.channels.includes(y))&&setTimeout(()=>m.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,o])=>o.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(o=>this.realtime.channels.add(o));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let o={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,u]of Object.entries(ei.flatten(i)))t.searchParams.append(l,u);else switch(r["content-type"]){case"application/json":o.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[u,f]of Object.entries(i))if(f instanceof File)l.append(u,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${u}[]`,p);else l.append(u,f);o.body=l,delete r["content-type"];break}return{uri:t.toString(),options:o}}chunkedUpload(e,t,r={},i={},o){return Te(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=ei.CHUNK_SIZE)return yield this.call(e,t,r,i);let u=0,f=null;for(;u<l.size;){let p=u+ei.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${u}-${p-1}/${l.size}`;const m=l.slice(u,p);let y=Object.assign(Object.assign({},i),{file:new File([m],l.name)});f=yield this.call(e,t,r,y),o&&typeof o=="function"&&o({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/ei.CHUNK_SIZE),chunksUploaded:Math.ceil(p/ei.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),u=p}return f})}ping(){return Te(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},o="json"){var l;return Te(this,void 0,void 0,function*(){const{uri:u,options:f}=this.prepareRequest(e,t,r,i);let p=null;const m=yield fetch(u,f),y=m.headers.get("x-appwrite-warning");if(y&&y.split(";").forEach(S=>console.warn("Warning: "+S)),!((l=m.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield m.json():o==="arrayBuffer"?p=yield m.arrayBuffer():p={message:yield m.text()},400<=m.status)throw new ae(p==null?void 0:p.message,m.status,p==null?void 0:p.type,p);const T=m.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,o]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(o)?r=Object.assign(Object.assign({},r),ei.flatten(o,l)):r[l]=o}return r}}ei.CHUNK_SIZE=1024*1024*5;class Ro{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,o]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(o)?r=Object.assign(Object.assign({},r),Ro.flatten(o,l)):r[l]=o}return r}}Ro.CHUNK_SIZE=5*1024*1024;class WV{constructor(e){this.client=e}get(){return Te(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const o="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("post",u,f,l)})}updateEmail(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",o,l,i)})}listIdentities(e){return Te(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}deleteIdentity(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}createJWT(){return Te(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Te(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updateMFA(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}createMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("post",i,o,r)})}updateMfaAuthenticator(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}deleteMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}createMfaChallenge(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("post",i,o,r)})}updateMfaChallenge(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "challengeId"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}listMfaFactors(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}updatePassword(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",o,l,i)})}updatePhone(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "phone"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",o,l,i)})}getPrefs(){return Te(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}createRecovery(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}updateRecovery(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const i="/account/recovery",o={};typeof e<"u"&&(o.userId=e),typeof t<"u"&&(o.secret=t),typeof r<"u"&&(o.password=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("put",l,u,o)})}listSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Te(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}updateMagicURLSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}createOAuth2Session(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const o="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const u=new URL(this.client.config.endpoint+o);l.project=this.client.config.project;for(const[f,p]of Object.entries(Ro.flatten(l)))u.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=u.toString();return}else return u.toString()})}updatePhoneSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}createSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}getSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updateSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("patch",i,o,r)})}deleteSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}updateStatus(){return Te(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const i="/account/targets/push",o={};typeof e<"u"&&(o.targetId=e),typeof t<"u"&&(o.identifier=t),typeof r<"u"&&(o.providerId=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,o)})}updatePushTarget(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}deletePushTarget(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}createEmailToken(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const i="/account/tokens/email",o={};typeof e<"u"&&(o.userId=e),typeof t<"u"&&(o.email=t),typeof r<"u"&&(o.phrase=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,o)})}createMagicURLToken(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const o="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("post",u,f,l)})}createOAuth2Token(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const o="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const u=new URL(this.client.config.endpoint+o);l.project=this.client.config.project;for(const[f,p]of Object.entries(Ro.flatten(l)))u.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=u.toString();return}else return u.toString()})}createPhoneToken(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",o,l,i)})}createVerification(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("post",i,o,r)})}updateVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}createPhoneVerification(){return Te(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}}class qV{constructor(e){this.client=e}listDocuments(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),o={};typeof r<"u"&&(o.queries=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,o)})}createDocument(e,t,r,i,o){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');if(typeof i>"u")throw new ae('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),u={};typeof r<"u"&&(u.documentId=r),typeof i<"u"&&(u.data=i),typeof o<"u"&&(u.permissions=o);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,u)})}getDocument(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("get",u,f,l)})}updateDocument(e,t,r,i,o){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),u={};typeof i<"u"&&(u.data=i),typeof o<"u"&&(u.permissions=o);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,u)})}deleteDocument(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),o={},l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("delete",l,u,o)})}}class KV{constructor(e){this.client=e}listFiles(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),o={};typeof t<"u"&&(o.queries=t),typeof r<"u"&&(o.search=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,o)})}createFile(e,t,r,i,o=l=>{}){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');if(typeof r>"u")throw new ae('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),u={};typeof t<"u"&&(u.fileId=t),typeof r<"u"&&(u.file=r),typeof i<"u"&&(u.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,u,o)})}getFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",o,l,i)})}updateFile(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const o="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("put",u,f,l)})}deleteFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",o,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,u]of Object.entries(Ro.flatten(i)))o.searchParams.append(l,u);i.project=this.client.config.project;for(const[l,u]of Object.entries(ei.flatten(i)))o.searchParams.append(l,u);return o.toString()}getFilePreview(e,t,r,i,o,l,u,f,p,m,y,T,S){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const k="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),N={};typeof r<"u"&&(N.width=r),typeof i<"u"&&(N.height=i),typeof o<"u"&&(N.gravity=o),typeof l<"u"&&(N.quality=l),typeof u<"u"&&(N.borderWidth=u),typeof f<"u"&&(N.borderColor=f),typeof p<"u"&&(N.borderRadius=p),typeof m<"u"&&(N.opacity=m),typeof y<"u"&&(N.rotation=y),typeof T<"u"&&(N.background=T),typeof S<"u"&&(N.output=S);const R=new URL(this.client.config.endpoint+k);N.project=this.client.config.project;for(const[x,M]of Object.entries(Ro.flatten(N)))R.searchParams.append(x,M);N.project=this.client.config.project;for(const[x,M]of Object.entries(ei.flatten(N)))R.searchParams.append(x,M);return R.toString()}getFileView(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},o=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,u]of Object.entries(Ro.flatten(i)))o.searchParams.append(l,u);i.project=this.client.config.project;for(const[l,u]of Object.entries(ei.flatten(i)))o.searchParams.append(l,u);return o.toString()}}class GV{constructor(e){this.client=e}list(e,t){return Te(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",o,l,i)})}create(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const i="/teams",o={};typeof e<"u"&&(o.teamId=e),typeof t<"u"&&(o.name=t),typeof r<"u"&&(o.roles=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("post",l,u,o)})}get(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updateName(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}delete(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("delete",i,o,r)})}listMemberships(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),o={};typeof t<"u"&&(o.queries=t),typeof r<"u"&&(o.search=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("get",l,u,o)})}createMembership(e,t,r,i,o,l,u){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof o<"u"&&(p.phone=o),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof u<"u"&&(p.name=u);const m=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return yield this.client.call("post",m,y,p)})}getMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",o,l,i)})}updateMembership(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),o={};typeof r<"u"&&(o.roles=r);const l=new URL(this.client.config.endpoint+i),u={"content-type":"application/json"};return yield this.client.call("patch",l,u,o)})}deleteMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",o,l,i)})}updateMembershipStatus(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "userId"');if(typeof i>"u")throw new ae('Missing required parameter: "secret"');const o="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const u=new URL(this.client.config.endpoint+o),f={"content-type":"application/json"};return yield this.client.call("patch",u,f,l)})}getPrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),o={"content-type":"application/json"};return yield this.client.call("get",i,o,r)})}updatePrefs(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const o=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",o,l,i)})}}var rR,iR;class dc{static custom(e){return e}static unique(e=7){const t=zV(dc,rR,"m",iR).call(dc);let r="";for(let i=0;i<e;i++){const o=Math.floor(Math.random()*16).toString(16);r+=o}return t+r}}rR=dc,iR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var zT;(function(n){n.Totp="totp"})(zT||(zT={}));var WT;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(WT||(WT={}));var My;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(My||(My={}));var qT;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(qT||(qT={}));var KT;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(KT||(KT={}));var GT;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(GT||(GT={}));var QT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(QT||(QT={}));var YT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(YT||(YT={}));var XT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(XT||(XT={}));const Id=new ei;Id.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const Oc=new KV(Id),Xu=new WV(Id),Gn=new qV(Id),QV=new GV(Id);async function YV(){return{session:await Xu.getSession("current")}}const f_=async()=>{try{return await Xu.get()}catch(n){console.error(n)}};async function XV(){await Xu.deleteSession("current"),console.log("log out")}async function JV(){const n=await f_();return n?ZV(n):(console.error("User data is undefined"),null)}function ZV(n){return{name:n.name,$id:n.$id,email:n.email}}async function eU(){return{teams:(await QV.list()).teams}}const sR=w.createContext(void 0),tU=({children:n})=>{const e=nU();return E(sR.Provider,{value:e,children:n})};function nU(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const f=await YV();e(f.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await eU(),p=!!f.find(m=>m.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await Xu.createOAuth2Session(My.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function o(u,f){try{await Xu.createEmailPasswordSession(u,f)}catch(p){console.error(p)}}async function l(){await XV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:o}}function Ju(){const n=w.useContext(sR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bt(){return Bt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bt.apply(this,arguments)}var cn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(cn||(cn={}));const JT="popstate";function rU(n){n===void 0&&(n={});function e(i,o){let{pathname:l="/",search:u="",hash:f=""}=js(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Zu("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");u=p===-1?f:f.slice(0,p)}return u+"#"+(typeof o=="string"?o:Ma(o))}function r(i,o){La(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return sU(e,t,r,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function La(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iU(){return Math.random().toString(36).substr(2,8)}function ZT(n,e){return{usr:n.state,key:n.key,idx:e}}function Zu(n,e,t,r){return t===void 0&&(t=null),Bt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:t,key:e&&e.key||r||iU()})}function Ma(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function js(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function sU(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=cn.Pop,f=null,p=m();p==null&&(p=0,l.replaceState(Bt({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function y(){u=cn.Pop;let R=m(),x=R==null?null:R-p;p=R,f&&f({action:u,location:N.location,delta:x})}function T(R,x){u=cn.Push;let M=Zu(N.location,R,x);t&&t(M,R),p=m()+1;let V=ZT(M,p),j=N.createHref(M);try{l.pushState(V,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(j)}o&&f&&f({action:u,location:N.location,delta:1})}function S(R,x){u=cn.Replace;let M=Zu(N.location,R,x);t&&t(M,R),p=m();let V=ZT(M,p),j=N.createHref(M);l.replaceState(V,"",j),o&&f&&f({action:u,location:N.location,delta:0})}function k(R){let x=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof R=="string"?R:Ma(R);return M=M.replace(/ $/,"%20"),lt(x,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,x)}let N={get action(){return u},get location(){return n(i,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(JT,y),f=R,()=>{i.removeEventListener(JT,y),f=null}},createHref(R){return e(i,R)},createURL:k,encodeLocation(R){let x=k(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:T,replace:S,go(R){return l.go(R)}};return N}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const oU=new Set(["lazy","caseSensitive","path","id","index","children"]);function aU(n){return n.index===!0}function Vh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,o)=>{let l=[...t,String(o)],u=typeof i.id=="string"?i.id:l.join("-");if(lt(i.index!==!0||!i.children,"Cannot specify children on an index route"),lt(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),aU(i)){let f=Bt({},i,e(i),{id:u});return r[u]=f,f}else{let f=Bt({},i,e(i),{id:u,children:void 0});return r[u]=f,i.children&&(f.children=Vh(i.children,e,l,r)),f}})}function Ta(n,e,t){return t===void 0&&(t="/"),vh(n,e,t,!1)}function vh(n,e,t,r){let i=typeof e=="string"?js(e):e,o=xs(i.pathname||"/",t);if(o==null)return null;let l=oR(n);cU(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let p=wU(o);u=vU(l[f],p,r)}return u}function lU(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function oR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(lt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=bs([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),oR(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:gU(p,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let f of aR(o.path))i(o,l,f)}),e}function aR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=aR(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function cU(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yU(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const uU=/^:[\w-]+$/,dU=3,fU=2,hU=1,pU=10,mU=-2,eI=n=>n==="*";function gU(n,e){let t=n.split("/"),r=t.length;return t.some(eI)&&(r+=mU),e&&(r+=fU),t.filter(i=>!eI(i)).reduce((i,o)=>i+(uU.test(o)?dU:o===""?hU:pU),r)}function yU(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function vU(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),T=f.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=Uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:bs([o,y.pathname]),pathnameBase:IU(bs([o,y.pathnameBase])),route:T}),y.pathnameBase!=="/"&&(o=bs([o,y.pathnameBase]))}return l}function Uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_U(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,m,y)=>{let{paramName:T,isOptional:S}=m;if(T==="*"){let N=u[y]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const k=u[y];return S&&!k?p[T]=void 0:p[T]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function _U(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),La(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wU(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return La(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function xs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function EU(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?js(n):n;return{pathname:t?t.startsWith("/")?t:TU(t,e):e,search:SU(r),hash:CU(i)}}function TU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ty(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tp(n,e){let t=lR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Ip(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=js(n):(i=Bt({},n),lt(!i.pathname||!i.pathname.includes("?"),ty("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),ty("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),ty("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),y-=1;i.pathname=T.join("/")}u=y>=0?e[y]:"/"}let f=EU(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const bs=n=>n.join("/").replace(/\/\/+/g,"/"),IU=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SU=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CU=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class $h{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ed(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const cR=["post","put","patch","delete"],bU=new Set(cR),AU=["get",...cR],RU=new Set(AU),kU=new Set([301,302,303,307,308]),NU=new Set([307,308]),ny={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PU={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DU=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),uR="remix-router-transitions";function xU(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;lt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let B=n.detectErrorBoundary;i=K=>({hasErrorBoundary:B(K)})}else i=DU;let o={},l=Vh(n.routes,i,void 0,o),u,f=n.basename||"/",p=n.dataStrategy||VU,m=n.patchRoutesOnNavigation,y=Bt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,S=new Set,k=null,N=null,R=null,x=n.hydrationData!=null,M=Ta(l,n.history.location,f),V=!1,j=null;if(M==null&&!m){let B=vr(404,{pathname:n.history.location.pathname}),{matches:K,route:J}=dI(l);M=K,j={[J.id]:B}}M&&!n.hydrationData&&Pi(M,l,n.history.location.pathname).active&&(M=null);let q;if(M)if(M.some(B=>B.route.lazy))q=!1;else if(!M.some(B=>B.route.loader))q=!0;else if(y.v7_partialHydration){let B=n.hydrationData?n.hydrationData.loaderData:null,K=n.hydrationData?n.hydrationData.errors:null;if(K){let J=M.findIndex(ie=>K[ie.route.id]!==void 0);q=M.slice(0,J+1).every(ie=>!Uy(ie.route,B,K))}else q=M.every(J=>!Uy(J.route,B,K))}else q=n.hydrationData!=null;else if(q=!1,M=[],y.v7_partialHydration){let B=Pi(null,l,n.history.location.pathname);B.active&&B.matches&&(V=!0,M=B.matches)}let G,C={historyAction:n.history.action,location:n.history.location,matches:M,initialized:q,navigation:ny,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||j,fetchers:new Map,blockers:new Map},b=cn.Pop,P=!1,L,U=!1,F=new Map,O=null,we=!1,Ne=!1,je=[],Se=new Set,re=new Map,me=0,ce=-1,z=new Map,te=new Set,pe=new Map,ve=new Map,Ie=new Set,Ae=new Map,Ge=new Map,Be;function ot(){if(T=n.history.listen(B=>{let{action:K,location:J,delta:ie}=B;if(Be){Be(),Be=void 0;return}La(Ge.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ts({currentLocation:C.location,nextLocation:J,historyAction:K});if(_e&&ie!=null){let Pe=new Promise(Qe=>{Be=Qe});n.history.go(ie*-1),li(_e,{state:"blocked",location:J,proceed(){li(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Pe.then(()=>n.history.go(ie))},reset(){let Qe=new Map(C.blockers);Qe.set(_e,Cu),st({blockers:Qe})}});return}return zt(K,J)}),t){XU(e,F);let B=()=>JU(e,F);e.addEventListener("pagehide",B),O=()=>e.removeEventListener("pagehide",B)}return C.initialized||zt(cn.Pop,C.location,{initialHydration:!0}),G}function Tt(){T&&T(),O&&O(),S.clear(),L&&L.abort(),C.fetchers.forEach((B,K)=>Xn(K)),C.blockers.forEach((B,K)=>ki(K))}function Ct(B){return S.add(B),()=>S.delete(B)}function st(B,K){K===void 0&&(K={}),C=Bt({},C,B);let J=[],ie=[];y.v7_fetcherPersist&&C.fetchers.forEach((_e,Pe)=>{_e.state==="idle"&&(Ie.has(Pe)?ie.push(Pe):J.push(Pe))}),Ie.forEach(_e=>{!C.fetchers.has(_e)&&!re.has(_e)&&ie.push(_e)}),[...S].forEach(_e=>_e(C,{deletedFetchers:ie,viewTransitionOpts:K.viewTransitionOpts,flushSync:K.flushSync===!0})),y.v7_fetcherPersist?(J.forEach(_e=>C.fetchers.delete(_e)),ie.forEach(_e=>Xn(_e))):ie.forEach(_e=>Ie.delete(_e))}function Pt(B,K,J){var ie,_e;let{flushSync:Pe}=J===void 0?{}:J,Qe=C.actionData!=null&&C.navigation.formMethod!=null&&Ei(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ie=B.state)==null?void 0:ie._isRedirect)!==!0,De;K.actionData?Object.keys(K.actionData).length>0?De=K.actionData:De=null:Qe?De=C.actionData:De=null;let Re=K.loaderData?cI(C.loaderData,K.loaderData,K.matches||[],K.errors):C.loaderData,Ce=C.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Ze,Xt)=>Ce.set(Xt,Cu)));let xe=P===!0||C.navigation.formMethod!=null&&Ei(C.navigation.formMethod)&&((_e=B.state)==null?void 0:_e._isRedirect)!==!0;u&&(l=u,u=void 0),we||b===cn.Pop||(b===cn.Push?n.history.push(B,B.state):b===cn.Replace&&n.history.replace(B,B.state));let et;if(b===cn.Pop){let Ze=F.get(C.location.pathname);Ze&&Ze.has(B.pathname)?et={currentLocation:C.location,nextLocation:B}:F.has(B.pathname)&&(et={currentLocation:B,nextLocation:C.location})}else if(U){let Ze=F.get(C.location.pathname);Ze?Ze.add(B.pathname):(Ze=new Set([B.pathname]),F.set(C.location.pathname,Ze)),et={currentLocation:C.location,nextLocation:B}}st(Bt({},K,{actionData:De,loaderData:Re,historyAction:b,location:B,initialized:!0,navigation:ny,revalidation:"idle",restoreScrollPosition:Ni(B,K.matches||C.matches),preventScrollReset:xe,blockers:Ce}),{viewTransitionOpts:et,flushSync:Pe===!0}),b=cn.Pop,P=!1,U=!1,we=!1,Ne=!1,je=[]}async function Yt(B,K){if(typeof B=="number"){n.history.go(B);return}let J=Vy(C.location,C.matches,f,y.v7_prependBasename,B,y.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:ie,submission:_e,error:Pe}=tI(y.v7_normalizeFormMethod,!1,J,K),Qe=C.location,De=Zu(C.location,ie,K&&K.state);De=Bt({},De,n.history.encodeLocation(De));let Re=K&&K.replace!=null?K.replace:void 0,Ce=cn.Push;Re===!0?Ce=cn.Replace:Re===!1||_e!=null&&Ei(_e.formMethod)&&_e.formAction===C.location.pathname+C.location.search&&(Ce=cn.Replace);let xe=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,et=(K&&K.flushSync)===!0,Ze=ts({currentLocation:Qe,nextLocation:De,historyAction:Ce});if(Ze){li(Ze,{state:"blocked",location:De,proceed(){li(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),Yt(B,K)},reset(){let Xt=new Map(C.blockers);Xt.set(Ze,Cu),st({blockers:Xt})}});return}return await zt(Ce,De,{submission:_e,pendingError:Pe,preventScrollReset:xe,replace:K&&K.replace,enableViewTransition:K&&K.viewTransition,flushSync:et})}function it(){if(gt(),st({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){zt(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}zt(b||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:U===!0})}}async function zt(B,K,J){L&&L.abort(),L=null,b=B,we=(J&&J.startUninterruptedRevalidation)===!0,Zo(C.location,C.matches),P=(J&&J.preventScrollReset)===!0,U=(J&&J.enableViewTransition)===!0;let ie=u||l,_e=J&&J.overrideNavigation,Pe=J!=null&&J.initialHydration&&C.matches&&C.matches.length>0&&!V?C.matches:Ta(ie,K,f),Qe=(J&&J.flushSync)===!0,De=Pi(Pe,ie,K.pathname);if(De.active&&De.matches&&(Pe=De.matches),!Pe){let{error:It,notFoundMatches:ct,route:Rt}=Vn(K.pathname);Pt(K,{matches:ct,loaderData:{},errors:{[Rt.id]:It}},{flushSync:Qe});return}if(C.initialized&&!Ne&&HU(C.location,K)&&!(J&&J.submission&&Ei(J.submission.formMethod))){Pt(K,{matches:Pe},{flushSync:Qe});return}L=new AbortController;let Re=$l(n.history,K,L.signal,J&&J.submission),Ce;if(J&&J.pendingError)Ce=[Ia(Pe).route.id,{type:Nt.error,error:J.pendingError}];else if(J&&J.submission&&Ei(J.submission.formMethod)){let It=await vn(Re,K,J.submission,Pe,De.active,{replace:J.replace,flushSync:Qe});if(It.shortCircuited)return;if(It.pendingActionResult){let[ct,Rt]=It.pendingActionResult;if(xr(Rt)&&ed(Rt.error)&&Rt.error.status===404){L=null,Pt(K,{matches:It.matches,loaderData:{},errors:{[ct]:Rt.error}});return}}Pe=It.matches||Pe,Ce=It.pendingActionResult,_e=ry(K,J.submission),Qe=!1,De.active=!1,Re=$l(n.history,Re.url,Re.signal)}let{shortCircuited:xe,matches:et,loaderData:Ze,errors:Xt}=await Fr(Re,K,Pe,De.active,_e,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Qe,Ce);xe||(L=null,Pt(K,Bt({matches:et||Pe},uI(Ce),{loaderData:Ze,errors:Xt})))}async function vn(B,K,J,ie,_e,Pe){Pe===void 0&&(Pe={}),gt();let Qe=QU(K,J);if(st({navigation:Qe},{flushSync:Pe.flushSync===!0}),_e){let Ce=await cr(ie,K.pathname,B.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let xe=Ia(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[xe,{type:Nt.error,error:Ce.error}]}}else if(Ce.matches)ie=Ce.matches;else{let{notFoundMatches:xe,error:et,route:Ze}=Vn(K.pathname);return{matches:xe,pendingActionResult:[Ze.id,{type:Nt.error,error:et}]}}}let De,Re=Pu(ie,K);if(!Re.route.action&&!Re.route.lazy)De={type:Nt.error,error:vr(405,{method:B.method,pathname:K.pathname,routeId:Re.route.id})};else if(De=(await fn("action",C,B,[Re],ie,null))[Re.route.id],B.signal.aborted)return{shortCircuited:!0};if(Aa(De)){let Ce;return Pe&&Pe.replace!=null?Ce=Pe.replace:Ce=oI(De.response.headers.get("Location"),new URL(B.url),f)===C.location.pathname+C.location.search,await Ot(B,De,!0,{submission:J,replace:Ce}),{shortCircuited:!0}}if(bo(De))throw vr(400,{type:"defer-action"});if(xr(De)){let Ce=Ia(ie,Re.route.id);return(Pe&&Pe.replace)!==!0&&(b=cn.Push),{matches:ie,pendingActionResult:[Ce.route.id,De]}}return{matches:ie,pendingActionResult:[Re.route.id,De]}}async function Fr(B,K,J,ie,_e,Pe,Qe,De,Re,Ce,xe){let et=_e||ry(K,Pe),Ze=Pe||Qe||hI(et),Xt=!we&&(!y.v7_partialHydration||!Re);if(ie){if(Xt){let bt=Qn(xe);st(Bt({navigation:et},bt!==void 0?{actionData:bt}:{}),{flushSync:Ce})}let ft=await cr(J,K.pathname,B.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let bt=Ia(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[bt]:ft.error}}}else if(ft.matches)J=ft.matches;else{let{error:bt,notFoundMatches:sn,route:Oi}=Vn(K.pathname);return{matches:sn,loaderData:{},errors:{[Oi.id]:bt}}}}let It=u||l,[ct,Rt]=rI(n.history,C,J,Ze,K,y.v7_partialHydration&&Re===!0,y.v7_skipActionErrorRevalidation,Ne,je,Se,Ie,pe,te,It,f,xe);if(lr(ft=>!(J&&J.some(bt=>bt.route.id===ft))||ct&&ct.some(bt=>bt.route.id===ft)),ce=++me,ct.length===0&&Rt.length===0){let ft=ar();return Pt(K,Bt({matches:J,loaderData:{},errors:xe&&xr(xe[1])?{[xe[0]]:xe[1].error}:null},uI(xe),ft?{fetchers:new Map(C.fetchers)}:{}),{flushSync:Ce}),{shortCircuited:!0}}if(Xt){let ft={};if(!ie){ft.navigation=et;let bt=Qn(xe);bt!==void 0&&(ft.actionData=bt)}Rt.length>0&&(ft.fetchers=Wt(Rt)),st(ft,{flushSync:Ce})}Rt.forEach(ft=>{at(ft.key),ft.controller&&re.set(ft.key,ft.controller)});let jr=()=>Rt.forEach(ft=>at(ft.key));L&&L.signal.addEventListener("abort",jr);let{loaderResults:Di,fetcherResults:Ir}=await $e(C,J,ct,Rt,B);if(B.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",jr),Rt.forEach(ft=>re.delete(ft.key));let dt=rh(Di);if(dt)return await Ot(B,dt.result,!0,{replace:De}),{shortCircuited:!0};if(dt=rh(Ir),dt)return te.add(dt.key),await Ot(B,dt.result,!0,{replace:De}),{shortCircuited:!0};let{loaderData:qs,errors:Sr}=lI(C,J,Di,xe,Rt,Ir,Ae);Ae.forEach((ft,bt)=>{ft.subscribe(sn=>{(sn||ft.done)&&Ae.delete(bt)})}),y.v7_partialHydration&&Re&&C.errors&&(Sr=Bt({},C.errors,Sr));let Un=ar(),An=Ri(ce),xi=Un||An||Rt.length>0;return Bt({matches:J,loaderData:qs,errors:Sr},xi?{fetchers:new Map(C.fetchers)}:{})}function Qn(B){if(B&&!xr(B[1]))return{[B[0]]:B[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function Wt(B){return B.forEach(K=>{let J=C.fetchers.get(K.key),ie=bu(void 0,J?J.data:void 0);C.fetchers.set(K.key,ie)}),new Map(C.fetchers)}function rn(B,K,J,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");at(B);let _e=(ie&&ie.flushSync)===!0,Pe=u||l,Qe=Vy(C.location,C.matches,f,y.v7_prependBasename,J,y.v7_relativeSplatPath,K,ie==null?void 0:ie.relative),De=Ta(Pe,Qe,f),Re=Pi(De,Pe,Qe);if(Re.active&&Re.matches&&(De=Re.matches),!De){_n(B,K,vr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Ce,submission:xe,error:et}=tI(y.v7_normalizeFormMethod,!0,Qe,ie);if(et){_n(B,K,et,{flushSync:_e});return}let Ze=Pu(De,Ce),Xt=(ie&&ie.preventScrollReset)===!0;if(xe&&Ei(xe.formMethod)){or(B,K,Ce,Ze,De,Re.active,_e,Xt,xe);return}pe.set(B,{routeId:K,path:Ce}),Mn(B,K,Ce,Ze,De,Re.active,_e,Xt,xe)}async function or(B,K,J,ie,_e,Pe,Qe,De,Re){gt(),pe.delete(B);function Ce(ht){if(!ht.route.action&&!ht.route.lazy){let Br=vr(405,{method:Re.formMethod,pathname:J,routeId:K});return _n(B,K,Br,{flushSync:Qe}),!0}return!1}if(!Pe&&Ce(ie))return;let xe=C.fetchers.get(B);Lt(B,YU(Re,xe),{flushSync:Qe});let et=new AbortController,Ze=$l(n.history,J,et.signal,Re);if(Pe){let ht=await cr(_e,new URL(Ze.url).pathname,Ze.signal);if(ht.type==="aborted")return;if(ht.type==="error"){_n(B,K,ht.error,{flushSync:Qe});return}else if(ht.matches){if(_e=ht.matches,ie=Pu(_e,J),Ce(ie))return}else{_n(B,K,vr(404,{pathname:J}),{flushSync:Qe});return}}re.set(B,et);let Xt=me,ct=(await fn("action",C,Ze,[ie],_e,B))[ie.route.id];if(Ze.signal.aborted){re.get(B)===et&&re.delete(B);return}if(y.v7_fetcherPersist&&Ie.has(B)){if(Aa(ct)||xr(ct)){Lt(B,vo(void 0));return}}else{if(Aa(ct))if(re.delete(B),ce>Xt){Lt(B,vo(void 0));return}else return te.add(B),Lt(B,bu(Re)),Ot(Ze,ct,!1,{fetcherSubmission:Re,preventScrollReset:De});if(xr(ct)){_n(B,K,ct.error);return}}if(bo(ct))throw vr(400,{type:"defer-action"});let Rt=C.navigation.location||C.location,jr=$l(n.history,Rt,et.signal),Di=u||l,Ir=C.navigation.state!=="idle"?Ta(Di,C.navigation.location,f):C.matches;lt(Ir,"Didn't find any matches after fetcher action");let dt=++me;z.set(B,dt);let qs=bu(Re,ct.data);C.fetchers.set(B,qs);let[Sr,Un]=rI(n.history,C,Ir,Re,Rt,!1,y.v7_skipActionErrorRevalidation,Ne,je,Se,Ie,pe,te,Di,f,[ie.route.id,ct]);Un.filter(ht=>ht.key!==B).forEach(ht=>{let Br=ht.key,ta=C.fetchers.get(Br),tl=bu(void 0,ta?ta.data:void 0);C.fetchers.set(Br,tl),at(Br),ht.controller&&re.set(Br,ht.controller)}),st({fetchers:new Map(C.fetchers)});let An=()=>Un.forEach(ht=>at(ht.key));et.signal.addEventListener("abort",An);let{loaderResults:xi,fetcherResults:ft}=await $e(C,Ir,Sr,Un,jr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",An),z.delete(B),re.delete(B),Un.forEach(ht=>re.delete(ht.key));let bt=rh(xi);if(bt)return Ot(jr,bt.result,!1,{preventScrollReset:De});if(bt=rh(ft),bt)return te.add(bt.key),Ot(jr,bt.result,!1,{preventScrollReset:De});let{loaderData:sn,errors:Oi}=lI(C,Ir,xi,void 0,Un,ft,Ae);if(C.fetchers.has(B)){let ht=vo(ct.data);C.fetchers.set(B,ht)}Ri(dt),C.navigation.state==="loading"&&dt>ce?(lt(b,"Expected pending action"),L&&L.abort(),Pt(C.navigation.location,{matches:Ir,loaderData:sn,errors:Oi,fetchers:new Map(C.fetchers)})):(st({errors:Oi,loaderData:cI(C.loaderData,sn,Ir,Oi),fetchers:new Map(C.fetchers)}),Ne=!1)}async function Mn(B,K,J,ie,_e,Pe,Qe,De,Re){let Ce=C.fetchers.get(B);Lt(B,bu(Re,Ce?Ce.data:void 0),{flushSync:Qe});let xe=new AbortController,et=$l(n.history,J,xe.signal);if(Pe){let ct=await cr(_e,new URL(et.url).pathname,et.signal);if(ct.type==="aborted")return;if(ct.type==="error"){_n(B,K,ct.error,{flushSync:Qe});return}else if(ct.matches)_e=ct.matches,ie=Pu(_e,J);else{_n(B,K,vr(404,{pathname:J}),{flushSync:Qe});return}}re.set(B,xe);let Ze=me,It=(await fn("loader",C,et,[ie],_e,B))[ie.route.id];if(bo(It)&&(It=await p_(It,et.signal,!0)||It),re.get(B)===xe&&re.delete(B),!et.signal.aborted){if(Ie.has(B)){Lt(B,vo(void 0));return}if(Aa(It))if(ce>Ze){Lt(B,vo(void 0));return}else{te.add(B),await Ot(et,It,!1,{preventScrollReset:De});return}if(xr(It)){_n(B,K,It.error);return}lt(!bo(It),"Unhandled fetcher deferred data"),Lt(B,vo(It.data))}}async function Ot(B,K,J,ie){let{submission:_e,fetcherSubmission:Pe,preventScrollReset:Qe,replace:De}=ie===void 0?{}:ie;K.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let Re=K.response.headers.get("Location");lt(Re,"Expected a Location header on the redirect Response"),Re=oI(Re,new URL(B.url),f);let Ce=Zu(C.location,Re,{_isRedirect:!0});if(t){let ct=!1;if(K.response.headers.has("X-Remix-Reload-Document"))ct=!0;else if(h_.test(Re)){const Rt=n.history.createURL(Re);ct=Rt.origin!==e.location.origin||xs(Rt.pathname,f)==null}if(ct){De?e.location.replace(Re):e.location.assign(Re);return}}L=null;let xe=De===!0||K.response.headers.has("X-Remix-Replace")?cn.Replace:cn.Push,{formMethod:et,formAction:Ze,formEncType:Xt}=C.navigation;!_e&&!Pe&&et&&Ze&&Xt&&(_e=hI(C.navigation));let It=_e||Pe;if(NU.has(K.response.status)&&It&&Ei(It.formMethod))await zt(xe,Ce,{submission:Bt({},It,{formAction:Re}),preventScrollReset:Qe||P,enableViewTransition:J?U:void 0});else{let ct=ry(Ce,_e);await zt(xe,Ce,{overrideNavigation:ct,fetcherSubmission:Pe,preventScrollReset:Qe||P,enableViewTransition:J?U:void 0})}}async function fn(B,K,J,ie,_e,Pe){let Qe,De={};try{Qe=await UU(p,B,K,J,ie,_e,Pe,o,i)}catch(Re){return ie.forEach(Ce=>{De[Ce.route.id]={type:Nt.error,error:Re}}),De}for(let[Re,Ce]of Object.entries(Qe))if(zU(Ce)){let xe=Ce.result;De[Re]={type:Nt.redirect,response:jU(xe,J,Re,_e,f,y.v7_relativeSplatPath)}}else De[Re]=await FU(Ce);return De}async function $e(B,K,J,ie,_e){let Pe=B.matches,Qe=fn("loader",B,_e,J,K,null),De=Promise.all(ie.map(async xe=>{if(xe.matches&&xe.match&&xe.controller){let Ze=(await fn("loader",B,$l(n.history,xe.path,xe.controller.signal),[xe.match],xe.matches,xe.key))[xe.match.route.id];return{[xe.key]:Ze}}else return Promise.resolve({[xe.key]:{type:Nt.error,error:vr(404,{pathname:xe.path})}})})),Re=await Qe,Ce=(await De).reduce((xe,et)=>Object.assign(xe,et),{});return await Promise.all([KU(K,Re,_e.signal,Pe,B.loaderData),GU(K,Ce,ie)]),{loaderResults:Re,fetcherResults:Ce}}function gt(){Ne=!0,je.push(...lr()),pe.forEach((B,K)=>{re.has(K)&&Se.add(K),at(K)})}function Lt(B,K,J){J===void 0&&(J={}),C.fetchers.set(B,K),st({fetchers:new Map(C.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function _n(B,K,J,ie){ie===void 0&&(ie={});let _e=Ia(C.matches,K);Xn(B),st({errors:{[_e.route.id]:J},fetchers:new Map(C.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Yn(B){return ve.set(B,(ve.get(B)||0)+1),Ie.has(B)&&Ie.delete(B),C.fetchers.get(B)||PU}function Xn(B){let K=C.fetchers.get(B);re.has(B)&&!(K&&K.state==="loading"&&z.has(B))&&at(B),pe.delete(B),z.delete(B),te.delete(B),y.v7_fetcherPersist&&Ie.delete(B),Se.delete(B),C.fetchers.delete(B)}function ze(B){let K=(ve.get(B)||0)-1;K<=0?(ve.delete(B),Ie.add(B),y.v7_fetcherPersist||Xn(B)):ve.set(B,K),st({fetchers:new Map(C.fetchers)})}function at(B){let K=re.get(B);K&&(K.abort(),re.delete(B))}function wn(B){for(let K of B){let J=Yn(K),ie=vo(J.data);C.fetchers.set(K,ie)}}function ar(){let B=[],K=!1;for(let J of te){let ie=C.fetchers.get(J);lt(ie,"Expected fetcher: "+J),ie.state==="loading"&&(te.delete(J),B.push(J),K=!0)}return wn(B),K}function Ri(B){let K=[];for(let[J,ie]of z)if(ie<B){let _e=C.fetchers.get(J);lt(_e,"Expected fetcher: "+J),_e.state==="loading"&&(at(J),z.delete(J),K.push(J))}return wn(K),K.length>0}function Jo(B,K){let J=C.blockers.get(B)||Cu;return Ge.get(B)!==K&&Ge.set(B,K),J}function ki(B){C.blockers.delete(B),Ge.delete(B)}function li(B,K){let J=C.blockers.get(B)||Cu;lt(J.state==="unblocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="blocked"||J.state==="blocked"&&K.state==="proceeding"||J.state==="blocked"&&K.state==="unblocked"||J.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+K.state);let ie=new Map(C.blockers);ie.set(B,K),st({blockers:ie})}function ts(B){let{currentLocation:K,nextLocation:J,historyAction:ie}=B;if(Ge.size===0)return;Ge.size>1&&La(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[Pe,Qe]=_e[_e.length-1],De=C.blockers.get(Pe);if(!(De&&De.state==="proceeding")&&Qe({currentLocation:K,nextLocation:J,historyAction:ie}))return Pe}function Vn(B){let K=vr(404,{pathname:B}),J=u||l,{matches:ie,route:_e}=dI(J);return lr(),{notFoundMatches:ie,route:_e,error:K}}function lr(B){let K=[];return Ae.forEach((J,ie)=>{(!B||B(ie))&&(J.cancel(),K.push(ie),Ae.delete(ie))}),K}function Ws(B,K,J){if(k=B,R=K,N=J||null,!x&&C.navigation===ny){x=!0;let ie=Ni(C.location,C.matches);ie!=null&&st({restoreScrollPosition:ie})}return()=>{k=null,R=null,N=null}}function Tr(B,K){return N&&N(B,K.map(ie=>lU(ie,C.loaderData)))||B.key}function Zo(B,K){if(k&&R){let J=Tr(B,K);k[J]=R()}}function Ni(B,K){if(k){let J=Tr(B,K),ie=k[J];if(typeof ie=="number")return ie}return null}function Pi(B,K,J){if(m)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:vh(K,J,f,!0)}}else return{active:!0,matches:vh(K,J,f,!0)||[]};return{active:!1,matches:null}}async function cr(B,K,J){if(!m)return{type:"success",matches:B};let ie=B;for(;;){let _e=u==null,Pe=u||l,Qe=o;try{await m({signal:J,path:K,matches:ie,patch:(Ce,xe)=>{J.aborted||sI(Ce,xe,Pe,Qe,i)}})}catch(Ce){return{type:"error",error:Ce,partialMatches:ie}}finally{_e&&!J.aborted&&(l=[...l])}if(J.aborted)return{type:"aborted"};let De=Ta(Pe,K,f);if(De)return{type:"success",matches:De};let Re=vh(Pe,K,f,!0);if(!Re||ie.length===Re.length&&ie.every((Ce,xe)=>Ce.route.id===Re[xe].route.id))return{type:"success",matches:null};ie=Re}}function ea(B){o={},u=Vh(B,i,void 0,o)}function qt(B,K){let J=u==null;sI(B,K,u||l,o,i),J&&(l=[...l],st({}))}return G={get basename(){return f},get future(){return y},get state(){return C},get routes(){return l},get window(){return e},initialize:ot,subscribe:Ct,enableScrollRestoration:Ws,navigate:Yt,fetch:rn,revalidate:it,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:Yn,deleteFetcher:ze,dispose:Tt,getBlocker:Jo,deleteBlocker:ki,patchRoutes:qt,_internalFetchControllers:re,_internalActiveDeferreds:Ae,_internalSetRoutes:ea},G}function OU(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Vy(n,e,t,r,i,o,l,u){let f,p;if(l){f=[];for(let y of e)if(f.push(y),y.route.id===l){p=y;break}}else f=e,p=e[e.length-1];let m=Ip(i||".",Tp(f,o),xs(n.pathname,t)||n.pathname,u==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&p){let y=m_(m.search);if(p.route.index&&!y)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&y){let T=new URLSearchParams(m.search),S=T.getAll("index");T.delete("index"),S.filter(N=>N).forEach(N=>T.append("index",N));let k=T.toString();m.search=k?"?"+k:""}}return r&&t!=="/"&&(m.pathname=m.pathname==="/"?t:bs([t,m.pathname])),Ma(m)}function tI(n,e,t,r){if(!r||!OU(r))return{path:t};if(r.formMethod&&!qU(r.formMethod))return{path:t,error:vr(405,{method:r.formMethod})};let i=()=>({path:t,error:vr(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=n?o.toUpperCase():o.toLowerCase(),u=hR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ei(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((S,k)=>{let[N,R]=k;return""+S+N+"="+R+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!Ei(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}lt(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=$y(r.formData),p=r.formData;else if(r.body instanceof FormData)f=$y(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=aI(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=aI(f)}catch{return i()}let m={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Ei(m.formMethod))return{path:t,submission:m};let y=js(t);return e&&y.search&&m_(y.search)&&f.append("index",""),y.search="?"+f,{path:Ma(y),submission:m}}function nI(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function rI(n,e,t,r,i,o,l,u,f,p,m,y,T,S,k,N){let R=N?xr(N[1])?N[1].error:N[1].data:void 0,x=n.createURL(e.location),M=n.createURL(i),V=t;o&&e.errors?V=nI(t,Object.keys(e.errors)[0],!0):N&&xr(N[1])&&(V=nI(t,N[0]));let j=N?N[1].statusCode:void 0,q=l&&j&&j>=400,G=V.filter((b,P)=>{let{route:L}=b;if(L.lazy)return!0;if(L.loader==null)return!1;if(o)return Uy(L,e.loaderData,e.errors);if(LU(e.loaderData,e.matches[P],b)||f.some(O=>O===b.route.id))return!0;let U=e.matches[P],F=b;return iI(b,Bt({currentUrl:x,currentParams:U.params,nextUrl:M,nextParams:F.params},r,{actionResult:R,actionStatus:j,defaultShouldRevalidate:q?!1:u||x.pathname+x.search===M.pathname+M.search||x.search!==M.search||dR(U,F)}))}),C=[];return y.forEach((b,P)=>{if(o||!t.some(we=>we.route.id===b.routeId)||m.has(P))return;let L=Ta(S,b.path,k);if(!L){C.push({key:P,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(P),F=Pu(L,b.path),O=!1;T.has(P)?O=!1:p.has(P)?(p.delete(P),O=!0):U&&U.state!=="idle"&&U.data===void 0?O=u:O=iI(F,Bt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:M,nextParams:t[t.length-1].params},r,{actionResult:R,actionStatus:j,defaultShouldRevalidate:q?!1:u})),O&&C.push({key:P,routeId:b.routeId,path:b.path,matches:L,match:F,controller:new AbortController})}),[G,C]}function Uy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function LU(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function dR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function iI(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function sI(n,e,t,r,i){var o;let l;if(n){let p=r[n];lt(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let u=e.filter(p=>!l.some(m=>fR(p,m))),f=Vh(u,i,[n||"_","patch",String(((o=l)==null?void 0:o.length)||"0")],r);l.push(...f)}function fR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>fR(t,o))}):!1}async function MU(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];lt(i,"No route found in manifest");let o={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";La(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!oU.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,Bt({},e(i),{lazy:void 0}))}async function VU(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,o,l)=>Object.assign(i,{[t[l].route.id]:o}),{})}async function UU(n,e,t,r,i,o,l,u,f,p){let m=o.map(S=>S.route.lazy?MU(S.route,f,u):void 0),y=o.map((S,k)=>{let N=m[k],R=i.some(M=>M.route.id===S.route.id);return Bt({},S,{shouldLoad:R,resolve:async M=>(M&&r.method==="GET"&&(S.route.lazy||S.route.loader)&&(R=!0),R?$U(e,r,S,N,M,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:y,request:r,params:o[0].params,fetcherKey:l,context:p});try{await Promise.all(m)}catch{}return T}async function $U(n,e,t,r,i,o){let l,u,f=p=>{let m,y=new Promise((k,N)=>m=N);u=()=>m(),e.signal.addEventListener("abort",u);let T=k=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:o},...k!==void 0?[k]:[]),S=(async()=>{try{return{type:"data",result:await(i?i(N=>T(N)):T())}}catch(k){return{type:"error",result:k}}})();return Promise.race([S,y])};try{let p=t.route[n];if(r)if(p){let m,[y]=await Promise.all([f(p).catch(T=>{m=T}),r]);if(m!==void 0)throw m;l=y}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw vr(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await f(p);else{let m=new URL(e.url),y=m.pathname+m.search;throw vr(404,{pathname:y})}lt(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function FU(n){let{result:e,type:t}=n;if(pR(e)){let y;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new $h(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:y,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(fI(e)){var r,i;if(e.data instanceof Error){var o,l;return{type:Nt.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new $h(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:ed(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:ed(e)?e.status:void 0}}if(WU(e)){var u,f;return{type:Nt.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(fI(e)){var p,m;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function jU(n,e,t,r,i,o){let l=n.headers.get("Location");if(lt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!h_.test(l)){let u=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=Vy(new URL(e.url),u,i,!0,l,o),n.headers.set("Location",l)}return n}function oI(n,e,t){if(h_.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=xs(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function $l(n,e,t,r){let i=n.createURL(hR(e)).toString(),o={signal:t};if(r&&Ei(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=$y(r.formData):o.body=r.formData}return new Request(i,o)}function $y(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function aI(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function BU(n,e,t,r,i){let o={},l=null,u,f=!1,p={},m=t&&xr(t[1])?t[1].error:void 0;return n.forEach(y=>{if(!(y.route.id in e))return;let T=y.route.id,S=e[T];if(lt(!Aa(S),"Cannot handle redirect results in processLoaderData"),xr(S)){let k=S.error;m!==void 0&&(k=m,m=void 0),l=l||{};{let N=Ia(n,T);l[N.route.id]==null&&(l[N.route.id]=k)}o[T]=void 0,f||(f=!0,u=ed(S.error)?S.error.status:500),S.headers&&(p[T]=S.headers)}else bo(S)?(r.set(T,S.deferredData),o[T]=S.deferredData.data,S.statusCode!=null&&S.statusCode!==200&&!f&&(u=S.statusCode),S.headers&&(p[T]=S.headers)):(o[T]=S.data,S.statusCode&&S.statusCode!==200&&!f&&(u=S.statusCode),S.headers&&(p[T]=S.headers))}),m!==void 0&&t&&(l={[t[0]]:m},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:p}}function lI(n,e,t,r,i,o,l){let{loaderData:u,errors:f}=BU(e,t,r,l);return i.forEach(p=>{let{key:m,match:y,controller:T}=p,S=o[m];if(lt(S,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(xr(S)){let k=Ia(n.matches,y==null?void 0:y.route.id);f&&f[k.route.id]||(f=Bt({},f,{[k.route.id]:S.error})),n.fetchers.delete(m)}else if(Aa(S))lt(!1,"Unhandled fetcher revalidation redirect");else if(bo(S))lt(!1,"Unhandled fetcher deferred data");else{let k=vo(S.data);n.fetchers.set(m,k)}}),{loaderData:u,errors:f}}function cI(n,e,t,r){let i=Bt({},e);for(let o of t){let l=o.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&o.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function uI(n){return n?xr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ia(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function dI(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vr(n,e){let{pathname:t,routeId:r,method:i,type:o,message:l}=e===void 0?{}:e,u="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?f="defer() is not supported in actions":o==="invalid-body"&&(f="Unable to encode submission body")):n===403?(u="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(u="Not Found",f='No route matches URL "'+t+'"'):n===405&&(u="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new $h(n||500,u,new Error(f),!0)}function rh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Aa(i))return{key:r,result:i}}}function hR(n){let e=typeof n=="string"?js(n):n;return Ma(Bt({},e,{hash:""}))}function HU(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function zU(n){return pR(n.result)&&kU.has(n.result.status)}function bo(n){return n.type===Nt.deferred}function xr(n){return n.type===Nt.error}function Aa(n){return(n&&n.type)===Nt.redirect}function fI(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function WU(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function pR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function qU(n){return RU.has(n.toLowerCase())}function Ei(n){return bU.has(n.toLowerCase())}async function KU(n,e,t,r,i){let o=Object.entries(e);for(let l=0;l<o.length;l++){let[u,f]=o[l],p=n.find(T=>(T==null?void 0:T.route.id)===u);if(!p)continue;let m=r.find(T=>T.route.id===p.route.id),y=m!=null&&!dR(m,p)&&(i&&i[p.route.id])!==void 0;bo(f)&&y&&await p_(f,t,!1).then(T=>{T&&(e[u]=T)})}}async function GU(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:o,controller:l}=t[r],u=e[i];n.find(p=>(p==null?void 0:p.route.id)===o)&&bo(u)&&(lt(l,"Expected an AbortController for revalidating fetcher deferred result"),await p_(u,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function p_(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:n.deferredData.data}}}function m_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Pu(n,e){let t=typeof e=="string"?js(e).search:e.search;if(n[n.length-1].route.index&&m_(t||""))return n[n.length-1];let r=lR(n);return r[r.length-1]}function hI(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function ry(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function QU(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function YU(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function vo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function XU(n,e){try{let t=n.sessionStorage.getItem(uR);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function JU(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(uR,JSON.stringify(t))}catch(r){La(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fh.apply(this,arguments)}const Sd=w.createContext(null),g_=w.createContext(null),Bs=w.createContext(null),y_=w.createContext(null),es=w.createContext({outlet:null,matches:[],isDataRoute:!1}),mR=w.createContext(null);function ZU(n,e){let{relative:t}=e===void 0?{}:e;Lc()||lt(!1);let{basename:r,navigator:i}=w.useContext(Bs),{hash:o,pathname:l,search:u}=Sp(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:bs([r,l])),i.createHref({pathname:f,search:u,hash:o})}function Lc(){return w.useContext(y_)!=null}function Mc(){return Lc()||lt(!1),w.useContext(y_).location}function gR(n){w.useContext(Bs).static||w.useLayoutEffect(n)}function ai(){let{isDataRoute:n}=w.useContext(es);return n?f$():e$()}function e$(){Lc()||lt(!1);let n=w.useContext(Sd),{basename:e,future:t,navigator:r}=w.useContext(Bs),{matches:i}=w.useContext(es),{pathname:o}=Mc(),l=JSON.stringify(Tp(i,t.v7_relativeSplatPath)),u=w.useRef(!1);return gR(()=>{u.current=!0}),w.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let y=Ip(p,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:bs([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,o,n])}const t$=w.createContext(null);function n$(n){let e=w.useContext(es).outlet;return e&&w.createElement(t$.Provider,{value:n},e)}function yR(){let{matches:n}=w.useContext(es),e=n[n.length-1];return e?e.params:{}}function Sp(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Bs),{matches:i}=w.useContext(es),{pathname:o}=Mc(),l=JSON.stringify(Tp(i,r.v7_relativeSplatPath));return w.useMemo(()=>Ip(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function r$(n,e,t,r){Lc()||lt(!1);let{navigator:i,static:o}=w.useContext(Bs),{matches:l}=w.useContext(es),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let m=Mc(),y;y=m;let T=y.pathname||"/",S=T;if(p!=="/"){let R=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=!o&&t&&t.matches&&t.matches.length>0?t.matches:Ta(n,{pathname:S});return l$(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:bs([p,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:bs([p,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,t,r)}function i$(){let n=ER(),e=ed(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const s$=w.createElement(i$,null);class o$ extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(es.Provider,{value:this.props.routeContext},w.createElement(mR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a$(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(Sd);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(es.Provider,{value:e},r)}function l$(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);m>=0||lt(!1),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:T,errors:S}=t,k=y.route.loader&&T[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||k){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,T)=>{let S,k=!1,N=null,R=null;t&&(S=u&&y.route.id?u[y.route.id]:void 0,N=y.route.errorElement||s$,f&&(p<0&&T===0?(h$("route-fallback"),k=!0,R=null):p===T&&(k=!0,R=y.route.hydrateFallbackElement||null)));let x=e.concat(l.slice(0,T+1)),M=()=>{let V;return S?V=N:k?V=R:y.route.Component?V=w.createElement(y.route.Component,null):y.route.element?V=y.route.element:V=m,w.createElement(a$,{match:y,routeContext:{outlet:m,matches:x,isDataRoute:t!=null},children:V})};return t&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?w.createElement(o$,{location:t.location,revalidation:t.revalidation,component:N,error:S,children:M(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):M()},null)}var vR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(vR||{}),_R=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(_R||{});function c$(n){let e=w.useContext(Sd);return e||lt(!1),e}function u$(n){let e=w.useContext(g_);return e||lt(!1),e}function d$(n){let e=w.useContext(es);return e||lt(!1),e}function wR(n){let e=d$(),t=e.matches[e.matches.length-1];return t.route.id||lt(!1),t.route.id}function ER(){var n;let e=w.useContext(mR),t=u$(_R.UseRouteError),r=wR();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function f$(){let{router:n}=c$(vR.UseNavigateStable),e=wR(),t=w.useRef(!1);return gR(()=>{t.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Fh({fromRouteId:e},o)))},[n,e])}const pI={};function h$(n,e,t){pI[n]||(pI[n]=!0)}function p$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function m$(n){let{to:e,replace:t,state:r,relative:i}=n;Lc()||lt(!1);let{future:o,static:l}=w.useContext(Bs),{matches:u}=w.useContext(es),{pathname:f}=Mc(),p=ai(),m=Ip(e,Tp(u,o.v7_relativeSplatPath),f,i==="path"),y=JSON.stringify(m);return w.useEffect(()=>p(JSON.parse(y),{replace:t,state:r,relative:i}),[p,y,i,t,r]),null}function g$(n){return n$(n.context)}function y$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=cn.Pop,navigator:o,static:l=!1,future:u}=n;Lc()&&lt(!1);let f=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:o,static:l,future:Fh({v7_relativeSplatPath:!1},u)}),[f,u,o,l]);typeof r=="string"&&(r=js(r));let{pathname:m="/",search:y="",hash:T="",state:S=null,key:k="default"}=r,N=w.useMemo(()=>{let R=xs(m,f);return R==null?null:{location:{pathname:R,search:y,hash:T,state:S,key:k},navigationType:i}},[f,m,y,T,S,k,i]);return N==null?null:w.createElement(Bs.Provider,{value:p},w.createElement(y_.Provider,{children:t,value:N}))}new Promise(()=>{});function v$(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fc.apply(this,arguments)}function TR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function _$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function w$(n,e){return n.button===0&&(!e||e==="_self")&&!_$(n)}const E$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],I$="6";try{window.__reactRouterVersion=I$}catch{}function S$(n,e){return xU({basename:void 0,future:fc({},void 0,{v7_prependBasename:!0}),history:rU({window:void 0}),hydrationData:C$(),routes:n,mapRouteProperties:v$,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function C$(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=fc({},e,{errors:b$(e.errors)})),e}function b$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new $h(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}const IR=w.createContext({isTransitioning:!1}),A$=w.createContext(new Map),R$="startTransition",mI=cP[R$],k$="flushSync",gI=MM[k$];function N$(n){mI?mI(n):n()}function Au(n){gI?gI(n):n()}let P$=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function D$(n){let{fallbackElement:e,router:t,future:r}=n,[i,o]=w.useState(t.state),[l,u]=w.useState(),[f,p]=w.useState({isTransitioning:!1}),[m,y]=w.useState(),[T,S]=w.useState(),[k,N]=w.useState(),R=w.useRef(new Map),{v7_startTransition:x}=r||{},M=w.useCallback(b=>{x?N$(b):b()},[x]),V=w.useCallback((b,P)=>{let{deletedFetchers:L,flushSync:U,viewTransitionOpts:F}=P;b.fetchers.forEach((we,Ne)=>{we.data!==void 0&&R.current.set(Ne,we.data)}),L.forEach(we=>R.current.delete(we));let O=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!F||O){U?Au(()=>o(b)):M(()=>o(b));return}if(U){Au(()=>{T&&(m&&m.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let we=t.window.document.startViewTransition(()=>{Au(()=>o(b))});we.finished.finally(()=>{Au(()=>{y(void 0),S(void 0),u(void 0),p({isTransitioning:!1})})}),Au(()=>S(we));return}T?(m&&m.resolve(),T.skipTransition(),N({state:b,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(b),p({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,T,m,R,M]);w.useLayoutEffect(()=>t.subscribe(V),[t,V]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new P$)},[f]),w.useEffect(()=>{if(m&&l&&t.window){let b=l,P=m.promise,L=t.window.document.startViewTransition(async()=>{M(()=>o(b)),await P});L.finished.finally(()=>{y(void 0),S(void 0),u(void 0),p({isTransitioning:!1})}),S(L)}},[M,l,m,t.window]),w.useEffect(()=>{m&&l&&i.location.key===l.location.key&&m.resolve()},[m,T,i.location,l]),w.useEffect(()=>{!f.isTransitioning&&k&&(u(k.state),p({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),N(void 0))},[f.isTransitioning,k]),w.useEffect(()=>{},[]);let j=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:b=>t.navigate(b),push:(b,P,L)=>t.navigate(b,{state:P,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(b,P,L)=>t.navigate(b,{replace:!0,state:P,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[t]),q=t.basename||"/",G=w.useMemo(()=>({router:t,navigator:j,static:!1,basename:q}),[t,j,q]),C=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>p$(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(Sd.Provider,{value:G},w.createElement(g_.Provider,{value:i},w.createElement(A$.Provider,{value:R.current},w.createElement(IR.Provider,{value:f},w.createElement(y$,{basename:q,location:i.location,navigationType:i.historyAction,navigator:j,future:C},i.initialized||t.future.v7_partialHydration?w.createElement(x$,{routes:t.routes,future:t.future,state:i}):e))))),null)}const x$=w.memo(O$);function O$(n){let{routes:e,future:t,state:r}=n;return r$(e,void 0,r,t)}const L$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",M$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V$=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:f,to:p,preventScrollReset:m,viewTransition:y}=e,T=TR(e,E$),{basename:S}=w.useContext(Bs),k,N=!1;if(typeof p=="string"&&M$.test(p)&&(k=p,L$))try{let V=new URL(window.location.href),j=p.startsWith("//")?new URL(V.protocol+p):new URL(p),q=xs(j.pathname,S);j.origin===V.origin&&q!=null?p=q+j.search+j.hash:N=!0}catch{}let R=ZU(p,{relative:i}),x=$$(p,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:y});function M(V){r&&r(V),V.defaultPrevented||x(V)}return w.createElement("a",fc({},T,{href:k||R,onClick:N||o?r:M,ref:t,target:f}))}),Ru=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:u,to:f,viewTransition:p,children:m}=e,y=TR(e,T$),T=Sp(f,{relative:y.relative}),S=Mc(),k=w.useContext(g_),{navigator:N,basename:R}=w.useContext(Bs),x=k!=null&&F$(T)&&p===!0,M=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,V=S.pathname,j=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(V=V.toLowerCase(),j=j?j.toLowerCase():null,M=M.toLowerCase()),j&&R&&(j=xs(j,R)||j);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let G=V===M||!l&&V.startsWith(M)&&V.charAt(q)==="/",C=j!=null&&(j===M||!l&&j.startsWith(M)&&j.charAt(M.length)==="/"),b={isActive:G,isPending:C,isTransitioning:x},P=G?r:void 0,L;typeof o=="function"?L=o(b):L=[o,G?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof u=="function"?u(b):u;return w.createElement(V$,fc({},y,{"aria-current":P,className:L,ref:t,style:U,to:f,viewTransition:p}),typeof m=="function"?m(b):m)});var Fy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Fy||(Fy={}));var yI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(yI||(yI={}));function U$(n){let e=w.useContext(Sd);return e||lt(!1),e}function $$(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,f=ai(),p=Mc(),m=Sp(n,{relative:l});return w.useCallback(y=>{if(w$(y,t)){y.preventDefault();let T=r!==void 0?r:Ma(p)===Ma(m);f(n,{replace:T,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[p,f,m,r,i,t,n,o,l,u])}function F$(n,e){e===void 0&&(e={});let t=w.useContext(IR);t==null&&lt(!1);let{basename:r}=U$(Fy.useViewTransitionState),i=Sp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=xs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=xs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Uh(i.pathname,l)!=null||Uh(i.pathname,o)!=null}function j$(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),i=()=>r(!1),o=()=>r(!0),l=k=>E(eR,{id:"button-tooltip",...k,children:"Please check the notice below to continue.."}),{session:u}=Ju(),f=ai();w.useEffect(()=>{u&&f("/Home")},[u,f]);const[p,m]=w.useState(!1);function y(k){switch(k.target.checked){case!0:m(!0);break;case!1:m(!1);break}}const{logIn:T}=Ju();async function S(){e(!0),await T(),e(!1)}return ee(Ht,{children:[E(tr,{show:n,centered:!0,backdrop:"static",children:ee(tr.Body,{className:"text-center",children:[E("div",{className:"spinner-border text-primary",role:"status"}),E("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),ee(tr,{show:t,children:[E(tr.Header,{children:E(tr.Title,{children:"Terms and Conditions"})}),E(tr.Body,{children:ee("p",{children:["1. User Responsibility ",E("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",E("br",{}),E("br",{}),"2. Privacy and Message Monitoring ",E("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",E("br",{}),E("br",{}),"3. Item Posting and Review",E("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",E("br",{}),E("br",{}),"4. Violations and Account Management",E("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",E("br",{}),E("br",{}),"5. Disclaimer of Liability",E("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",E("br",{}),E("br",{}),"6. Amendments and Changes",E("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",E("br",{}),E("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),E(tr.Footer,{children:E(tn,{variant:"primary",onClick:i,children:"Okay"})})]}),ee("div",{className:"logincontainer",children:[E("div",{className:"circle",children:E("img",{src:"./images/favicon.png"})}),E("p",{className:"LoginWord",children:" USER LOGIN "}),ee("div",{className:"google-button",children:[p&&E(tn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:S,disabled:n,children:"Login with Google"}),!p&&E(HV,{placement:"bottom",delay:{show:0,hide:400},overlay:l,children:E("div",{children:E(tn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),ee("div",{children:[E("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),E("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),E("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:y}),E("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:o,children:"Terms and Conditions"})]})]})]})}async function B$(n){return await Oc.createFile("678bac020031c1c3ad75",dc.unique(),n)}async function H$(n){return await Oc.deleteFile("678bac020031c1c3ad75",n)}function Cd(n){return Oc.getFilePreview("678bac020031c1c3ad75",n)}function jy(n){return Oc.getFilePreview("67932f8600176cf1dfdc",n)}async function z$(n,e){return await Oc.createFile("67932f8600176cf1dfdc",n,e)}async function W$(n){return await Oc.deleteFile("67932f8600176cf1dfdc",n)}async function q$(){const{documents:n}=await Gn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.equal("isApproved",!0)]);return{items:n.map(Hs)}}async function K$(n){const{documents:e}=await Gn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("name",n),Fe.equal("isApproved",!0)]);return{items:e.map(Hs)}}async function G$(n){const{documents:e}=await Gn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.orderDesc("date"),Fe.contains("itemCategory",n),Fe.equal("isApproved",!0)]);return{items:e.map(Hs)}}async function v_(n){const{documents:e}=await Gn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.contains("authorID",n),Fe.orderDesc("date")]);return{items:e.map(Hs)}}async function Q$(){const{documents:n}=await Gn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[Fe.equal("isApproved",!1),Fe.orderDesc("date")]);return{items:n.map(Hs)}}async function By(n){const e=await Gn.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Hs(e)}}async function Y$(n){const{items:e}=await By(n);await H$(e.imageFileId),await Gn.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function X$(n){const e=await Gn.createDocument("678babec0039e89240df","67932f2e00392d850485",dc.unique(),n);return{items:Hs(e)}}async function SR(n,e){const t=await Gn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Hs(t)}}async function vI(n,e){const t=await Gn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Hs(t)}}function Hs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:n.isApproved,requests:n.requests,itemCategory:n.itemCategory}}async function J$(n,e){const t=await Gn.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Cp(t)}}async function Va(n){const e=await Gn.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:Cp(e)}}async function Z$(n){const{documents:e}=await Gn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Fe.contains("displayName",n)]);return{userdb:e.map(Cp)}}async function e4(n){try{const{documents:e}=await Gn.listDocuments("678babec0039e89240df","67932f37003021addec1",[Fe.equal("displayName",n)]);return e.length>0}catch{return!1}}async function t4(n){try{return!!await Gn.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function Hy(n,e){const t=await Gn.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Cp(t)}}function Cp(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail,firebaseId:n.firebaseId}}function ih(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...o]=t.map(f=>parseInt(f)),l=[r,i-1,...o];return new Date(Date.UTC(...l))}}function _I(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function zy(){return zy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zy.apply(this,arguments)}const Du=60,xu=Du*60,Yl=xu*24,sh=Yl*7,wI=Yl*30,EI=Yl*365,n4=()=>Date.now();function r4({date:n,formatter:e=_I,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:o=sh,title:l,now:u=n4,...f}){const[p,m]=w.useState(u());w.useEffect(()=>{if(!r)return;const q=(()=>{const G=ih(n).valueOf();if(!G)return console.warn("[react-timeago] Invalid Date provided"),0;const C=Math.round(Math.abs(p-G)/1e3),b=C<Du?1e3:C<xu?1e3*Du:C<Yl?1e3*xu:1e3*sh,P=Math.min(Math.max(b,i*1e3),o*1e3);return P?setTimeout(()=>{m(u())},P):0})();return()=>{q&&clearTimeout(q)}},[n,r,o,i,u,p]);const y=t,T=ih(n).valueOf();if(!T)return null;const S=Math.round(Math.abs(p-T)/1e3),k=T<p?"ago":"from now",[N,R]=S<Du?[Math.round(S),"second"]:S<xu?[Math.round(S/Du),"minute"]:S<Yl?[Math.round(S/xu),"hour"]:S<sh?[Math.round(S/Yl),"day"]:S<wI?[Math.round(S/sh),"week"]:S<EI?[Math.round(S/wI),"month"]:[Math.round(S/EI),"year"],x=typeof l>"u"?typeof n=="string"?n:ih(n).toISOString().substr(0,16).replace("T"," "):l,M=y==="time"?{...f,dateTime:ih(n).toISOString()}:f,V=_I.bind(null,N,R,k);return w.createElement(y,zy({},M,{title:x}),e(N,R,k,T,V,u))}const bp=({name:n,date:e,author:t,image:r})=>ee(gs,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[E("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&ee(Ht,{children:[E(gs.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),E("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),ee(gs.Body,{children:[E(gs.Title,{children:n}),E(gs.Text,{children:t}),E(gs.Text,{children:E(r4,{date:e})})]})]});var TI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},i4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let T=(u&15)<<2|p>>6,S=p&63;f||(S=64,l||(T=64)),r.push(t[m],t[y],t[T],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||y==null)throw new s4;const T=o<<2|u>>4;if(r.push(T),p!==64){const S=u<<4&240|p>>2;if(r.push(S),y!==64){const k=p<<6&192|y;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class s4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(n){const e=CR(n);return bR.encodeByteArray(e,!0)},jh=function(n){return o4(n).replace(/\./g,"")},AR=function(n){try{return bR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=()=>a4().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof TI>"u")return;const n=TI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},u4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&AR(n[1]);return e&&JSON.parse(e)},Ap=()=>{try{return l4()||c4()||u4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RR=n=>{var e,t;return(t=(e=Ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},d4=n=>{const e=RR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kR=()=>{var n;return(n=Ap())===null||n===void 0?void 0:n.config},NR=n=>{var e;return(e=Ap())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jh(JSON.stringify(t)),jh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function m4(){var n;const e=(n=Ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function v4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _4(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w4(){return!m4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class zs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=I4,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?S4(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new zs(i,u,r)}}function S4(n,e){return n.replace(C4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const C4=/\{\$([^}]+)}/g;function b4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(II(o)&&II(l)){if(!hc(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function II(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ou(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Lu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function A4(n,e){const t=new R4(n,e);return t.subscribe.bind(t)}class R4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=iy),i.error===void 0&&(i.error=iy),i.complete===void 0&&(i.complete=iy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function iy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class Ua{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new f4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D4(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P4(n){return n===Ea?void 0:n}function D4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new N4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(pt||(pt={}));const O4={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},L4=pt.INFO,M4={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},V4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=M4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class __{constructor(e){this.name=e,this._logLevel=L4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const U4=(n,e)=>e.some(t=>n instanceof t);let SI,CI;function $4(){return SI||(SI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F4(){return CI||(CI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PR=new WeakMap,Wy=new WeakMap,DR=new WeakMap,sy=new WeakMap,w_=new WeakMap;function j4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ko(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&PR.set(t,n)}).catch(()=>{}),w_.set(e,n),e}function B4(n){if(Wy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Wy.set(n,e)}let qy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ko(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function H4(n){qy=n(qy)}function z4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(oy(this),e,...t);return DR.set(r,e.sort?e.sort():[e]),ko(r)}:F4().includes(n)?function(...e){return n.apply(oy(this),e),ko(PR.get(this))}:function(...e){return ko(n.apply(oy(this),e))}}function W4(n){return typeof n=="function"?z4(n):(n instanceof IDBTransaction&&B4(n),U4(n,$4())?new Proxy(n,qy):n)}function ko(n){if(n instanceof IDBRequest)return j4(n);if(sy.has(n))return sy.get(n);const e=W4(n);return e!==n&&(sy.set(n,e),w_.set(e,n)),e}const oy=n=>w_.get(n);function q4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=ko(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ko(l.result),f.oldVersion,f.newVersion,ko(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const K4=["get","getKey","getAll","getAllKeys","count"],G4=["put","add","delete","clear"],ay=new Map;function bI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=G4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||K4.includes(t)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&f.done]))[0]};return ay.set(e,o),o}H4(n=>({...n,get:(e,t,r)=>bI(e,t)||n.get(e,t,r),has:(e,t)=>!!bI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Y4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",AI="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new __("@firebase/app"),X4="@firebase/app-compat",J4="@firebase/analytics-compat",Z4="@firebase/analytics",eF="@firebase/app-check-compat",tF="@firebase/app-check",nF="@firebase/auth",rF="@firebase/auth-compat",iF="@firebase/database",sF="@firebase/data-connect",oF="@firebase/database-compat",aF="@firebase/functions",lF="@firebase/functions-compat",cF="@firebase/installations",uF="@firebase/installations-compat",dF="@firebase/messaging",fF="@firebase/messaging-compat",hF="@firebase/performance",pF="@firebase/performance-compat",mF="@firebase/remote-config",gF="@firebase/remote-config-compat",yF="@firebase/storage",vF="@firebase/storage-compat",_F="@firebase/firestore",wF="@firebase/vertexai",EF="@firebase/firestore-compat",TF="firebase",IF="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="[DEFAULT]",SF={[Ky]:"fire-core",[X4]:"fire-core-compat",[Z4]:"fire-analytics",[J4]:"fire-analytics-compat",[tF]:"fire-app-check",[eF]:"fire-app-check-compat",[nF]:"fire-auth",[rF]:"fire-auth-compat",[iF]:"fire-rtdb",[sF]:"fire-data-connect",[oF]:"fire-rtdb-compat",[aF]:"fire-fn",[lF]:"fire-fn-compat",[cF]:"fire-iid",[uF]:"fire-iid-compat",[dF]:"fire-fcm",[fF]:"fire-fcm-compat",[hF]:"fire-perf",[pF]:"fire-perf-compat",[mF]:"fire-rc",[gF]:"fire-rc-compat",[yF]:"fire-gcs",[vF]:"fire-gcs-compat",[_F]:"fire-fst",[EF]:"fire-fst-compat",[wF]:"fire-vertex","fire-js":"fire-js",[TF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,CF=new Map,Qy=new Map;function RI(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pc(n){const e=n.name;if(Qy.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Qy.set(e,n);for(const t of Bh.values())RI(t,n);for(const t of CF.values())RI(t,n);return!0}function E_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ti(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},No=new bd("app","Firebase",bF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw No.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=IF;function xR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw No.create("bad-app-name",{appName:String(i)});if(t||(t=kR()),!t)throw No.create("no-options");const o=Bh.get(i);if(o){if(hc(t,o.options)&&hc(r,o.config))return o;throw No.create("duplicate-app",{appName:i})}const l=new x4(i);for(const f of Qy.values())l.addComponent(f);const u=new AF(t,r,l);return Bh.set(i,u),u}function OR(n=Gy){const e=Bh.get(n);if(!e&&n===Gy&&kR())return xR();if(!e)throw No.create("no-app",{appName:n});return e}function Po(n,e,t){var r;let i=(r=SF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(u.join(" "));return}pc(new Ua(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-heartbeat-database",kF=1,td="firebase-heartbeat-store";let ly=null;function LR(){return ly||(ly=q4(RF,kF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(td)}catch(t){console.warn(t)}}}}).catch(n=>{throw No.create("idb-open",{originalErrorMessage:n.message})})),ly}async function NF(n){try{const t=(await LR()).transaction(td),r=await t.objectStore(td).get(MR(n));return await t.done,r}catch(e){if(e instanceof zs)Os.warn(e.message);else{const t=No.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(t.message)}}}async function kI(n,e){try{const r=(await LR()).transaction(td,"readwrite");await r.objectStore(td).put(e,MR(n)),await r.done}catch(t){if(t instanceof zs)Os.warn(t.message);else{const r=No.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Os.warn(r.message)}}}function MR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=1024,DF=30;class xF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>DF){const l=MF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=NI(),{heartbeatsToSend:r,unsentEntries:i}=OF(this._heartbeatsCache.heartbeats),o=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Os.warn(t),""}}}function NI(){return new Date().toISOString().substring(0,10)}function OF(n,e=PF){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),PI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),PI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class LF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return kI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return kI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PI(n){return jh(JSON.stringify({version:2,heartbeats:n})).length}function MF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(n){pc(new Ua("platform-logger",e=>new Q4(e),"PRIVATE")),pc(new Ua("heartbeat",e=>new xF(e),"PRIVATE")),Po(Ky,AI,n),Po(Ky,AI,"esm2017"),Po("fire-js","")}VF("");var UF="firebase",$F="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(UF,$F,"app");var DI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,VR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function P(){}P.prototype=b.prototype,C.D=b.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(L,U,F){for(var O=Array(arguments.length-2),we=2;we<arguments.length;we++)O[we-2]=arguments[we];return b.prototype[U].apply(L,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,P){P||(P=0);var L=Array(16);if(typeof b=="string")for(var U=0;16>U;++U)L[U]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(U=0;16>U;++U)L[U]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=C.g[0],P=C.g[1],U=C.g[2];var F=C.g[3],O=b+(F^P&(U^F))+L[0]+3614090360&4294967295;b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+L[1]+3905402710&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+L[2]+606105819&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+L[3]+3250441966&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+L[4]+4118548399&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+L[5]+1200080426&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+L[6]+2821735955&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+L[7]+4249261313&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+L[8]+1770035416&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+L[9]+2336552879&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+L[10]+4294925233&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+L[11]+2304563134&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(F^P&(U^F))+L[12]+1804603682&4294967295,b=P+(O<<7&4294967295|O>>>25),O=F+(U^b&(P^U))+L[13]+4254626195&4294967295,F=b+(O<<12&4294967295|O>>>20),O=U+(P^F&(b^P))+L[14]+2792965006&4294967295,U=F+(O<<17&4294967295|O>>>15),O=P+(b^U&(F^b))+L[15]+1236535329&4294967295,P=U+(O<<22&4294967295|O>>>10),O=b+(U^F&(P^U))+L[1]+4129170786&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+L[6]+3225465664&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+L[11]+643717713&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+L[0]+3921069994&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+L[5]+3593408605&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+L[10]+38016083&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+L[15]+3634488961&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+L[4]+3889429448&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+L[9]+568446438&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+L[14]+3275163606&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+L[3]+4107603335&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+L[8]+1163531501&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(U^F&(P^U))+L[13]+2850285829&4294967295,b=P+(O<<5&4294967295|O>>>27),O=F+(P^U&(b^P))+L[2]+4243563512&4294967295,F=b+(O<<9&4294967295|O>>>23),O=U+(b^P&(F^b))+L[7]+1735328473&4294967295,U=F+(O<<14&4294967295|O>>>18),O=P+(F^b&(U^F))+L[12]+2368359562&4294967295,P=U+(O<<20&4294967295|O>>>12),O=b+(P^U^F)+L[5]+4294588738&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+L[8]+2272392833&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+L[11]+1839030562&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+L[14]+4259657740&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+L[1]+2763975236&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+L[4]+1272893353&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+L[7]+4139469664&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+L[10]+3200236656&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+L[13]+681279174&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+L[0]+3936430074&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+L[3]+3572445317&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+L[6]+76029189&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(P^U^F)+L[9]+3654602809&4294967295,b=P+(O<<4&4294967295|O>>>28),O=F+(b^P^U)+L[12]+3873151461&4294967295,F=b+(O<<11&4294967295|O>>>21),O=U+(F^b^P)+L[15]+530742520&4294967295,U=F+(O<<16&4294967295|O>>>16),O=P+(U^F^b)+L[2]+3299628645&4294967295,P=U+(O<<23&4294967295|O>>>9),O=b+(U^(P|~F))+L[0]+4096336452&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+L[7]+1126891415&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+L[14]+2878612391&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+L[5]+4237533241&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+L[12]+1700485571&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+L[3]+2399980690&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+L[10]+4293915773&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+L[1]+2240044497&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+L[8]+1873313359&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+L[15]+4264355552&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+L[6]+2734768916&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+L[13]+1309151649&4294967295,P=U+(O<<21&4294967295|O>>>11),O=b+(U^(P|~F))+L[4]+4149444226&4294967295,b=P+(O<<6&4294967295|O>>>26),O=F+(P^(b|~U))+L[11]+3174756917&4294967295,F=b+(O<<10&4294967295|O>>>22),O=U+(b^(F|~P))+L[2]+718787259&4294967295,U=F+(O<<15&4294967295|O>>>17),O=P+(F^(U|~b))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var P=b-this.blockSize,L=this.B,U=this.h,F=0;F<b;){if(U==0)for(;F<=P;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<b;)if(L[U++]=C.charCodeAt(F++),U==this.blockSize){i(this,L),U=0;break}}else for(;F<b;)if(L[U++]=C[F++],U==this.blockSize){i(this,L),U=0;break}}this.h=U,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var P=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=P&255,P/=256;for(this.u(C),C=Array(16),b=P=0;4>b;++b)for(var L=0;32>L;L+=8)C[P++]=this.g[b]>>>L&255;return C};function o(C,b){var P=u;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=b(C)}function l(C,b){this.h=b;for(var P=[],L=!0,U=C.length-1;0<=U;U--){var F=C[U]|0;L&&F==b||(P[U]=F,L=!1)}this.g=P}var u={};function f(C){return-128<=C&&128>C?o(C,function(b){return new l([b|0],0>b?-1:0)}):new l([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return R(p(-C));for(var b=[],P=1,L=0;C>=P;L++)b[L]=C/P|0,P*=4294967296;return new l(b,0)}function m(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return R(m(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(b,8)),L=y,U=0;U<C.length;U+=8){var F=Math.min(8,C.length-U),O=parseInt(C.substring(U,U+F),b);8>F?(F=p(Math.pow(b,F)),L=L.j(F).add(p(O))):(L=L.j(P),L=L.add(p(O)))}return L}var y=f(0),T=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(N(this))return-R(this).m();for(var C=0,b=1,P=0;P<this.g.length;P++){var L=this.i(P);C+=(0<=L?L:4294967296+L)*b,b*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(N(this))return"-"+R(this).toString(C);for(var b=p(Math.pow(C,6)),P=this,L="";;){var U=j(P,b).g;P=x(P,U.j(b));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=U,k(P))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function N(C){return C.h==-1}n.l=function(C){return C=x(this,C),N(C)?-1:k(C)?0:1};function R(C){for(var b=C.g.length,P=[],L=0;L<b;L++)P[L]=~C.g[L];return new l(P,~C.h).add(T)}n.abs=function(){return N(this)?R(this):this},n.add=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],L=0,U=0;U<=b;U++){var F=L+(this.i(U)&65535)+(C.i(U)&65535),O=(F>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);L=O>>>16,F&=65535,O&=65535,P[U]=O<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function x(C,b){return C.add(R(b))}n.j=function(C){if(k(this)||k(C))return y;if(N(this))return N(C)?R(this).j(R(C)):R(R(this).j(C));if(N(C))return R(this.j(R(C)));if(0>this.l(S)&&0>C.l(S))return p(this.m()*C.m());for(var b=this.g.length+C.g.length,P=[],L=0;L<2*b;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<C.g.length;U++){var F=this.i(L)>>>16,O=this.i(L)&65535,we=C.i(U)>>>16,Ne=C.i(U)&65535;P[2*L+2*U]+=O*Ne,M(P,2*L+2*U),P[2*L+2*U+1]+=F*Ne,M(P,2*L+2*U+1),P[2*L+2*U+1]+=O*we,M(P,2*L+2*U+1),P[2*L+2*U+2]+=F*we,M(P,2*L+2*U+2)}for(L=0;L<b;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=b;L<2*b;L++)P[L]=0;return new l(P,0)};function M(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function V(C,b){this.g=C,this.h=b}function j(C,b){if(k(b))throw Error("division by zero");if(k(C))return new V(y,y);if(N(C))return b=j(R(C),b),new V(R(b.g),R(b.h));if(N(b))return b=j(C,R(b)),new V(R(b.g),b.h);if(30<C.g.length){if(N(C)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var P=T,L=b;0>=L.l(C);)P=q(P),L=q(L);var U=G(P,1),F=G(L,1);for(L=G(L,2),P=G(P,2);!k(L);){var O=F.add(L);0>=O.l(C)&&(U=U.add(P),F=O),L=G(L,1),P=G(P,1)}return b=x(C,U.j(b)),new V(U,b)}for(U=y;0<=C.l(b);){for(P=Math.max(1,Math.floor(C.m()/b.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=p(P),O=F.j(b);N(O)||0<O.l(C);)P-=L,F=p(P),O=F.j(b);k(F)&&(F=T),U=U.add(F),C=x(C,O)}return new V(U,C)}n.A=function(C){return j(this,C).h},n.and=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],L=0;L<b;L++)P[L]=this.i(L)&C.i(L);return new l(P,this.h&C.h)},n.or=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],L=0;L<b;L++)P[L]=this.i(L)|C.i(L);return new l(P,this.h|C.h)},n.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),P=[],L=0;L<b;L++)P[L]=this.i(L)^C.i(L);return new l(P,this.h^C.h)};function q(C){for(var b=C.g.length+1,P=[],L=0;L<b;L++)P[L]=C.i(L)<<1|C.i(L-1)>>>31;return new l(P,C.h)}function G(C,b){var P=b>>5;b%=32;for(var L=C.g.length-P,U=[],F=0;F<L;F++)U[F]=0<b?C.i(F+P)>>>b|C.i(F+P+1)<<32-b:C.i(F+P);return new l(U,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Do=l}).apply(typeof DI<"u"?DI:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UR,Mu,$R,_h,Yy,FR,jR,BR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,I){return d==Array.prototype||d==Object.prototype||(d[v]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<d.length;++v){var I=d[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var I=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var Q=d[D];if(!(Q in I))break e;I=I[Q]}d=d[d.length-1],D=I[d],v=v(D),v!=D&&v!=null&&e(I,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var I=0,D=!1,Q={next:function(){if(!D&&I<d.length){var ne=I++;return{value:v(ne,d[ne]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,I){return d.call.apply(d.bind,arguments)}function y(d,v,I){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),d.apply(v,Q)}}return function(){return d.apply(v,arguments)}}function T(d,v,I){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,T.apply(null,arguments)}function S(d,v){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function k(d,v){function I(){}I.prototype=v.prototype,d.aa=v.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(D,Q,ne){for(var ge=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ge[kt-2]=arguments[kt];return v.prototype[Q].apply(D,ge)}}function N(d){const v=d.length;if(0<v){const I=Array(v);for(let D=0;D<v;D++)I[D]=d[D];return I}return[]}function R(d,v){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(f(D)){const Q=d.length||0,ne=D.length||0;d.length=Q+ne;for(let ge=0;ge<ne;ge++)d[Q+ge]=D[ge]}else d.push(D)}}class x{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var q=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(d,v,I){for(const D in d)v.call(I,d[D],D,d)}function C(d,v){for(const I in d)v.call(void 0,d[I],I,d)}function b(d){const v={};for(const I in d)v[I]=d[I];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,v){let I,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(I in D)d[I]=D[I];for(let ne=0;ne<P.length;ne++)I=P[ne],Object.prototype.hasOwnProperty.call(D,I)&&(d[I]=D[I])}}function U(d){var v=1;d=d.split(":");const I=[];for(;0<v&&d.length;)I.push(d.shift()),v--;return d.length&&I.push(d.join(":")),I}function F(d){u.setTimeout(()=>{throw d},0)}function O(){var d=me;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class we{constructor(){this.h=this.g=null}add(v,I){const D=Ne.get();D.set(v,I),this.h?this.h.next=D:this.g=D,this.h=D}}var Ne=new x(()=>new je,d=>d.reset());class je{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,re=!1,me=new we,ce=()=>{const d=u.Promise.resolve(void 0);Se=()=>{d.then(z)}};var z=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(I){F(I)}var v=Ne;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}re=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};u.addEventListener("test",I,v),u.removeEventListener("test",I,v)}catch{}return d}();function Ie(d,v){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(q){e:{try{j(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else I=="mouseover"?v=d.fromElement:I=="mouseout"&&(v=d.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}k(Ie,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(d,v,I,D,Q){this.listener=d,this.proxy=null,this.src=v,this.type=I,this.capture=!!D,this.ha=Q,this.key=++Be,this.da=this.fa=!1}function Tt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ct(d){this.src=d,this.g={},this.h=0}Ct.prototype.add=function(d,v,I,D,Q){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var ge=Pt(d,v,D,Q);return-1<ge?(v=d[ge],I||(v.fa=!1)):(v=new ot(v,this.src,ne,!!D,Q),v.fa=I,d.push(v)),v};function st(d,v){var I=v.type;if(I in d.g){var D=d.g[I],Q=Array.prototype.indexOf.call(D,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(D,Q,1),ne&&(Tt(v),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Pt(d,v,I,D){for(var Q=0;Q<d.length;++Q){var ne=d[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!I&&ne.ha==D)return Q}return-1}var Yt="closure_lm_"+(1e6*Math.random()|0),it={};function zt(d,v,I,D,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)zt(d,v[ne],I,D,Q);return null}return I=fn(I),d&&d[Ge]?d.K(v,I,p(D)?!!D.capture:!1,Q):vn(d,v,I,!1,D,Q)}function vn(d,v,I,D,Q,ne){if(!v)throw Error("Invalid event type");var ge=p(Q)?!!Q.capture:!!Q,kt=Mn(d);if(kt||(d[Yt]=kt=new Ct(d)),I=kt.add(v,I,D,ge,ne),I.proxy)return I;if(D=Fr(),I.proxy=D,D.src=d,D.listener=I,d.addEventListener)ve||(Q=ge),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),D,Q);else if(d.attachEvent)d.attachEvent(rn(v.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Fr(){function d(I){return v.call(d.src,d.listener,I)}const v=or;return d}function Qn(d,v,I,D,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Qn(d,v[ne],I,D,Q);else D=p(D)?!!D.capture:!!D,I=fn(I),d&&d[Ge]?(d=d.i,v=String(v).toString(),v in d.g&&(ne=d.g[v],I=Pt(ne,I,D,Q),-1<I&&(Tt(ne[I]),Array.prototype.splice.call(ne,I,1),ne.length==0&&(delete d.g[v],d.h--)))):d&&(d=Mn(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Pt(v,I,D,Q)),(I=-1<d?v[d]:null)&&Wt(I))}function Wt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ge])st(v.i,d);else{var I=d.type,D=d.proxy;v.removeEventListener?v.removeEventListener(I,D,d.capture):v.detachEvent?v.detachEvent(rn(I),D):v.addListener&&v.removeListener&&v.removeListener(D),(I=Mn(v))?(st(I,d),I.h==0&&(I.src=null,v[Yt]=null)):Tt(d)}}}function rn(d){return d in it?it[d]:it[d]="on"+d}function or(d,v){if(d.da)d=!0;else{v=new Ie(v,this);var I=d.listener,D=d.ha||d.src;d.fa&&Wt(d),d=I.call(D,v)}return d}function Mn(d){return d=d[Yt],d instanceof Ct?d:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(d){return typeof d=="function"?d:(d[Ot]||(d[Ot]=function(v){return d.handleEvent(v)}),d[Ot])}function $e(){te.call(this),this.i=new Ct(this),this.M=this,this.F=null}k($e,te),$e.prototype[Ge]=!0,$e.prototype.removeEventListener=function(d,v,I,D){Qn(this,d,v,I,D)};function gt(d,v){var I,D=d.F;if(D)for(I=[];D;D=D.F)I.push(D);if(d=d.M,D=v.type||v,typeof v=="string")v=new pe(v,d);else if(v instanceof pe)v.target=v.target||d;else{var Q=v;v=new pe(D,d),L(v,Q)}if(Q=!0,I)for(var ne=I.length-1;0<=ne;ne--){var ge=v.g=I[ne];Q=Lt(ge,D,!0,v)&&Q}if(ge=v.g=d,Q=Lt(ge,D,!0,v)&&Q,Q=Lt(ge,D,!1,v)&&Q,I)for(ne=0;ne<I.length;ne++)ge=v.g=I[ne],Q=Lt(ge,D,!1,v)&&Q}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var I=d.g[v],D=0;D<I.length;D++)Tt(I[D]);delete d.g[v],d.h--}}this.F=null},$e.prototype.K=function(d,v,I,D){return this.i.add(String(d),v,!1,I,D)},$e.prototype.L=function(d,v,I,D){return this.i.add(String(d),v,!0,I,D)};function Lt(d,v,I,D){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ge=v[ne];if(ge&&!ge.da&&ge.capture==I){var kt=ge.listener,hn=ge.ha||ge.src;ge.fa&&st(d.i,ge),Q=kt.call(hn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function _n(d,v,I){if(typeof d=="function")I&&(d=T(d,I));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function Yn(d){d.g=_n(()=>{d.g=null,d.i&&(d.i=!1,Yn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Xn extends te{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Yn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){te.call(this),this.h=d,this.g={}}k(ze,te);var at=[];function wn(d){G(d.g,function(v,I){this.g.hasOwnProperty(I)&&Wt(v)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),wn(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=u.JSON.stringify,Ri=u.JSON.parse,Jo=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ki(){}ki.prototype.h=null;function li(d){return d.h||(d.h=d.i())}function ts(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){pe.call(this,"d")}k(lr,pe);function Ws(){pe.call(this,"c")}k(Ws,pe);var Tr={},Zo=null;function Ni(){return Zo=Zo||new $e}Tr.La="serverreachability";function Pi(d){pe.call(this,Tr.La,d)}k(Pi,pe);function cr(d){const v=Ni();gt(v,new Pi(v))}Tr.STAT_EVENT="statevent";function ea(d,v){pe.call(this,Tr.STAT_EVENT,d),this.stat=v}k(ea,pe);function qt(d){const v=Ni();gt(v,new ea(v,d))}Tr.Ma="timingevent";function B(d,v){pe.call(this,Tr.Ma,d),this.size=v}k(B,pe);function K(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function J(){this.g=!0}J.prototype.xa=function(){this.g=!1};function ie(d,v,I,D,Q,ne){d.info(function(){if(d.g)if(ne)for(var ge="",kt=ne.split("&"),hn=0;hn<kt.length;hn++){var _t=kt[hn].split("=");if(1<_t.length){var En=_t[0];_t=_t[1];var on=En.split("_");ge=2<=on.length&&on[1]=="type"?ge+(En+"="+_t+"&"):ge+(En+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+v+`
`+I+`
`+ge})}function _e(d,v,I,D,Q,ne,ge){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+v+`
`+I+`
`+ne+" "+ge})}function Pe(d,v,I,D){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+De(d,I)+(D?" "+D:"")})}function Qe(d,v){d.info(function(){return"TIMEOUT: "+v})}J.prototype.info=function(){};function De(d,v){if(!d.g)return v;if(!v)return null;try{var I=JSON.parse(v);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var D=I[d];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return ar(I)}catch{return v}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function et(){}k(et,ki),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},xe=new et;function Ze(d,v,I,D){this.j=d,this.i=v,this.l=I,this.R=D||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xt}function Xt(){this.i=null,this.g="",this.h=!1}var It={},ct={};function Rt(d,v,I){d.L=1,d.v=Ys(Cr(v)),d.m=I,d.P=!0,jr(d,null)}function jr(d,v){d.F=Date.now(),dt(d),d.A=Cr(d.v);var I=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),Js(I.i,"t",D),d.C=0,I=d.j.J,d.h=new Xt,d.g=Yd(d.j,I?v:null,!d.m),0<d.O&&(d.M=new Xn(T(d.Y,d,d.g),d.O)),v=d.U,I=d.g,D=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(at[0]=Q.toString()),Q=at);for(var ne=0;ne<Q.length;ne++){var ge=zt(I,Q[ne],D||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=d.H?b(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),cr(),ie(d.i,d.u,d.A,d.l,d.R,d.m)}Ze.prototype.ca=function(d){d=d.target;const v=this.M;v&&dr(d)==3?v.j():this.Y(d)},Ze.prototype.Y=function(d){try{if(d==this.g)e:{const on=dr(this.g);var v=this.g.Ba();const zr=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Kc(this.g)))){this.J||on!=4||v==7||(v==8||0>=zr?cr(3):cr(2)),Sr(this);var I=this.g.Z();this.X=I;t:if(Di(this)){var D=Kc(this.g);d="";var Q=D.length,ne=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),Un(this);var ge="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,d+=this.h.i.decode(D[v],{stream:!(ne&&v==Q-1)});D.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=I==200,_e(this.i,this.u,this.A,this.l,this.R,on,I),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,hn=this.g;if((kt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(kt)){var _t=kt;break t}}_t=null}if(I=_t)Pe(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xi(this,I);else{this.o=!1,this.s=3,qt(12),An(this),Un(this);break e}}if(this.P){I=!0;let Ar;for(;!this.J&&this.C<ge.length;)if(Ar=Ir(this,ge),Ar==ct){on==4&&(this.s=4,qt(14),I=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==It){this.s=4,qt(15),Pe(this.i,this.l,ge,"[Invalid Chunk]"),I=!1;break}else Pe(this.i,this.l,Ar,null),xi(this,Ar);if(Di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ge.length!=0||this.h.h||(this.s=1,qt(16),I=!1),this.o=this.o&&I,!I)Pe(this.i,this.l,ge,"[Invalid Chunked Response]"),An(this),Un(this);else if(0<ge.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Qc(En),En.M=!0,qt(11))}}else Pe(this.i,this.l,ge,null),xi(this,ge);on==4&&An(this),this.o&&!this.J&&(on==4?fl(this.j,this):(this.o=!1,dt(this)))}else al(this.g),I==400&&0<ge.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),An(this),Un(this)}}}catch{}finally{}};function Di(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ir(d,v){var I=d.C,D=v.indexOf(`
`,I);return D==-1?ct:(I=Number(v.substring(I,D)),isNaN(I)?It:(D+=1,D+I>v.length?ct:(v=v.slice(D,D+I),d.C=D+I,v)))}Ze.prototype.cancel=function(){this.J=!0,An(this)};function dt(d){d.S=Date.now()+d.I,qs(d,d.I)}function qs(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=K(T(d.ba,d),v)}function Sr(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Ze.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(cr(),qt(17)),An(this),this.s=2,Un(this)):qs(this,this.S-d)};function Un(d){d.j.G==0||d.J||fl(d.j,d)}function An(d){Sr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,wn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function xi(d,v){try{var I=d.j;if(I.G!=0&&(I.g==d||ht(I.h,d))){if(!d.K&&ht(I.h,d)&&I.G==3){try{var D=I.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)dl(I),hi(I);else break e;ul(I),qt(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=K(T(I.Za,I),6e3));if(1>=Oi(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else os(I,11)}else if((d.K||I.g==d)&&dl(I),!M(v))for(Q=I.Da.g.parse(v),v=0;v<Q.length;v++){let _t=Q[v];if(I.T=_t[0],_t=_t[1],I.G==2)if(_t[0]=="c"){I.K=_t[1],I.ia=_t[2];const En=_t[3];En!=null&&(I.la=En,I.j.info("VER="+I.la));const on=_t[4];on!=null&&(I.Aa=on,I.j.info("SVER="+I.Aa));const zr=_t[5];zr!=null&&typeof zr=="number"&&0<zr&&(D=1.5*zr,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const Ar=d.g;if(Ar){const aa=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var ne=D.h;ne.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Br(ne,ne.h),ne.h=null))}if(D.D){const pl=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(D.ya=pl,Dt(D.I,D.D,pl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var ge=d;if(D.qa=Qd(D,D.J?D.ia:null,D.W),ge.K){ta(D.h,ge);var kt=ge,hn=D.L;hn&&(kt.I=hn),kt.B&&(Sr(kt),dt(kt)),D.g=ge}else oa(D);0<I.i.length&&Ui(I)}else _t[0]!="stop"&&_t[0]!="close"||os(I,7);else I.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?os(I,7):kn(I):_t[0]!="noop"&&I.l&&I.l.ta(_t),I.v=0)}}cr(4)}catch{}}var ft=class{constructor(d,v){this.g=d,this.map=v}};function bt(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function ht(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Br(d,v){d.g?d.g.add(v):d.h=v}function ta(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}bt.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function tl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const I of d.g.values())v=v.concat(I.D);return v}return N(d.i)}function nl(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],I=d.length,D=0;D<I;D++)v.push(d[D]);return v}v=[],I=0;for(D in d)v[I++]=d[D];return v}function rl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var I=0;I<d;I++)v.push(I);return v}v=[],I=0;for(const D in d)v[I++]=D;return v}}}function Ks(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var I=rl(d),D=nl(d),Q=D.length,ne=0;ne<Q;ne++)v.call(void 0,D[ne],I&&I[ne],d)}var na=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function em(d,v){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var D=d[I].indexOf("="),Q=null;if(0<=D){var ne=d[I].substring(0,D);Q=d[I].substring(D+1)}else ne=d[I];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ns(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ns){this.h=d.h,ra(this,d.j),this.o=d.o,this.g=d.g,Gs(this,d.s),this.l=d.l;var v=d.i,I=new Li;I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),Qs(this,I),this.m=d.m}else d&&(v=String(d).match(na))?(this.h=!1,ra(this,v[1]||"",!0),this.o=yt(v[2]||""),this.g=yt(v[3]||"",!0),Gs(this,v[4]),this.l=yt(v[5]||"",!0),Qs(this,v[6]||"",!0),this.m=yt(v[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}ns.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Xs(v,il,!0),":");var I=this.g;return(I||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Xs(v,il,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Xs(I,I.charAt(0)=="/"?jd:Fd,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Xs(I,zc)),d.join("")};function Cr(d){return new ns(d)}function ra(d,v,I){d.j=I?yt(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Gs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Qs(d,v,I){v instanceof Li?(d.i=v,Mi(d.i,d.h)):(I||(v=Xs(v,Bd)),d.i=new Li(v,d.h))}function Dt(d,v,I){d.i.set(v,I)}function Ys(d){return Dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function yt(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xs(d,v,I){return typeof d=="string"?(d=encodeURI(d).replace(v,$d),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function $d(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var il=/[#\/\?@]/g,Fd=/[#\?:]/g,jd=/[#\?]/g,Bd=/[#\?@]/g,zc=/#/g;function Li(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Rn(d){d.g||(d.g=new Map,d.h=0,d.i&&em(d.i,function(v,I){d.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}n=Li.prototype,n.add=function(d,v){Rn(this),this.i=null,d=Hr(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(v),this.h+=1,this};function ci(d,v){Rn(d),v=Hr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ui(d,v){return Rn(d),v=Hr(d,v),d.g.has(v)}n.forEach=function(d,v){Rn(this),this.g.forEach(function(I,D){I.forEach(function(Q){d.call(v,Q,D,this)},this)},this)},n.na=function(){Rn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),I=[];for(let D=0;D<v.length;D++){const Q=d[D];for(let ne=0;ne<Q.length;ne++)I.push(v[D])}return I},n.V=function(d){Rn(this);let v=[];if(typeof d=="string")ui(this,d)&&(v=v.concat(this.g.get(Hr(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)v=v.concat(d[I])}return v},n.set=function(d,v){return Rn(this),this.i=null,d=Hr(this,d),ui(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Js(d,v,I){ci(d,v),0<I.length&&(d.i=null,d.g.set(Hr(d,v),N(I)),d.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var I=0;I<v.length;I++){var D=v[I];const ne=encodeURIComponent(String(D)),ge=this.V(D);for(D=0;D<ge.length;D++){var Q=ne;ge[D]!==""&&(Q+="="+encodeURIComponent(String(ge[D]))),d.push(Q)}}return this.i=d.join("&")};function Hr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Mi(d,v){v&&!d.j&&(Rn(d),d.i=null,d.g.forEach(function(I,D){var Q=D.toLowerCase();D!=Q&&(ci(this,D),Js(this,Q,I))},d)),d.j=v}function tm(d,v){const I=new J;if(u.Image){const D=new Image;D.onload=S(ur,I,"TestLoadImage: loaded",!0,v,D),D.onerror=S(ur,I,"TestLoadImage: error",!1,v,D),D.onabort=S(ur,I,"TestLoadImage: abort",!1,v,D),D.ontimeout=S(ur,I,"TestLoadImage: timeout",!1,v,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else v(!1)}function Hd(d,v){const I=new J,D=new AbortController,Q=setTimeout(()=>{D.abort(),ur(I,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?ur(I,"TestPingServer: ok",!0,v):ur(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),ur(I,"TestPingServer: error",!1,v)})}function ur(d,v,I,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(I)}catch{}}function nm(){this.g=new Jo}function zd(d,v,I){const D=I||"";try{Ks(d,function(Q,ne){let ge=Q;p(Q)&&(ge=ar(Q)),v.push(D+ne+"="+encodeURIComponent(ge))})}catch(Q){throw v.push(D+"type="+encodeURIComponent("_badmap")),Q}}function rs(d){this.l=d.Ub||null,this.j=d.eb||!1}k(rs,ki),rs.prototype.g=function(){return new ia(this.l,this.j)},rs.prototype.i=function(d){return function(){return d}}({});function ia(d,v){$e.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ia,$e),n=ia.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,fi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wd(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wd(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?di(this):fi(this),this.readyState==3&&Wd(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,di(this))},n.Qa=function(d){this.g&&(this.response=d,di(this))},n.ga=function(){this.g&&di(this)};function di(d){d.readyState=4,d.l=null,d.j=null,d.v=null,fi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=v.next();return d.join(`\r
`)};function fi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function is(d){let v="";return G(d,function(I,D){v+=D,v+=":",v+=I,v+=`\r
`}),v}function Zs(d,v,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=is(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):Dt(d,v,I))}function Ft(d){$e.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ft,$e);var rm=/^https?$/i,Wc=["POST","PUT"];n=Ft.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?li(this.o):li(xe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ne){sa(this,ne);return}if(d=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)I.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())I.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wc,v,void 0))||D||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of I)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ol(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){sa(this,ne)}};function sa(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,sl(d),br(d)}function sl(d){d.A||(d.A=!0,gt(d,"complete"),gt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,gt(this,"complete"),gt(this,"abort"),br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qc(this):this.bb())},n.bb=function(){qc(this)};function qc(d){if(d.h&&typeof l<"u"&&(!d.v[1]||dr(d)!=4||d.Z()!=2)){if(d.u&&dr(d)==4)_n(d.Ea,0,d);else if(gt(d,"readystatechange"),dr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var D;if(D=ge===0){var Q=String(d.D).match(na)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),D=!rm.test(Q?Q.toLowerCase():"")}I=D}if(I)gt(d,"complete"),gt(d,"success");else{d.m=6;try{var ne=2<dr(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",sl(d)}}finally{br(d)}}}}function br(d,v){if(d.g){ol(d);const I=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||gt(d,"ready");try{I.onreadystatechange=D}catch{}}}function ol(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function dr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ri(v)}};function Kc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function al(d){const v={};d=(d.g&&2<=dr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(M(d[D]))continue;var I=U(d[D]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(I)}C(v,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(d,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||v}function Gc(d){this.Aa=0,this.i=[],this.j=new J,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,d),this.cb=Vi("retryDelaySeedMs",1e4,d),this.Wa=Vi("forwardChannelMaxRetries",2,d),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bt(d&&d.concurrentRequestLimit),this.Da=new nm,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gc.prototype,n.la=8,n.G=1,n.connect=function(d,v,I,D){qt(0),this.W=d,this.H=v||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=Qd(this,null,this.W),Ui(this)};function kn(d){if(ll(d),d.G==3){var v=d.U++,I=Cr(d.I);if(Dt(I,"SID",d.K),Dt(I,"RID",v),Dt(I,"TYPE","terminate"),ss(d,I),v=new Ze(d,d.j,v),v.L=2,v.v=Ys(Cr(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=v.v,I=!0),I||(v.g=Yd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),dt(v)}Gd(d)}function hi(d){d.g&&(Qc(d),d.g.cancel(),d.g=null)}function ll(d){hi(d),d.u&&(u.clearTimeout(d.u),d.u=null),dl(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Ui(d){if(!sn(d.h)&&!d.s){d.s=!0;var v=d.Ga;Se||ce(),re||(Se(),re=!0),me.add(v,d),d.B=0}}function im(d,v){return Oi(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=K(T(d.Ga,d,v),Kd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Ze(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=b(ne),L(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=eo(this,Q,v),I=Cr(this.I),Dt(I,"RID",d),Dt(I,"CVER",22),this.D&&Dt(I,"X-HTTP-Session-Id",this.D),ss(this,I),ne&&(this.O?v="headers="+encodeURIComponent(String(is(ne)))+"&"+v:this.m&&Zs(I,this.m,ne)),Br(this.h,Q),this.Ua&&Dt(I,"TYPE","init"),this.P?(Dt(I,"$req",v),Dt(I,"SID","null"),Q.T=!0,Rt(Q,I,null)):Rt(Q,I,v),this.G=2}}else this.G==3&&(d?cl(this,d):this.i.length==0||sn(this.h)||cl(this))};function cl(d,v){var I;v?I=v.l:I=d.U++;const D=Cr(d.I);Dt(D,"SID",d.K),Dt(D,"RID",I),Dt(D,"AID",d.T),ss(d,D),d.m&&d.o&&Zs(D,d.m,d.o),I=new Ze(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),v&&(d.i=v.D.concat(d.i)),v=eo(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Br(d.h,I),Rt(I,D,v)}function ss(d,v){d.H&&G(d.H,function(I,D){Dt(v,D,I)}),d.l&&Ks({},function(I,D){Dt(v,D,I)})}function eo(d,v,I){I=Math.min(d.i.length,I);var D=d.l?T(d.l.Na,d.l,d):null;e:{var Q=d.i;let ne=-1;for(;;){const ge=["count="+I];ne==-1?0<I?(ne=Q[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let kt=!0;for(let hn=0;hn<I;hn++){let _t=Q[hn].g;const En=Q[hn].map;if(_t-=ne,0>_t)ne=Math.max(0,Q[hn].g-100),kt=!1;else try{zd(En,ge,"req"+_t+"_")}catch{D&&D(En)}}if(kt){D=ge.join("&");break e}}}return d=d.i.splice(0,I),v.D=d,D}function oa(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Se||ce(),re||(Se(),re=!0),me.add(v,d),d.v=0}}function ul(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=K(T(d.Fa,d),Kd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=K(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),hi(this),qd(this))};function Qc(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function qd(d){d.g=new Ze(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Cr(d.qa);Dt(v,"RID","rpc"),Dt(v,"SID",d.K),Dt(v,"AID",d.T),Dt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Dt(v,"TO",d.ja),Dt(v,"TYPE","xmlhttp"),ss(d,v),d.m&&d.o&&Zs(v,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=Ys(Cr(v)),I.m=null,I.P=!0,jr(I,d)}n.Za=function(){this.C!=null&&(this.C=null,hi(this),ul(this),qt(19))};function dl(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function fl(d,v){var I=null;if(d.g==v){dl(d),Qc(d),d.g=null;var D=2}else if(ht(d.h,v))I=v.D,ta(d.h,v),D=1;else return;if(d.G!=0){if(v.o)if(D==1){I=v.m?v.m.length:0,v=Date.now()-v.F;var Q=d.B;D=Ni(),gt(D,new B(D,I)),Ui(d)}else oa(d);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(D==1&&im(d,v)||D==2&&ul(d)))switch(I&&0<I.length&&(v=d.h,v.i=v.i.concat(I)),Q){case 1:os(d,5);break;case 4:os(d,10);break;case 3:os(d,6);break;default:os(d,2)}}}function Kd(d,v){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*v}function os(d,v){if(d.j.info("Error code "+v),v==2){var I=T(d.fb,d),D=d.Xa;const Q=!D;D=new ns(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ra(D,"https"),Ys(D),Q?tm(D.toString(),I):Hd(D.toString(),I)}else qt(2);d.G=0,d.l&&d.l.sa(v),Gd(d),ll(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Gd(d){if(d.G=0,d.ka=[],d.l){const v=tl(d.h);(v.length!=0||d.i.length!=0)&&(R(d.ka,v),R(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function Qd(d,v,I){var D=I instanceof ns?Cr(I):new ns(I);if(D.g!="")v&&(D.g=v+"."+D.g),Gs(D,D.s);else{var Q=u.location;D=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new ns(null);D&&ra(ne,D),v&&(ne.g=v),Q&&Gs(ne,Q),I&&(ne.l=I),D=ne}return I=d.D,v=d.ya,I&&v&&Dt(D,I,v),Dt(D,"VER",d.la),ss(d,D),D}function Yd(d,v,I){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Ft(new rs({eb:I})):new Ft(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}n=Yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function hl(){}hl.prototype.g=function(d,v){return new Jn(d,v)};function Jn(d,v){$e.call(this),this.g=new Gc(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!M(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new $i(this)}k(Jn,$e),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){kn(this.g)},Jn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=ar(d),d=I);v.i.push(new ft(v.Ya++,d)),v.G==3&&Ui(v)},Jn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,Jn.aa.N.call(this)};function Xd(d){lr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const I in v){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}k(Xd,lr);function Jd(){Ws.call(this),this.status=1}k(Jd,Ws);function $i(d){this.g=d}k($i,Yc),$i.prototype.ua=function(){gt(this.g,"a")},$i.prototype.ta=function(d){gt(this.g,new Xd(d))},$i.prototype.sa=function(d){gt(this.g,new Jd)},$i.prototype.ra=function(){gt(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,BR=function(){return new hl},jR=function(){return Ni()},FR=Tr,Yy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,_h=Re,Ce.COMPLETE="complete",$R=Ce,ts.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Mu=ts,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,UR=Ft}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const xI="@firebase/firestore",OI="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new __("@firebase/firestore");function zl(){return $a.logLevel}function ke(n,...e){if($a.logLevel<=pt.DEBUG){const t=e.map(T_);$a.debug(`Firestore (${Uc}): ${n}`,...t)}}function Ls(n,...e){if($a.logLevel<=pt.ERROR){const t=e.map(T_);$a.error(`Firestore (${Uc}): ${n}`,...t)}}function mc(n,...e){if($a.logLevel<=pt.WARN){const t=e.map(T_);$a.warn(`Firestore (${Uc}): ${n}`,...t)}}function T_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n="Unexpected state"){const e=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: `+n;throw Ls(e),new Error(e)}function At(n,e){n||Xe()}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends zs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zn.UNAUTHENTICATED))}shutdown(){}}class jF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BF{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new As;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new As,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new As)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new HR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new zn(e)}}class HF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new HF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WF{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ti(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new LI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new LI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function vt(n,e){return n<e?-1:n>e?1:0}function gc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=-62135596800,VI=1e6;class gn{static now(){return gn.fromMillis(Date.now())}static fromDate(e){return gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*VI);return new gn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<MI)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VI}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-MI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new gn(0,0))}static max(){return new tt(new gn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="__name__";class zi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(),r===void 0?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=zi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=zi.isNumericId(e),i=zi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?zi.extractNumericId(e).compare(zi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class $t extends zi{construct(e,t,r){return new $t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $t(t)}static emptyPath(){return new $t([])}}const KF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends zi{construct(e,t,r){return new On(e,t,r)}static isValidIdentifier(e){return KF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UI}static keyField(){return new On([UI])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Le(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Le(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Le(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(t)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He($t.fromString(e))}static fromName(e){return new He($t.fromString(e).popFirst(5))}static empty(){return new He($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function GF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new gn(t+1,0):new gn(t,r));return new Vo(i,He.empty(),e)}function QF(n){return new Vo(n.readTime,n.key,nd)}class Vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vo(tt.min(),He.empty(),nd)}static max(){return new Vo(tt.max(),He.empty(),nd)}}function YF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=He.comparator(n.documentKey,e.documentKey),t!==0?t:vt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==XF)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},f=>r(f))}),l=!0,o===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const p=f;t(e[p]).next(m=>{l[p]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new se((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function ZF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-1;function kp(n){return n==null}function Hh(n){return n===0&&1/n==-1/0}function ej(n){return typeof n=="number"&&Number.isInteger(n)&&!Hh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="";function tj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$I(e)),e=nj(n.get(t),e);return $I(e)}function nj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case WR:t+="";break;default:t+=o}}return t}function $I(n){return n+WR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new Qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Dn.RED,this.left=i??Dn.EMPTY,this.right=o??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Dn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jI(this.data.getIterator())}getIteratorFrom(e){return new jI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class jI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Or([])}unionWith(e){let t=new yn(On.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KR("Invalid base64 string: "+o):o}}(e);return new Ln(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(n){if(At(!!n),typeof n=="string"){let e=0;const t=rj.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Ln.fromBase64String(n):Ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="server_timestamp",QR="__type__",YR="__previous_value__",XR="__local_write_time__";function S_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[QR])===null||t===void 0?void 0:t.stringValue)===GR}function Np(n){const e=n.mapValue.fields[YR];return S_(e)?Np(e):e}function rd(n){const e=Uo(n.mapValue.fields[XR].timestampValue);return new gn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t,r,i,o,l,u,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=p}}const zh="(default)";class id{constructor(e,t){this.projectId=e,this.database=t||zh}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="__type__",sj="__max__",lh={mapValue:{}},ZR="__vector__",Wh="value";function Fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?S_(n)?4:aj(n)?9007199254740991:oj(n)?10:11:Xe()}function Ji(n,e){if(n===e)return!0;const t=Fo(n);if(t!==Fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rd(n).isEqual(rd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Uo(i.timestampValue),u=Uo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return $o(i.bytesValue).isEqual($o(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return en(i.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return en(i.integerValue)===en(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=en(i.doubleValue),u=en(o.doubleValue);return l===u?Hh(l)===Hh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return gc(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(FI(l)!==FI(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Ji(l[f],u[f])))return!1;return!0}(n,e);default:return Xe()}}function sd(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function yc(n,e){if(n===e)return 0;const t=Fo(n),r=Fo(e);if(t!==r)return vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return vt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=en(o.integerValue||o.doubleValue),f=en(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return BI(n.timestampValue,e.timestampValue);case 4:return BI(rd(n),rd(e));case 5:return vt(n.stringValue,e.stringValue);case 6:return function(o,l){const u=$o(o),f=$o(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let p=0;p<u.length&&p<f.length;p++){const m=vt(u[p],f[p]);if(m!==0)return m}return vt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=vt(en(o.latitude),en(l.latitude));return u!==0?u:vt(en(o.longitude),en(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return HI(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,f,p,m;const y=o.fields||{},T=l.fields||{},S=(u=y[Wh])===null||u===void 0?void 0:u.arrayValue,k=(f=T[Wh])===null||f===void 0?void 0:f.arrayValue,N=vt(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((m=k==null?void 0:k.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:HI(S,k)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===lh.mapValue&&l===lh.mapValue)return 0;if(o===lh.mapValue)return 1;if(l===lh.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let y=0;y<f.length&&y<m.length;++y){const T=vt(f[y],m[y]);if(T!==0)return T;const S=yc(u[f[y]],p[m[y]]);if(S!==0)return S}return vt(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function BI(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return vt(n,e);const t=Uo(n),r=Uo(e),i=vt(t.seconds,r.seconds);return i!==0?i:vt(t.nanos,r.nanos)}function HI(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=yc(t[i],r[i]);if(o)return o}return vt(t.length,r.length)}function vc(n){return Xy(n)}function Xy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Uo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $o(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return He.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Xy(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Xy(t.fields[l])}`;return i+"}"}(n.mapValue):Xe()}function wh(n){switch(Fo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Np(n);return e?16+wh(e):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+wh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ko(r.fields,(o,l)=>{i+=o.length+wh(l)}),i}(n.mapValue);default:throw Xe()}}function zI(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Jy(n){return!!n&&"integerValue"in n}function C_(n){return!!n&&"arrayValue"in n}function WI(n){return!!n&&"nullValue"in n}function qI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Eh(n){return!!n&&"mapValue"in n}function oj(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JR])===null||t===void 0?void 0:t.stringValue)===ZR}function Hu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=On.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Hu(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ko(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Er(Hu(this.value))}}function ek(n){const e=[];return Ko(n.fields,(t,r)=>{const i=new On([t]);if(Eh(r)){const o=ek(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Wn(e,0,tt.min(),tt.min(),tt.min(),Er.empty(),0)}static newFoundDocument(e,t,r,i){return new Wn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Wn(e,2,t,tt.min(),tt.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new Wn(e,3,t,tt.min(),tt.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this.position=e,this.inclusive=t}}function KI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=He.comparator(He.fromName(l.referenceValue),t.key):r=yc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function GI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{}class un extends tk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uj(e,t,r):t==="array-contains"?new hj(e,r):t==="in"?new pj(e,r):t==="not-in"?new mj(e,r):t==="array-contains-any"?new gj(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new dj(e,r):new fj(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(yc(t,this.value)):t!==null&&Fo(this.value)===Fo(t)&&this.matchesComparison(yc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends tk{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ci(e,t)}matches(e){return nk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nk(n){return n.op==="and"}function rk(n){return cj(n)&&nk(n)}function cj(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function Zy(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+vc(n.value);if(rk(n))return n.filters.map(e=>Zy(e)).join(",");{const e=n.filters.map(t=>Zy(t)).join(",");return`${n.op}(${e})`}}function ik(n,e){return n instanceof un?function(r,i){return i instanceof un&&r.op===i.op&&r.field.isEqual(i.field)&&Ji(r.value,i.value)}(n,e):n instanceof Ci?function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&ik(l,i.filters[u]),!0):!1}(n,e):void Xe()}function sk(n){return n instanceof un?function(t){return`${t.field.canonicalString()} ${t.op} ${vc(t.value)}`}(n):n instanceof Ci?function(t){return t.op.toString()+" {"+t.getFilters().map(sk).join(" ,")+"}"}(n):"Filter"}class uj extends un{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class dj extends un{constructor(e,t){super(e,"in",t),this.keys=ok("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fj extends un{constructor(e,t){super(e,"not-in",t),this.keys=ok("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ok(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class hj extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return C_(t)&&sd(t.arrayValue,this.value)}}class pj extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sd(this.value.arrayValue,t)}}class mj extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!sd(this.value.arrayValue,t)}}class gj extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!C_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function QI(n,e=null,t=[],r=[],i=null,o=null,l=null){return new yj(n,e,t,r,i,o,l)}function b_(n){const e=rt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),e.le=t}return e.le}function A_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ik(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GI(n.startAt,e.startAt)&&GI(n.endAt,e.endAt)}function ev(n){return He.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vj(n,e,t,r,i,o,l,u){return new Rd(n,e,t,r,i,o,l,u)}function Pp(n){return new Rd(n)}function YI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ak(n){return n.collectionGroup!==null}function zu(n){const e=rt(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new yn(On.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Kh(o,r))}),t.has(On.keyField().canonicalString())||e.he.push(new Kh(On.keyField(),r))}return e.he}function Ki(n){const e=rt(n);return e.Pe||(e.Pe=_j(e,zu(n))),e.Pe}function _j(n,e){if(n.limitType==="F")return QI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Kh(i.field,o)});const t=n.endAt?new qh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qh(n.startAt.position,n.startAt.inclusive):null;return QI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tv(n,e){const t=n.filters.concat([e]);return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nv(n,e,t){return new Rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dp(n,e){return A_(Ki(n),Ki(e))&&n.limitType===e.limitType}function lk(n){return`${b_(Ki(n))}|lt:${n.limitType}`}function Wl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>sk(i)).join(", ")}]`),kp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>vc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>vc(i)).join(",")),`Target(${r})`}(Ki(n))}; limitType=${n.limitType})`}function xp(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):He.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of zu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const p=KI(l,u,f);return l.inclusive?p<=0:p<0}(r.startAt,zu(r),i)||r.endAt&&!function(l,u,f){const p=KI(l,u,f);return l.inclusive?p>=0:p>0}(r.endAt,zu(r),i))}(n,e)}function wj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ck(n){return(e,t)=>{let r=!1;for(const i of zu(n)){const o=Ej(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Ej(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,l,u){const f=l.data.field(o),p=u.data.field(o);return f!==null&&p!==null?yc(f,p):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return qR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Qt(He.comparator);function Ms(){return Tj}const uk=new Qt(He.comparator);function Vu(...n){let e=uk;for(const t of n)e=e.insert(t.key,t);return e}function dk(n){let e=uk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ra(){return Wu()}function fk(){return Wu()}function Wu(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ij=new Qt(He.comparator),Sj=new yn(He.comparator);function mt(...n){let e=Sj;for(const t of n)e=e.add(t);return e}const Cj=new yn(vt);function bj(){return Cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function hk(n){return{integerValue:""+n}}function Aj(n,e){return ej(e)?hk(e):R_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this._=void 0}}function Rj(n,e,t){return n instanceof od?function(i,o){const l={fields:{[QR]:{stringValue:GR},[XR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&S_(o)&&(o=Np(o)),o&&(l.fields[YR]=o),{mapValue:l}}(t,e):n instanceof _c?mk(n,e):n instanceof wc?gk(n,e):function(i,o){const l=pk(i,o),u=XI(l)+XI(i.Ie);return Jy(l)&&Jy(i.Ie)?hk(u):R_(i.serializer,u)}(n,e)}function kj(n,e,t){return n instanceof _c?mk(n,e):n instanceof wc?gk(n,e):t}function pk(n,e){return n instanceof Gh?function(r){return Jy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class od extends Op{}class _c extends Op{constructor(e){super(),this.elements=e}}function mk(n,e){const t=yk(e);for(const r of n.elements)t.some(i=>Ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class wc extends Op{constructor(e){super(),this.elements=e}}function gk(n,e){let t=yk(e);for(const r of n.elements)t=t.filter(i=>!Ji(i,r));return{arrayValue:{values:t}}}class Gh extends Op{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function XI(n){return en(n.integerValue||n.doubleValue)}function yk(n){return C_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.field=e,this.transform=t}}function Nj(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof _c&&i instanceof _c||r instanceof wc&&i instanceof wc?gc(r.elements,i.elements,Ji):r instanceof Gh&&i instanceof Gh?Ji(r.Ie,i.Ie):r instanceof od&&i instanceof od}(n.transform,e.transform)}class Pj{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lp{}function vk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new N_(n.key,Si.none()):new kd(n.key,n.data,Si.none());{const t=n.data,r=Er.empty();let i=new yn(On.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Go(n.key,r,new Or(i.toArray()),Si.none())}}function Dj(n,e,t){n instanceof kd?function(i,o,l){const u=i.value.clone(),f=ZI(i.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Go?function(i,o,l){if(!Th(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=ZI(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(_k(i)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function qu(n,e,t,r){return n instanceof kd?function(o,l,u,f){if(!Th(o.precondition,l))return u;const p=o.value.clone(),m=eS(o.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Go?function(o,l,u,f){if(!Th(o.precondition,l))return u;const p=eS(o.fieldTransforms,f,l),m=l.data;return m.setAll(_k(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(o,l,u){return Th(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function xj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=pk(r.transform,i||null);o!=null&&(t===null&&(t=Er.empty()),t.set(r.field,o))}return t||null}function JI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gc(r,i,(o,l)=>Nj(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kd extends Lp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Go extends Lp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _k(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ZI(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,kj(l,u,t[i]))}return r}function eS(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Rj(o,l,e))}return r}class N_ extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oj extends Lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Dj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fk();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const f=vk(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&gc(this.mutations,e.mutations,(t,r)=>JI(t,r))&&gc(this.baseMutations,e.baseMutations,(t,r)=>JI(t,r))}}class P_{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return Ij}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new P_(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,wt;function Uj(n){switch(n){case oe.OK:return Xe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Xe()}}function wk(n){if(n===void 0)return Ls("GRPC error has no .code"),oe.UNKNOWN;switch(n){case ln.OK:return oe.OK;case ln.CANCELLED:return oe.CANCELLED;case ln.UNKNOWN:return oe.UNKNOWN;case ln.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case ln.INTERNAL:return oe.INTERNAL;case ln.UNAVAILABLE:return oe.UNAVAILABLE;case ln.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case ln.NOT_FOUND:return oe.NOT_FOUND;case ln.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case ln.ABORTED:return oe.ABORTED;case ln.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case ln.DATA_LOSS:return oe.DATA_LOSS;default:return Xe()}}(wt=ln||(ln={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Do([4294967295,4294967295],0);function tS(n){const e=$j().encode(n),t=new VR;return t.update(e),new Uint8Array(t.digest())}function nS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Do([t,r],0),new Do([i,o],0)]}class D_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(r<0)throw new Uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Do.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Do.fromNumber(r)));return i.compare(Fj)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=tS(e),[r,i]=nS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new D_(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=tS(e),[r,i]=nS(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mp(tt.min(),i,new Qt(vt),Ms(),mt())}}class Nd{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nd(r,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Ek{constructor(e,t){this.targetId=e,this.ge=t}}class Tk{constructor(e,t,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class rS{constructor(){this.pe=0,this.ye=iS(),this.we=Ln.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=mt(),t=mt(),r=mt();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new Nd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=iS()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ms(),this.$e=ch(),this.Ke=ch(),this.Ue=new Qt(vt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(ev(o))if(r===0){const l=new He(o.path);this.ze(t,l,Wn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),f=u?this.nt(u,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=$o(r).toUint8Array()}catch(f){if(f instanceof KR)return mc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new D_(l,i,o)}catch(f){return mc(f instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&ev(u.target)){const f=new He(u.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Wn.newNoDocument(f,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=mt();this.Ke.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Mp(e,t,this.Ue,this.Qe,r);return this.Qe=Ms(),this.$e=ch(),this.Ke=ch(),this.Ue=new Qt(vt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new rS,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new yn(vt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new yn(vt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new rS),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ch(){return new Qt(He.comparator)}function iS(){return new Qt(He.comparator)}const Bj={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zj={and:"AND",or:"OR"};class Wj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rv(n,e){return n.useProto3Json||kp(e)?e:{value:e}}function Qh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ik(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qj(n,e){return Qh(n,e.toTimestamp())}function Gi(n){return At(!!n),tt.fromTimestamp(function(t){const r=Uo(t);return new gn(r.seconds,r.nanos)}(n))}function x_(n,e){return iv(n,e).canonicalString()}function iv(n,e){const t=function(i){return new $t(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Sk(n){const e=$t.fromString(n);return At(kk(e)),e}function sv(n,e){return x_(n.databaseId,e.path)}function cy(n,e){const t=Sk(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(bk(t))}function Ck(n,e){return x_(n.databaseId,e)}function Kj(n){const e=Sk(n);return e.length===4?$t.emptyPath():bk(e)}function ov(n){return new $t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bk(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function sS(n,e,t){return{name:sv(n,e),fields:t.value.mapValue.fields}}function Gj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(At(m===void 0||typeof m=="string"),Ln.fromBase64String(m||"")):(At(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Ln.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?oe.UNKNOWN:wk(p.code);return new Le(m,p.message||"")}(l);t=new Tk(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cy(n,r.document.name),o=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):tt.min(),u=new Er({mapValue:{fields:r.document.fields}}),f=Wn.newFoundDocument(i,o,l,u),p=r.targetIds||[],m=r.removedTargetIds||[];t=new Ih(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cy(n,r.document),o=r.readTime?Gi(r.readTime):tt.min(),l=Wn.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Ih([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cy(n,r.document),o=r.removedTargetIds||[];t=new Ih([],o,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Vj(i,o),u=r.targetId;t=new Ek(u,l)}}return t}function Qj(n,e){let t;if(e instanceof kd)t={update:sS(n,e.key,e.value)};else if(e instanceof N_)t={delete:sv(n,e.key)};else if(e instanceof Go)t={update:sS(n,e.key,e.data),updateMask:i3(e.fieldMask)};else{if(!(e instanceof Oj))return Xe();t={verify:sv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof od)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _c)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Gh)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Xe()}(n,e.precondition)),t}function Yj(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(i,o){let l=i.updateTime?Gi(i.updateTime):Gi(o);return l.isEqual(tt.min())&&(l=Gi(o)),new Pj(l,i.transformResults||[])}(t,e))):[]}function Xj(n,e){return{documents:[Ck(n,e.path)]}}function Jj(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ck(n,i);const o=function(p){if(p.length!==0)return Rk(Ci.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(T){return{field:ql(T.field),direction:t3(T.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=rv(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function Zj(n){let e=Kj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const T=Ak(y);return T instanceof Ci&&rk(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(T=>function(k){return new Kh(Kl(k.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(T))}(t.orderBy));let u=null;t.limit&&(u=function(y){let T;return T=typeof y=="object"?y.value:y,kp(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(y){const T=!!y.before,S=y.values||[];return new qh(S,T)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const T=!y.before,S=y.values||[];return new qh(S,T)}(t.endAt)),vj(e,i,l,o,u,"F",f,p)}function e3(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ak(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Kl(t.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Kl(t.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Kl(t.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Kl(t.unaryFilter.field);return un.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):n.fieldFilter!==void 0?function(t){return un.create(Kl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ci.create(t.compositeFilter.filters.map(r=>Ak(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(t.compositeFilter.op))}(n):Xe()}function t3(n){return Bj[n]}function n3(n){return Hj[n]}function r3(n){return zj[n]}function ql(n){return{fieldPath:n.canonicalString()}}function Kl(n){return On.fromServerFormat(n.fieldPath)}function Rk(n){return n instanceof un?function(t){if(t.op==="=="){if(qI(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NAN"}};if(WI(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qI(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NAN"}};if(WI(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(t.field),op:n3(t.op),value:t.value}}}(n):n instanceof Ci?function(t){const r=t.getFilters().map(i=>Rk(i));return r.length===1?r[0]:{compositeFilter:{op:r3(t.op),filters:r}}}(n):Xe()}function i3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t,r,i,o=tt.min(),l=tt.min(),u=Ln.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Tt=e}}function o3(n){const e=Zj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.Tn=new l3}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Vo.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class l3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yn($t.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nk=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(Nk,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ec(0)}static Un(){return new Ec(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="LruGarbageCollector",c3=1048576;function lS([n,e],[t,r]){const i=vt(n,t);return i===0?vt(e,r):i}class u3{constructor(e){this.Hn=e,this.buffer=new yn(lS),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(aS,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fc(t)?ke(aS,"Ignoring IndexedDB error during garbage collection: ",t):await $c(t)}await this.er(3e5)})}}class f3{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Rp.ae);const r=new u3(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(oS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oS):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,l,u,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,u=Date.now(),this.removeTargets(e,r,t))).next(y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),zl()<=pt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function h3(n,e){return new f3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qu(r.mutation,i,Or.empty(),gn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mt()){const i=Ra();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Vu();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Ms();const l=Wu(),u=function(){return Wu()}();return t.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Go)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),qu(m.mutation,p,m.mutation.getFieldMask(),gn.now())):l.set(p.key,Or.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return u.set(p,new m3(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Wu();let i=new Qt((l,u)=>l-u),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let m=r.get(f)||Or.empty();m=u.applyToLocalView(p,m),r.set(f,m);const y=(i.get(u.batchId)||mt()).add(f);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),p=f.key,m=f.value,y=fk();m.forEach(T=>{if(!o.has(T)){const S=vk(t.get(T),r.get(T));S!==null&&y.set(T,S),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return He.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ak(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):se.resolve(Ra());let u=nd,f=o;return l.next(p=>se.forEach(p,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{f=f.insert(m,T)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,mt())).next(m=>({batchId:u,changes:dk(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=Vu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Vu();return this.indexManager.getCollectionParents(e,o).next(u=>se.forEach(u,f=>{const p=function(y,T){return new Rd(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((y,T)=>{l=l.insert(y,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,Wn.newInvalidDocument(m)))});let u=Vu();return l.forEach((f,p)=>{const m=o.get(f);m!==void 0&&qu(m.mutation,p,Or.empty(),gn.now()),xp(t,p)&&(u=u.insert(f,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:o3(i.bundledQuery),readTime:Gi(i.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.overlays=new Qt(He.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ra();return se.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=Ra(),o=t.length+1,l=new He(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Qt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Ra(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=Ra(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return se.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Mj(t,r));let o=this.Rr.get(t);o===void 0&&(o=mt(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.Vr=new yn(Cn.mr),this.gr=new yn(Cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Cn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Cn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new He(new $t([])),r=new Cn(t,e),i=new Cn(t,e+1),o=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new He(new $t([])),r=new Cn(t,e),i=new Cn(t,e+1);let o=mt();return this.gr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Cn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return He.comparator(e.key,t.key)||vt(e.Cr,t.Cr)}static pr(e,t){return vt(e.Cr,t.Cr)||He.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new yn(Cn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lj(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new Cn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?I_:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Cn(t,0),i=new Cn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);o.push(u)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(vt);return t.forEach(i=>{const o=new Cn(i,0),l=new Cn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;He.isDocumentKey(o)||(o=o.child(""));const l=new Cn(new He(o),0);let u=new yn(vt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(f.Cr)),!0)},l),se.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,i=>{const o=new Cn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Cn(t,0),i=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.kr=e,this.docs=function(){return new Qt(He.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(t))}getEntries(e,t){let r=Ms();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ms();const l=t.path,u=new He(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||YF(QF(m),r)<=0||(i.has(m.key)||xp(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Xe()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T3(this)}getSize(e){return se.resolve(this.size)}}class T3 extends p3{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.persistence=e,this.Qr=new Qa(t=>b_(t),A_),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new O_,this.targetCount=0,this.Ur=Ec.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),se.waitFor(o).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Rp(0),this.zr=!1,this.zr=!0,this.jr=new _3,this.referenceDelegate=e(this),this.Hr=new I3(this),this.indexManager=new a3,this.remoteDocumentCache=function(i){return new E3(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new s3(t),this.Yr=new y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new v3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new w3(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new S3(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S3 extends JF{constructor(e){super(),this.currentSequenceNumber=e}}class L_{constructor(e){this.persistence=e,this.ti=new O_,this.ni=null}static ri(e){return new L_(e)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const i=He.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Yh{constructor(e,t){this.persistence=e,this.oi=new Qa(r=>tj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=h3(this,t)}static ri(e,t){return new Yh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?se.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,tt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wh(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=mt(),i=mt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new M_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return w4()?8:ZF(Kn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new C3;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(zl()<=pt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(zl()<=pt.DEBUG&&ke("QueryEngine","Query:",Wl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(zl()<=pt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):se.resolve())}rs(e,t){if(YI(t))return se.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nv(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=mt(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,u);return this.ls(t,p,l,f.readTime)?this.rs(e,nv(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return YI(t)||i.isEqual(tt.min())?se.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,i)?se.resolve(null):(zl()<=pt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wl(t)),this.hs(e,l,t,GF(i,nd)).next(u=>u))})}cs(e,t){let r=new yn(ck(e));return t.forEach((i,o)=>{xp(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return zl()<=pt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.ns.getDocumentsMatchingQuery(e,t,Vo.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LocalStore",A3=3e8;class R3{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Qt(vt),this.Is=new Qa(o=>b_(o),A_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g3(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function k3(n,e,t,r){return new R3(n,e,t,r)}async function Dk(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let f=mt();for(const p of i){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:u}))})})}function N3(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,p,m){const y=p.batch,T=y.keys();let S=se.resolve();return T.forEach(k=>{S=S.next(()=>m.getEntry(f,k)).next(N=>{const R=p.docVersions.get(k);At(R!==null),N.version.compareTo(R)<0&&(y.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),m.addEntry(N)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(f,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=mt();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(f=f.add(u.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function xk(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function P3(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const T=i.get(y);if(!T)return;u.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,y)));let S=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Ln.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),i=i.insert(y,S),function(N,R,x){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=A3?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(T,S,m)&&u.push(t.Hr.updateTargetData(o,S))});let f=Ms(),p=mt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(D3(o,l,e.documentUpdates).next(m=>{f=m.Vs,p=m.fs})),!r.isEqual(tt.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return se.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(t.Ts=i,o))}function D3(n,e,t){let r=mt(),i=mt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Ms();return t.forEach((u,f)=>{const p=o.get(u);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):ke(V_,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function x3(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O3(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,se.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ao(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function av(n,e,t){const r=rt(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Fc(l))throw l;ke(V_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function cS(n,e,t){const r=rt(n);let i=tt.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const y=rt(f),T=y.Is.get(m);return T!==void 0?se.resolve(y.Ts.get(T)):y.Hr.getTargetData(p,m)}(r,l,Ki(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?o:mt())).next(u=>(L3(r,wj(e),u),{documents:u,gs:o})))}function L3(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class uS{constructor(){this.activeTargetIds=bj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M3{constructor(){this.ho=new uS,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new uS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="ConnectivityMonitor";class fS{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(dS,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(dS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function lv(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="RestConnection",U3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $3{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===zh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,o){const l=lv(),u=this.bo(e,t.toUriEncodedString());ke(uy,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,o),this.vo(e,u,f,r).then(p=>(ke(uy,`Received RPC '${e}' ${l}: `,p),p),p=>{throw mc(uy,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p})}Co(e,t,r,i,o,l){return this.So(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const r=U3[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class j3 extends $3{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=lv();return new Promise((l,u)=>{const f=new UR;f.setWithCredentials(!0),f.listenOnce($R.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _h.NO_ERROR:const m=f.getResponseJson();ke(Hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case _h.TIMEOUT:ke(Hn,`RPC '${e}' ${o} timed out`),u(new Le(oe.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const y=f.getStatus();if(ke(Hn,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const k=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(x)>=0?x:oe.UNKNOWN}(S.status);u(new Le(k,S.message))}else u(new Le(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Le(oe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{ke(Hn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);ke(Hn,`RPC '${e}' ${o} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=lv(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=BR(),u=jR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=o.join("");ke(Hn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const y=l.createWebChannel(m,f);let T=!1,S=!1;const k=new F3({Fo:R=>{S?ke(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(T||(ke(Hn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),T=!0),ke(Hn,`RPC '${e}' stream ${i} sending:`,R),y.send(R))},Mo:()=>y.close()}),N=(R,x,M)=>{R.listen(x,V=>{try{M(V)}catch(j){setTimeout(()=>{throw j},0)}})};return N(y,Mu.EventType.OPEN,()=>{S||(ke(Hn,`RPC '${e}' stream ${i} transport opened.`),k.Qo())}),N(y,Mu.EventType.CLOSE,()=>{S||(S=!0,ke(Hn,`RPC '${e}' stream ${i} transport closed`),k.Ko())}),N(y,Mu.EventType.ERROR,R=>{S||(S=!0,mc(Hn,`RPC '${e}' stream ${i} transport errored:`,R),k.Ko(new Le(oe.UNAVAILABLE,"The operation could not be completed")))}),N(y,Mu.EventType.MESSAGE,R=>{var x;if(!S){const M=R.data[0];At(!!M);const V=M,j=(V==null?void 0:V.error)||((x=V[0])===null||x===void 0?void 0:x.error);if(j){ke(Hn,`RPC '${e}' stream ${i} received error:`,j);const q=j.status;let G=function(P){const L=ln[P];if(L!==void 0)return wk(L)}(q),C=j.message;G===void 0&&(G=oe.INTERNAL,C="Unknown error status: "+q+" with message "+j.message),S=!0,k.Ko(new Le(G,C)),y.close()}else ke(Hn,`RPC '${e}' stream ${i} received:`,M),k.Uo(M)}}),N(u,FR.STAT_EVENT,R=>{R.stat===Yy.PROXY?ke(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Yy.NOPROXY&&ke(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n){return new Wj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="PersistentStream";class Lk{constructor(e,t,r,i,o,l,u,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Ok(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Ls(t.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Le(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(hS,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(hS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B3 extends Lk{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Gj(this.serializer,e),r=function(o){if(!("targetChange"in o))return tt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?Gi(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=ov(this.serializer),t.addTarget=function(o,l){let u;const f=l.target;if(u=ev(f)?{documents:Xj(o,f)}:{query:Jj(o,f).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Ik(o,l.resumeToken);const p=rv(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){u.readTime=Qh(o,l.snapshotVersion.toTimestamp());const p=rv(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=e3(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=ov(this.serializer),t.removeTarget=e,this.I_(t)}}class H3 extends Lk{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Yj(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=ov(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Qj(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{}class W3 extends z3{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,iv(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(oe.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,iv(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(oe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class q3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ls(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class K3{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{Ya(this)&&(ke(Fa,"Restarting streams for network reachability change."),await async function(f){const p=rt(f);p.W_.add(4),await Pd(p),p.j_.set("Unknown"),p.W_.delete(4),await Up(p)}(this))})}),this.j_=new q3(r,i)}}async function Up(n){if(Ya(n))for(const e of n.G_)await e(!0)}async function Pd(n){for(const e of n.G_)await e(!1)}function Mk(n,e){const t=rt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),j_(t)?F_(t):jc(t).c_()&&$_(t,e))}function U_(n,e){const t=rt(n),r=jc(t);t.U_.delete(e),r.c_()&&Vk(t,e),t.U_.size===0&&(r.c_()?r.P_():Ya(t)&&t.j_.set("Unknown"))}function $_(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jc(n).y_(e)}function Vk(n,e){n.H_.Ne(e),jc(n).w_(e)}function F_(n){n.H_=new jj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),jc(n).start(),n.j_.B_()}function j_(n){return Ya(n)&&!jc(n).u_()&&n.U_.size>0}function Ya(n){return rt(n).W_.size===0}function Uk(n){n.H_=void 0}async function G3(n){n.j_.set("Online")}async function Q3(n){n.U_.forEach((e,t)=>{$_(n,e)})}async function Y3(n,e){Uk(n),j_(n)?(n.j_.q_(e),F_(n)):n.j_.set("Unknown")}async function X3(n,e,t){if(n.j_.set("Online"),e instanceof Tk&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ke(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(n,r)}else if(e instanceof Ih?n.H_.We(e):e instanceof Ek?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await xk(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.U_.get(p);m&&o.U_.set(p,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,p)=>{const m=o.U_.get(f);if(!m)return;o.U_.set(f,m.withResumeToken(Ln.EMPTY_BYTE_STRING,m.snapshotVersion)),Vk(o,f);const y=new Ao(m.target,f,p,m.sequenceNumber);$_(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ke(Fa,"Failed to raise snapshot:",r),await Xh(n,r)}}async function Xh(n,e,t){if(!Fc(e))throw e;n.W_.add(1),await Pd(n),n.j_.set("Offline"),t||(t=()=>xk(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(Fa,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Up(n)})}function $k(n,e){return e().catch(t=>Xh(n,t,e))}async function $p(n){const e=rt(n),t=jo(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:I_;for(;J3(e);)try{const i=await x3(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Z3(e,i)}catch(i){await Xh(e,i)}Fk(e)&&jk(e)}function J3(n){return Ya(n)&&n.K_.length<10}function Z3(n,e){n.K_.push(e);const t=jo(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Fk(n){return Ya(n)&&!jo(n).u_()&&n.K_.length>0}function jk(n){jo(n).start()}async function eB(n){jo(n).C_()}async function tB(n){const e=jo(n);for(const t of n.K_)e.b_(t.mutations)}async function nB(n,e,t){const r=n.K_.shift(),i=P_.from(r,e,t);await $k(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await $p(n)}async function rB(n,e){e&&jo(n).S_&&await async function(r,i){if(function(l){return Uj(l)&&l!==oe.ABORTED}(i.code)){const o=r.K_.shift();jo(r).h_(),await $k(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $p(r)}}(n,e),Fk(n)&&jk(n)}async function pS(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),ke(Fa,"RemoteStore received new credentials");const r=Ya(t);t.W_.add(3),await Pd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Up(t)}async function iB(n,e){const t=rt(n);e?(t.W_.delete(2),await Up(t)):e||(t.W_.add(2),await Pd(t),t.j_.set("Unknown"))}function jc(n){return n.J_||(n.J_=function(t,r,i){const o=rt(t);return o.M_(),new B3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:G3.bind(null,n),No:Q3.bind(null,n),Lo:Y3.bind(null,n),p_:X3.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),j_(n)?F_(n):n.j_.set("Unknown")):(await n.J_.stop(),Uk(n))})),n.J_}function jo(n){return n.Y_||(n.Y_=function(t,r,i){const o=rt(t);return o.M_(),new H3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:eB.bind(null,n),Lo:rB.bind(null,n),D_:tB.bind(null,n),v_:nB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await $p(n)):(await n.Y_.stop(),n.K_.length>0&&(ke(Fa,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new B_(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(n,e){if(Ls("AsyncQueue",`${e}: ${n}`),Fc(n))return new Le(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Vu(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Z_=new Qt(He.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Tc{constructor(e,t,r,i,o,l,u,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Tc(e,t,Xl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class oB{constructor(){this.queries=gS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=rt(t),o=i.queries;i.queries=gS(),o.forEach((l,u)=>{for(const f of u.ta)f.onError(r)})})(this,new Le(oe.ABORTED,"Firestore shutting down"))}}function gS(){return new Qa(n=>lk(n),Dp)}async function z_(n,e){const t=rt(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new sB,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=H_(l,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&q_(t)}async function W_(n,e){const t=rt(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aB(n,e){const t=rt(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&q_(t)}function lB(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function q_(n){n.ia.forEach(e=>{e.next()})}var cv,yS;(yS=cv||(cv={}))._a="default",yS.Cache="cache";class K_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.key=e}}class Hk{constructor(e){this.key=e}}class cB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=mt(),this.mutatedKeys=mt(),this.ya=ck(e),this.wa=new Xl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new mS,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const T=i.get(m),S=xp(this.query,y)?y:null,k=!!T&&this.mutatedKeys.has(T.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let R=!1;T&&S?T.data.isEqual(S.data)?k!==N&&(r.track({type:3,doc:S}),R=!0):this.va(T,S)||(r.track({type:2,doc:S}),R=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(u=!0)):!T&&S?(r.track({type:0,doc:S}),R=!0):T&&!S&&(r.track({type:1,doc:T}),R=!0,(f||p)&&(u=!0)),R&&(S?(l=l.add(S),o=N?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(S,k){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return N(S)-N(k)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Tc(this.query,e.wa,o,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=mt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Hk(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Bk(r))}),t}Oa(e){this.fa=e.gs,this.pa=mt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Tc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const G_="SyncEngine";class uB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dB{constructor(e){this.key=e,this.Ba=!1}}class fB{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Qa(u=>lk(u),Dp),this.qa=new Map,this.Qa=new Set,this.$a=new Qt(He.comparator),this.Ka=new Map,this.Ua=new O_,this.Wa={},this.Ga=new Map,this.za=Ec.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function hB(n,e,t=!0){const r=Qk(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await zk(r,e,t,!0),i}async function pB(n,e){const t=Qk(n);await zk(t,e,!0,!1)}async function zk(n,e,t,r){const i=await O3(n.localStore,Ki(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await mB(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Mk(n.remoteStore,i),u}async function mB(n,e,t,r,i){n.Ha=(y,T,S)=>async function(N,R,x,M){let V=R.view.ba(x);V.ls&&(V=await cS(N.localStore,R.query,!1).then(({documents:C})=>R.view.ba(C,V)));const j=M&&M.targetChanges.get(R.targetId),q=M&&M.targetMismatches.get(R.targetId)!=null,G=R.view.applyChanges(V,N.isPrimaryClient,j,q);return _S(N,R.targetId,G.Ma),G.snapshot}(n,y,T,S);const o=await cS(n.localStore,e,!0),l=new cB(e,o.gs),u=l.ba(o.documents),f=Nd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,f);_S(n,t,p.Ma);const m=new uB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function gB(n,e,t){const r=rt(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(l=>!Dp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await av(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&U_(r.remoteStore,i.targetId),uv(r,i.targetId)}).catch($c)):(uv(r,i.targetId),await av(r.localStore,i.targetId,!0))}async function yB(n,e){const t=rt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),U_(t.remoteStore,r.targetId))}async function vB(n,e,t){const r=CB(n);try{const i=await function(l,u){const f=rt(l),p=gn.now(),m=u.reduce((S,k)=>S.add(k.key),mt());let y,T;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let k=Ms(),N=mt();return f.ds.getEntries(S,m).next(R=>{k=R,k.forEach((x,M)=>{M.isValidDocument()||(N=N.add(x))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,k)).next(R=>{y=R;const x=[];for(const M of u){const V=xj(M,y.get(M.key).overlayedDocument);V!=null&&x.push(new Go(M.key,V,ek(V.value.mapValue),Si.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,x,u)}).next(R=>{T=R;const x=R.applyToLocalDocumentSet(y,N);return f.documentOverlayCache.saveOverlays(S,R.batchId,x)})}).then(()=>({batchId:T.batchId,changes:dk(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new Qt(vt)),p=p.insert(u,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Dd(r,i.changes),await $p(r.remoteStore)}catch(i){const o=H_(i,"Failed to persist write");t.reject(o)}}async function Wk(n,e){const t=rt(n);try{const r=await P3(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ka.get(o);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?At(l.Ba):i.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await Dd(t,r,e)}catch(r){await $c(r)}}function vS(n,e,t){const r=rt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=rt(l);f.onlineState=u;let p=!1;f.queries.forEach((m,y)=>{for(const T of y.ta)T.sa(u)&&(p=!0)}),p&&q_(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _B(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let l=new Qt(He.comparator);l=l.insert(o,Wn.newNoDocument(o,tt.min()));const u=mt().add(o),f=new Mp(tt.min(),new Map,new Qt(vt),l,u);await Wk(r,f),r.$a=r.$a.remove(o),r.Ka.delete(e),Q_(r)}else await av(r.localStore,e,!1).then(()=>uv(r,e,t)).catch($c)}async function wB(n,e){const t=rt(n),r=e.batch.batchId;try{const i=await N3(t.localStore,e);Kk(t,r,null),qk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(t,i)}catch(i){await $c(i)}}async function EB(n,e,t){const r=rt(n);try{const i=await function(l,u){const f=rt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,u).next(y=>(At(y!==null),m=y.keys(),f.mutationQueue.removeMutationBatch(p,y))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);Kk(r,e,t),qk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Dd(r,i)}catch(i){await $c(i)}}function qk(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Kk(n,e,t){const r=rt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function uv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||Gk(n,r)})}function Gk(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(U_(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Q_(n))}function _S(n,e,t){for(const r of t)r instanceof Bk?(n.Ua.addReference(r.key,e),TB(n,r)):r instanceof Hk?(ke(G_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Gk(n,r.key)):Xe()}function TB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(G_,"New document in limbo: "+t),n.Qa.add(r),Q_(n))}function Q_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new He($t.fromString(e)),r=n.za.next();n.Ka.set(r,new dB(t)),n.$a=n.$a.insert(t,r),Mk(n.remoteStore,new Ao(Ki(Pp(t.path)),r,"TargetPurposeLimboResolution",Rp.ae))}}async function Dd(n,e,t){const r=rt(n),i=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,f)=>{l.push(r.Ha(f,e,t).then(p=>{var m;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=M_.Yi(f.targetId,p);o.push(y)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const m=rt(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>se.forEach(p,T=>se.forEach(T.Hi,S=>m.persistence.referenceDelegate.addReference(y,T.targetId,S)).next(()=>se.forEach(T.Ji,S=>m.persistence.referenceDelegate.removeReference(y,T.targetId,S)))))}catch(y){if(!Fc(y))throw y;ke(V_,"Failed to update sequence numbers: "+y)}for(const y of p){const T=y.targetId;if(!y.fromCache){const S=m.Ts.get(T),k=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(k);m.Ts=m.Ts.insert(T,N)}}}(r.localStore,o))}async function IB(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){ke(G_,"User change. New user:",e.toKey());const r=await Dk(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Le(oe.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dd(t,r.Rs)}}function SB(n,e){const t=rt(n),r=t.Ka.get(e);if(r&&r.Ba)return mt().add(r.key);{let i=mt();const o=t.qa.get(e);if(!o)return i;for(const l of o){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function Qk(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_B.bind(null,e),e.La.p_=aB.bind(null,e.eventManager),e.La.Ja=lB.bind(null,e.eventManager),e}function CB(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EB.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return k3(this.persistence,new b3,e.initialUser,this.serializer)}Xa(e){return new Pk(L_.ri,this.serializer)}Za(e){return new M3}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class bB extends Jh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof Yh);const r=this.persistence.referenceDelegate.garbageCollector;return new d3(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new Pk(r=>Yh.ri(r,t),this.serializer)}}class dv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IB.bind(null,this.syncEngine),await iB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oB}()}createDatastore(e){const t=Vp(e.databaseInfo.databaseId),r=function(o){return new j3(o)}(e.databaseInfo);return function(o,l,u,f){return new W3(o,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new K3(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>vS(this.syncEngine,t,0),function(){return fS.D()?new fS:new V3}())}createSyncEngine(e,t){return function(i,o,l,u,f,p,m){const y=new fB(i,o,l,u,f,p);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=rt(i);ke(Fa,"RemoteStore shutting down."),o.W_.add(5),await Pd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dv.provider={build:()=>new dv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class AB{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=zR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ke(Bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ke(Bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=H_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fy(n,e){n.asyncQueue.verifyOperationInProgress(),ke(Bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Dk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RB(n);ke(Bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>pS(e.remoteStore,i)),n._onlineComponents=e}async function RB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(Bo,"Using user provided OfflineComponentProvider");try{await fy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;mc("Error using user provided cache. Falling back to memory cache: "+t),await fy(n,new Jh)}}else ke(Bo,"Using default OfflineComponentProvider"),await fy(n,new bB(void 0));return n._offlineComponents}async function Yk(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(Bo,"Using user provided OnlineComponentProvider"),await wS(n,n._uninitializedComponentsProvider._online)):(ke(Bo,"Using default OnlineComponentProvider"),await wS(n,new dv))),n._onlineComponents}function kB(n){return Yk(n).then(e=>e.syncEngine)}async function Zh(n){const e=await Yk(n),t=e.eventManager;return t.onListen=hB.bind(null,e.syncEngine),t.onUnlisten=gB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yB.bind(null,e.syncEngine),t}function NB(n,e,t={}){const r=new As;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,p){const m=new Y_({next:T=>{m.su(),l.enqueueAndForget(()=>W_(o,y));const S=T.docs.has(u);!S&&T.fromCache?p.reject(new Le(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&f&&f.source==="server"?p.reject(new Le(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),y=new K_(Pp(u.path),m,{includeMetadataChanges:!0,Ta:!0});return z_(o,y)}(await Zh(n),n.asyncQueue,e,t,r)),r.promise}function PB(n,e,t={}){const r=new As;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,p){const m=new Y_({next:T=>{m.su(),l.enqueueAndForget(()=>W_(o,y)),T.fromCache&&f.source==="server"?p.reject(new Le(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),y=new K_(u,m,{includeMetadataChanges:!0,Ta:!0});return z_(o,y)}(await Zh(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(n,e,t){if(!t)throw new Le(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DB(n,e,t,r){if(e===!0&&r===!0)throw new Le(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TS(n){if(!He.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IS(n){if(He.isDocumentKey(n))throw new Le(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe()}function Mr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fp(n);throw new Le(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="firestore.googleapis.com",SS=!0;class CS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zk,this.ssl=SS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:SS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c3)throw new Le(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FF;switch(r.type){case"firstParty":return new zF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ES.get(t);r&&(ke("ComponentProvider","Removing Datastore"),ES.delete(t),r.terminate())}(this),Promise.resolve()}}function xB(n,e,t,r={}){var i;const o=(n=Mr(n,jp))._getSettings(),l=`${e}:${t}`;if(o.host!==Zk&&o.host!==l&&mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=zn.MOCK_USER;else{u=h4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Le(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zn(p)}n._authCredentials=new jF(new HR(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class xo extends Xa{constructor(e,t,r){super(e,t,Pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new He(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function Na(n,e,...t){if(n=bn(n),Jk("collection","path",e),n instanceof jp){const r=$t.fromString(e,...t);return IS(r),new xo(n,null,r)}{if(!(n instanceof qn||n instanceof xo))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($t.fromString(e,...t));return IS(r),new xo(n.firestore,null,r)}}function dn(n,e,...t){if(n=bn(n),arguments.length===1&&(e=zR.newId()),Jk("doc","path",e),n instanceof jp){const r=$t.fromString(e,...t);return TS(r),new qn(n,null,new He(r))}{if(!(n instanceof qn||n instanceof xo))throw new Le(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($t.fromString(e,...t));return TS(r),new qn(n.firestore,n instanceof xo?n.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="AsyncQueue";class AS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Ok(this,"async_queue_retry"),this.Su=()=>{const r=dy();r&&ke(bS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=dy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=dy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new As;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fc(e))throw e;ke(bS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Ls("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=B_.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function RS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ho extends jp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new AS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AS(e),this._firestoreClient=void 0,await e}}}function OB(n,e){const t=typeof n=="object"?n:OR(),r=typeof n=="string"?n:zh,i=E_(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=d4("firestore");o&&xB(i,...o)}return i}function Bp(n){if(n._terminated)throw new Le(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LB(n),n._firestoreClient}function LB(n){var e,t,r;const i=n._freezeSettings(),o=function(u,f,p,m){return new ij(u,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Xk(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AB(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(Ln.fromBase64String(e))}catch(t){throw new Le(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ic(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=/^__.*__$/;class VB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class eN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Go(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class zp{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ep(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(tN(this.Lu)&&MB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vp(e)}ju(e,t,r,i=!1){return new zp({Lu:e,methodName:t,zu:r,path:On.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z_(n){const e=n._freezeSettings(),t=Vp(n._databaseId);return new UB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $B(n,e,t,r,i,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,i);rw("Data must be an object, but it was:",l,r);const u=rN(r,l);let f,p;if(o.merge)f=new Or(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const T=fv(e,y,t);if(!l.contains(T))throw new Le(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);sN(m,T)||m.push(T)}f=new Or(m),p=l.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,p=l.fieldTransforms;return new VB(new Er(u),f,p)}class Wp extends Bc{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wp}}function nN(n,e,t){return new zp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ew extends Bc{_toFieldTransform(e){return new k_(e.path,new od)}isEqual(e){return e instanceof ew}}class tw extends Bc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=nN(this,e,!0),r=this.Hu.map(o=>Ja(o,t)),i=new _c(r);return new k_(e.path,i)}isEqual(e){return e instanceof tw&&hc(this.Hu,e.Hu)}}class nw extends Bc{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=nN(this,e,!0),r=this.Hu.map(o=>Ja(o,t)),i=new wc(r);return new k_(e.path,i)}isEqual(e){return e instanceof nw&&hc(this.Hu,e.Hu)}}function FB(n,e,t,r){const i=n.ju(1,e,t);rw("Data must be an object, but it was:",i,r);const o=[],l=Er.empty();Ko(r,(f,p)=>{const m=iw(e,f,t);p=bn(p);const y=i.Ku(m);if(p instanceof Wp)o.push(m);else{const T=Ja(p,y);T!=null&&(o.push(m),l.set(m,T))}});const u=new Or(o);return new eN(l,u,i.fieldTransforms)}function jB(n,e,t,r,i,o){const l=n.ju(1,e,t),u=[fv(e,r,t)],f=[i];if(o.length%2!=0)throw new Le(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)u.push(fv(e,o[T])),f.push(o[T+1]);const p=[],m=Er.empty();for(let T=u.length-1;T>=0;--T)if(!sN(p,u[T])){const S=u[T];let k=f[T];k=bn(k);const N=l.Ku(S);if(k instanceof Wp)p.push(S);else{const R=Ja(k,N);R!=null&&(p.push(S),m.set(S,R))}}const y=new Or(p);return new eN(m,y,l.fieldTransforms)}function BB(n,e,t,r=!1){return Ja(t,n.ju(r?4:3,e))}function Ja(n,e){if(iN(n=bn(n)))return rw("Unsupported field value:",e,n),rN(n,e);if(n instanceof Bc)return function(r,i){if(!tN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let f=Ja(u,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Aj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=gn.fromDate(r);return{timestampValue:Qh(i.serializer,o)}}if(r instanceof gn){const o=new gn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(i.serializer,o)}}if(r instanceof X_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:Ik(i.serializer,r._byteString)};if(r instanceof qn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof J_)return function(l,u){return{mapValue:{fields:{[JR]:{stringValue:ZR},[Wh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Wu("VectorValues must only contain numeric values.");return R_(u.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Fp(r)}`)}(n,e)}function rN(n,e){const t={};return qR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(n,(r,i)=>{const o=Ja(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function iN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gn||n instanceof X_||n instanceof Ic||n instanceof qn||n instanceof Bc||n instanceof J_)}function rw(n,e,t){if(!iN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Fp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function fv(n,e,t){if((e=bn(e))instanceof Hp)return e._internalPath;if(typeof e=="string")return iw(n,e);throw ep("Field path arguments must be of type string or ",n,!1,void 0,t)}const HB=new RegExp("[~\\*/\\[\\]]");function iw(n,e,t){if(e.search(HB)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hp(...e.split("."))._internalPath}catch{throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ep(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Le(oe.INVALID_ARGUMENT,u+n+f)}function sN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zB extends oN{data(){return super.data()}}function sw(n,e){return typeof e=="string"?iw(n,e):e instanceof Hp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ow{}class WB extends ow{}function qB(n,e,...t){let r=[];e instanceof ow&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof aw).length,u=o.filter(f=>f instanceof qp).length;if(l>1||l>0&&u>0)throw new Le(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class qp extends WB{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new qp(e,t,r)}_apply(e){const t=this._parse(e);return lN(e._query,t),new Xa(e.firestore,e.converter,tv(e._query,t))}_parse(e){const t=Z_(e.firestore);return function(o,l,u,f,p,m,y){let T;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Le(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){NS(y,m);const k=[];for(const N of y)k.push(kS(f,o,N));T={arrayValue:{values:k}}}else T=kS(f,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||NS(y,m),T=BB(u,l,y,m==="in"||m==="not-in");return un.create(p,m,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KB(n,e,t){const r=e,i=sw("where",n);return qp._create(i,r,t)}class aw extends ow{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new aw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const f of u)lN(l,f),l=tv(l,f)}(e._query,t),new Xa(e.firestore,e.converter,tv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kS(n,e,t){if(typeof(t=bn(t))=="string"){if(t==="")throw new Le(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ak(e)&&t.indexOf("/")!==-1)throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($t.fromString(t));if(!He.isDocumentKey(r))throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zI(n,new He(r))}if(t instanceof qn)return zI(n,t._key);throw new Le(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fp(t)}.`)}function NS(n,e){if(!Array.isArray(n)||n.length===0)throw new Le(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lN(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Le(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GB{convertValue(e,t="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ko(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Wh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>en(l.doubleValue));return new J_(o)}convertGeoPoint(e){return new X_(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Np(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const t=Uo(e);return new gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$t.fromString(e);At(kk(r));const i=new id(r.get(1),r.get(3)),o=new He(r.popFirst(5));return i.isEqual(t)||Ls(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cN extends oN{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sh extends cN{data(e={}){return super.data(e)}}class uN{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sh(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new Sh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $u(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new Sh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $u(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:YB(u.type),doc:f,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n){n=Mr(n,qn);const e=Mr(n.firestore,Ho);return NB(Bp(e),n._key).then(t=>fN(e,n,t))}class lw extends GB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function hv(n){n=Mr(n,Xa);const e=Mr(n.firestore,Ho),t=Bp(e),r=new lw(e);return aN(n._query),PB(t,n._query).then(i=>new uN(e,r,n,i))}function ks(n,e,t){n=Mr(n,qn);const r=Mr(n.firestore,Ho),i=QB(n.converter,e);return cw(r,[$B(Z_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Si.none())])}function Wi(n,e,t,...r){n=Mr(n,qn);const i=Mr(n.firestore,Ho),o=Z_(i);let l;return l=typeof(e=bn(e))=="string"||e instanceof Hp?jB(o,"updateDoc",n._key,e,t,r):FB(o,"updateDoc",n._key,e),cw(i,[l.toMutation(n._key,Si.exists(!0))])}function XB(n){return cw(Mr(n.firestore,Ho),[new N_(n._key,Si.none())])}function dN(n,...e){var t,r,i;n=bn(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||RS(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(RS(e[l])){const y=e[l];e[l]=(t=y.next)===null||t===void 0?void 0:t.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let f,p,m;if(n instanceof qn)p=Mr(n.firestore,Ho),m=Pp(n._key.path),f={next:y=>{e[l]&&e[l](fN(p,n,y))},error:e[l+1],complete:e[l+2]};else{const y=Mr(n,Xa);p=Mr(y.firestore,Ho),m=y._query;const T=new lw(p);f={next:S=>{e[l]&&e[l](new uN(p,T,y,S))},error:e[l+1],complete:e[l+2]},aN(n._query)}return function(T,S,k,N){const R=new Y_(N),x=new K_(S,R,k);return T.asyncQueue.enqueueAndForget(async()=>z_(await Zh(T),x)),()=>{R.su(),T.asyncQueue.enqueueAndForget(async()=>W_(await Zh(T),x))}}(Bp(p),m,u,f)}function cw(n,e){return function(r,i){const o=new As;return r.asyncQueue.enqueueAndForget(async()=>vB(await kB(r),i,o)),o.promise}(Bp(n),e)}function fN(n,e,t){const r=t.docs.get(e._key),i=new lw(n);return new cN(n,i,e._key,r,new $u(t.hasPendingWrites,t.fromCache),e.converter)}function uw(){return new ew("serverTimestamp")}function Sc(...n){return new tw("arrayUnion",n)}function hy(...n){return new nw("arrayRemove",n)}(function(e,t=!0){(function(i){Uc=i})(Vc),pc(new Ua("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Ho(new BF(r.getProvider("auth-internal")),new WF(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Po(xI,OI,e),Po(xI,OI,"esm2017")})();function dw(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function hN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JB=hN,pN=new bd("auth","Firebase",hN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new __("@firebase/auth");function ZB(n,...e){tp.logLevel<=pt.WARN&&tp.warn(`Auth (${Vc}): ${n}`,...e)}function Ch(n,...e){tp.logLevel<=pt.ERROR&&tp.error(`Auth (${Vc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,...e){throw fw(n,...e)}function Qi(n,...e){return fw(n,...e)}function mN(n,e,t){const r=Object.assign(Object.assign({},JB()),{[e]:t});return new bd("auth","Firebase",r).create(e,{appName:n.name})}function Ns(n){return mN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fw(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pN.create(n,...e)}function Ye(n,e,...t){if(!n)throw fw(e,...t)}function ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ch(e),new Error(e)}function Vs(n,e){n||ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function e9(){return PS()==="http:"||PS()==="https:"}function PS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e9()||y4()||"connection"in navigator)?navigator.onLine:!0}function n9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vs(t>e,"Short delay should be less than long delay!"),this.isMobile=p4()||v4()}get(){return t9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n,e){Vs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=new xd(3e4,6e4);function Qo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yo(n,e,t,r,i={}){return yN(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Ad(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},o);return g4()||(p.referrerPolicy="no-referrer"),gN.fetch()(vN(n,n.config.apiHost,t,u),p)})}async function yN(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},r9),e);try{const i=new o9(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw dh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,p]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw dh(n,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw mN(n,m,p);bi(n,m)}}catch(i){if(i instanceof zs)throw i;bi(n,"network-request-failed",{message:String(i)})}}async function Od(n,e,t,r,i={}){const o=await Yo(n,e,t,r,i);return"mfaPendingCredential"in o&&bi(n,"multi-factor-auth-required",{_serverResponse:o}),o}function vN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?hw(n.config,i):`${n.config.apiScheme}://${i}`}function s9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),i9.get())})}}function dh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Qi(n,e,r);return i.customData._tokenResponse=t,i}function DS(n){return n!==void 0&&n.enterprise!==void 0}class a9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l9(n,e){return Yo(n,"GET","/v2/recaptchaConfig",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function _N(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u9(n,e=!1){const t=bn(n),r=await t.getIdToken(e),i=pw(r);Ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ku(py(i.auth_time)),issuedAtTime:Ku(py(i.iat)),expirationTime:Ku(py(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function py(n){return Number(n)*1e3}function pw(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=AR(t);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xS(n){const e=pw(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof zs&&d9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function d9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ad(n,_N(t,{idToken:r}));Ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wN(o.providerUserInfo):[],u=p9(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=f?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function h9(n){const e=bn(n);await np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wN(n){return n.map(e=>{var{providerId:t}=e,r=dw(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(n,e){const t=await yN(n,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=vN(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",gN.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function g9(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const t=xS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await m9(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Jl;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ye(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ye(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,e){Ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Es{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=dw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ad(this,this.stsTokenManager.getToken(this.auth,e));return Ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return u9(this,e)}reload(){return h9(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await ad(this,c9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,f,p,m;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,N=(u=t.tenantId)!==null&&u!==void 0?u:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,x=(p=t.createdAt)!==null&&p!==void 0?p:void 0,M=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:j,isAnonymous:q,providerData:G,stsTokenManager:C}=t;Ye(V&&C,e,"internal-error");const b=Jl.fromJSON(this.name,C);Ye(typeof V=="string",e,"internal-error"),yo(y,e.name),yo(T,e.name),Ye(typeof j=="boolean",e,"internal-error"),Ye(typeof q=="boolean",e,"internal-error"),yo(S,e.name),yo(k,e.name),yo(N,e.name),yo(R,e.name),yo(x,e.name),yo(M,e.name);const P=new Es({uid:V,auth:e,email:T,emailVerified:j,displayName:y,isAnonymous:q,photoURL:k,phoneNumber:S,tenantId:N,stsTokenManager:b,createdAt:x,lastLoginAt:M});return G&&Array.isArray(G)&&(P.providerData=G.map(L=>Object.assign({},L))),R&&(P._redirectEventId=R),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Jl;i.updateFromServerResponse(t);const o=new Es({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await np(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?wN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Jl;u.updateFromIdToken(r);const f=new Es({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Map;function Ts(n){Vs(n instanceof Function,"Expected a class definition");let e=OS.get(n);return e?(Vs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,OS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EN.type="NONE";const LS=EN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n,e,t){return`firebase:${n}:${e}:${t}`}class Zl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=bh(this.userKey,i.apiKey,o),this.fullPersistenceKey=bh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zl(Ts(LS),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Ts(LS);const l=bh(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){const y=Es._fromJSON(e,m);p!==o&&(u=y),o=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Zl(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Zl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AN(e))return"Blackberry";if(RN(e))return"Webos";if(IN(e))return"Safari";if((e.includes("chrome/")||SN(e))&&!e.includes("edge/"))return"Chrome";if(bN(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TN(n=Kn()){return/firefox\//i.test(n)}function IN(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SN(n=Kn()){return/crios\//i.test(n)}function CN(n=Kn()){return/iemobile/i.test(n)}function bN(n=Kn()){return/android/i.test(n)}function AN(n=Kn()){return/blackberry/i.test(n)}function RN(n=Kn()){return/webos/i.test(n)}function mw(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y9(n=Kn()){var e;return mw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v9(){return _4()&&document.documentMode===10}function kN(n=Kn()){return mw(n)||bN(n)||RN(n)||AN(n)||/windows phone/i.test(n)||CN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n,e=[]){let t;switch(n){case"Browser":t=MS(Kn());break;case"Worker":t=`${MS(Kn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Qo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=6;class T9{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:E9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VS(this),this.idTokenSubscription=new VS(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ts(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Zl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _N(this,{idToken:e}),r=await Es._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await np(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Ns(this));const t=e?bn(e):null;return t&&Ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w9(this),t=new T9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await g9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ts(e)||this._popupRedirectResolver;Ye(t,this,"argument-error"),this.redirectPersistenceManager=await Zl.create(this,[Ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ZB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Za(n){return bn(n)}class VS{constructor(e){this.auth=e,this.observer=null,this.addObserver=A4(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S9(n){Kp=n}function PN(n){return Kp.loadJS(n)}function C9(){return Kp.recaptchaEnterpriseScript}function b9(){return Kp.gapiScript}function A9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class R9{constructor(){this.enterprise=new k9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class k9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const N9="recaptcha-enterprise",DN="NO_RECAPTCHA";class P9{constructor(e){this.type=N9,this.auth=Za(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{l9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new a9(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(f=>{u(f)})})}function i(o,l,u){const f=window.grecaptcha;DS(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(DN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R9().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&DS(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=C9();f.length!==0&&(f+=u),PN(f).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function US(n,e,t,r=!1,i=!1){const o=new P9(n);let l;if(i)l=DN;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function gv(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await US(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await US(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e){const t=E_(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(hc(o,e??{}))return i;bi(i,"already-initialized")}return t.initialize({options:e})}function x9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ts);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O9(n,e,t){const r=Za(n);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=xN(e),{host:l,port:u}=L9(e),f=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),M9()}function xN(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function L9(n){const e=xN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:$S(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:$S(l)}}}function $S(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function M9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ws("not implemented")}_getIdTokenResponse(e){return ws("not implemented")}_linkToIdToken(e,t){return ws("not implemented")}_getReauthenticationResolver(e){return ws("not implemented")}}async function V9(n,e){return Yo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(n,e){return Od(n,"POST","/v1/accounts:signInWithPassword",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(n,e){return Od(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))}async function F9(n,e){return Od(n,"POST","/v1/accounts:signInWithEmailLink",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends gw{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ld(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ld(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(e,t,"signInWithPassword",U9);case"emailLink":return $9(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gv(e,r,"signUpPassword",V9);case"emailLink":return F9(e,{idToken:t,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n,e){return Od(n,"POST","/v1/accounts:signInWithIdp",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="http://localhost";class ja extends gw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=dw(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ja(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ec(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ec(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ec(e,t)}buildRequest(){const e={requestUri:j9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ad(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H9(n){const e=Ou(Lu(n)).link,t=e?Ou(Lu(e)).deep_link_id:null,r=Ou(Lu(n)).deep_link_id;return(r?Ou(Lu(r)).link:null)||r||t||e||n}class yw{constructor(e){var t,r,i,o,l,u;const f=Ou(Lu(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,y=B9((i=f.mode)!==null&&i!==void 0?i:null);Ye(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=H9(e);try{return new yw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.providerId=Hc.PROVIDER_ID}static credential(e,t){return ld._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=yw.parseLink(t);return Ye(r,"argument-error"),ld._fromEmailAndCode(e,r.code,r.tenantId)}}Hc.PROVIDER_ID="password";Hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends ON{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Ld{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ja._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Eo.credential(t,r)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Ld{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Ld{constructor(){super("twitter.com")}static credential(e,t){return ja._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Io.credential(t,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(n,e){return Od(n,"POST","/v1/accounts:signUp",Qo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Es._fromIdTokenResponse(e,r,i),l=FS(r);return new Ba({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=FS(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function FS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends zs{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new rp(e,t,r,i)}}function LN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(n,o,e,r):o})}async function W9(n,e,t=!1){const r=await ad(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ba._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(n,e,t=!1){const{auth:r}=n;if(ti(r.app))return Promise.reject(Ns(r));const i="reauthenticate";try{const o=await ad(n,LN(r,i,e,n),t);Ye(o.idToken,r,"internal-error");const l=pw(o.idToken);Ye(l,r,"internal-error");const{sub:u}=l;return Ye(n.uid===u,r,"user-mismatch"),Ba._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(n,e,t=!1){if(ti(n.app))return Promise.reject(Ns(n));const r="signIn",i=await LN(n,r,e),o=await Ba._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function K9(n,e){return MN(Za(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n){const e=Za(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G9(n,e,t){if(ti(n.app))return Promise.reject(Ns(n));const r=Za(n),l=await gv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z9).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&VN(n),f}),u=await Ba._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function Q9(n,e,t){return ti(n.app)?Promise.reject(Ns(n)):K9(bn(n),Hc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VN(n),r})}function Y9(n,e,t,r){return bn(n).onIdTokenChanged(e,t,r)}function X9(n,e,t){return bn(n).beforeAuthStateChanged(e,t)}function vw(n,e,t,r){return bn(n).onAuthStateChanged(e,t,r)}const ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1e3,Z9=10;class $N extends UN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);v9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},J9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$N.type="LOCAL";const e5=$N;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN extends UN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FN.type="SESSION";const jN=FN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),f=await t5(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const p=_w("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const T=y;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(T.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function r5(n){Yi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function i5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function o5(){return BN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebaseLocalStorageDb",a5=1,sp="firebaseLocalStorage",zN="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qp(n,e){return n.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function l5(){const n=indexedDB.deleteDatabase(HN);return new Md(n).toPromise()}function yv(){const n=indexedDB.open(HN,a5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sp,{keyPath:zN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sp)?e(r):(r.close(),await l5(),e(await yv()))})})}async function jS(n,e,t){const r=Qp(n,!0).put({[zN]:e,value:t});return new Md(r).toPromise()}async function c5(n,e){const t=Qp(n,!1).get(e),r=await new Md(t).toPromise();return r===void 0?null:r.value}function BS(n,e){const t=Qp(n,!0).delete(e);return new Md(t).toPromise()}const u5=800,d5=3;class WN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>d5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(o5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await i5(),!this.activeServiceWorker)return;this.sender=new n5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await jS(e,ip,"1"),await BS(e,ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>c5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Qp(i,!1).getAll();return new Md(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WN.type="LOCAL";const f5=WN;new xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(n,e){return e?Ts(e):(Ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends gw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function p5(n){return MN(n.auth,new ww(n),n.bypassAuthState)}function m5(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),q9(t,new ww(n),n.bypassAuthState)}async function g5(n){const{auth:e,user:t}=n;return Ye(t,e,"internal-error"),W9(t,new ww(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p5;case"linkViaPopup":case"linkViaRedirect":return g5;case"reauthViaPopup":case"reauthViaRedirect":return m5;default:bi(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new xd(2e3,1e4);class Ql extends qN{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=_w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y5.get())};e()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="pendingRedirect",Ah=new Map;class _5 extends qN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await w5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w5(n,e){const t=I5(e),r=T5(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function E5(n,e){Ah.set(n._key(),e)}function T5(n){return Ts(n._redirectPersistence)}function I5(n){return bh(v5,n.config.apiKey,n.name)}async function S5(n,e,t=!1){if(ti(n.app))return Promise.reject(Ns(n));const r=Za(n),i=h5(r,e),l=await new _5(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=10*60*1e3;class b5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!KN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C5&&this.cachedEventUids.clear(),this.cachedEventUids.has(HS(e))}saveEventToCache(e){this.cachedEventUids.add(HS(e)),this.lastProcessedEventTime=Date.now()}}function HS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(n,e={}){return Yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N5=/^https?/;async function P5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await R5(n);for(const t of e)try{if(D5(t))return}catch{}bi(n,"unauthorized-domain")}function D5(n){const e=pv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!N5.test(t))return!1;if(k5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new xd(3e4,6e4);function zS(){const n=Yi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function O5(n){return new Promise((e,t)=>{var r,i,o;function l(){zS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zS(),t(Qi(n,"network-request-failed"))},timeout:x5.get()})}if(!((i=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yi().gapi)===null||o===void 0)&&o.load)l();else{const u=A9("iframefcb");return Yi()[u]=()=>{gapi.load?l():t(Qi(n,"network-request-failed"))},PN(`${b9()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function L5(n){return Rh=Rh||O5(n),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=new xd(5e3,15e3),V5="__/auth/iframe",U5="emulator/auth/iframe",$5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j5(n){const e=n.config;Ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hw(e,U5):`https://${n.config.authDomain}/${V5}`,r={apiKey:e.apiKey,appName:n.name,v:Vc},i=F5.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ad(r).slice(1)}`}async function B5(n){const e=await L5(n),t=Yi().gapi;return Ye(t,n,"internal-error"),e.open({where:document.body,url:j5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Qi(n,"network-request-failed"),u=Yi().setTimeout(()=>{o(l)},M5.get());function f(){Yi().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z5=500,W5=600,q5="_blank",K5="http://localhost";class WS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G5(n,e,t,r=z5,i=W5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f=Object.assign(Object.assign({},H5),{width:r.toString(),height:i.toString(),top:o,left:l}),p=Kn().toLowerCase();t&&(u=SN(p)?q5:t),TN(p)&&(e=e||K5,f.scrollbars="yes");const m=Object.entries(f).reduce((T,[S,k])=>`${T}${S}=${k},`,"");if(y9(p)&&u!=="_self")return Q5(e||"",u),new WS(null);const y=window.open(e||"",u,m);Ye(y,n,"popup-blocked");try{y.focus()}catch{}return new WS(y)}function Q5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="__/auth/handler",X5="emulator/auth/handler",J5=encodeURIComponent("fac");async function qS(n,e,t,r,i,o){Ye(n.config.authDomain,n,"auth-domain-config-required"),Ye(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vc,eventId:i};if(e instanceof ON){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",b4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Ld){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),p=f?`#${J5}=${encodeURIComponent(f)}`:"";return`${Z5(n)}?${Ad(u).slice(1)}${p}`}function Z5({config:n}){return n.emulator?hw(n,X5):`https://${n.authDomain}/${Y5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="webStorageSupport";class e6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jN,this._completeRedirectFn=S5,this._overrideRedirectResult=E5}async _openPopup(e,t,r,i){var o;Vs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await qS(e,t,r,pv(),i);return G5(e,l,_w())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await qS(e,t,r,pv(),i);return r5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Vs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await B5(e),r=new b5(e);return t.register("authEvent",i=>(Ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(my,{type:my},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[my];l!==void 0&&t(!!l),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kN()||IN()||mw()}}const t6=e6;var KS="@firebase/auth",GS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function i6(n){pc(new Ua("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ye(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NN(n)},p=new I9(r,i,o,f);return x9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pc(new Ua("auth-internal",e=>{const t=Za(e.getProvider("auth").getImmediate());return(r=>new n6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(KS,GS,r6(n)),Po(KS,GS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=5*60,o6=NR("authIdTokenMaxAge")||s6;let QS=null;const a6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o6)return;const i=t==null?void 0:t.token;QS!==i&&(QS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function l6(n=OR()){const e=E_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=D9(n,{popupRedirectResolver:t6,persistence:[f5,e5,jN]}),r=NR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=a6(o.toString());X9(t,l,()=>l(t.currentUser)),Y9(t,u=>l(u))}}const i=RR("auth");return i&&O9(t,`http://${i}`),t}function c6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}S9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Qi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",c6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});i6("Browser");const u6={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"},GN=xR(u6),Jr=l6(GN),nn=OB(GN);async function d6(n,e){if(!n||!e)return;const t=Na(nn,"chats"),r=Na(nn,"userchats"),i=dn(r,e),o=dn(r,n);try{const[l,u]=await Promise.all([Rs(i),Rs(o)]);l.exists()||await ks(i,{chats:[]}),u.exists()||await ks(o,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=u.exists()?u.data().chats||[]:[],m=f.some(k=>k.receiverId===n),y=p.some(k=>k.receiverId===e);if(m||y)throw new Error("User already added!");const T=dn(t);await ks(T,{createdAt:uw(),messages:[]});const S={chatId:T.id,lastMessage:"",receiverId:n,updatedAt:Date.now()};return await Wi(i,{chats:Sc(S)}),await Wi(o,{chats:Sc({...S,receiverId:e})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}const QN=w.createContext(void 0),f6=({children:n})=>{const e=h6();return E(QN.Provider,{value:e,children:n})};function h6(){const[n,e]=w.useState(),[t,r]=w.useState();return w.useEffect(()=>{(async()=>{try{const o=await f_();if(o){e(o);const{userdb:l}=await Va(o.$id);r(l)}else e(void 0)}catch(o){console.error("Failed to fetch user data:",o)}})()},[]),{userData:n,userdb:t}}function Xo(){const n=w.useContext(QN);if(!n)throw new Error("⚠️ userInfo() is being used outside of UserProvider.");return n}const Yp=({children:n})=>{const{session:e,logOut:t}=Ju(),r=ai(),{userData:i}=Xo();async function o(){await t(),await Jr.signOut(),r("/")}return E(Ht,{children:ee("div",{className:"body",children:[E(nh,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:ee(Zi,{children:[ee(nh.Brand,{href:"#/Home",children:[E("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),E(nh.Toggle,{"aria-controls":"basic-navbar-nav"}),E(nh.Collapse,{className:"justify-content-end flex-grow-1",children:E(Ii,{children:ee(wi,{className:"me-auto",children:[E(wi.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),ee(Su,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[E(Su.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),E(Su.Divider,{}),e?E(Su.Item,{className:"logout-nav",onClick:o,children:"Logout"}):E(Su.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),E("main",{children:n})]})})};function YN({show:n,onHide:e}){const t=w.useRef(null),r=w.useRef(null),i=w.useRef(null),o=w.useRef(null),l=u=>{u.current.scrollIntoView({behavior:"smooth",block:"start"})};return E(Ht,{children:ee(tr,{show:n,onHide:e,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[E(tr.Header,{closeButton:!0,children:E(tr.Title,{children:"First Time?"})}),E(tr.Body,{children:ee(Ii,{className:"mt-2",children:[E(Lr,{sm:3,children:ee(wi,{variant:"pills",className:"flex-column",children:[E(wi.Item,{children:E(wi.Link,{onClick:()=>l(t),children:"Trading"})}),E(wi.Item,{children:E(wi.Link,{onClick:()=>l(r),children:"Upload"})}),E(wi.Item,{children:E(wi.Link,{onClick:()=>l(i),children:"Account Issues"})}),E(wi.Item,{children:E(wi.Link,{onClick:()=>l(o),children:"Finish"})})]})}),E(Lr,{sm:9,children:ee(Zi,{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"15px",borderRadius:"10px",backgroundColor:"#f8f9fa"},children:[ee("div",{ref:t,className:"mb-4",children:[E("h4",{children:"Trading"}),ee(Pr,{children:[ee(Pr.Item,{children:[E("strong",{children:"How does trading work?"}),E("p",{children:"You can list an item, find a match, and confirm a trade."})]}),ee(Pr.Item,{children:[E("strong",{children:"Is trading free?"}),E("p",{children:"Yes! Our platform only facilitates item exchanges without any money involved."})]})]})]}),ee("div",{ref:r,className:"mb-4",children:[E("h4",{children:"Upload"}),ee(Pr,{children:[ee(Pr.Item,{children:[E("strong",{children:"How do I upload an item?"}),E("p",{children:'Go to your dashboard, click "Upload Item," and fill in the details.'})]}),ee(Pr.Item,{children:[E("strong",{children:"What types of files are supported?"}),E("p",{children:"We support images in JPG, PNG, and GIF formats."})]})]})]}),ee("div",{ref:i,className:"mb-4",children:[E("h4",{children:"FAQ"}),ee(Pr,{children:[ee(Pr.Item,{children:[E("strong",{children:"How do I reset my password?"}),E("p",{children:'Go to the login page, click "Forgot Password," and follow the instructions.'})]}),ee(Pr.Item,{children:[E("strong",{children:"Why was my account suspended?"}),E("p",{children:"Check your email for details or contact support for further assistance."})]}),ee(Pr.Item,{children:[E("strong",{children:"Why is my post not showing in the HomePage?"}),E("p",{children:"Your post is probably not yet accepted by Admins."})]})]})]}),ee("div",{ref:o,className:"mb-4",children:[E("h4",{children:"You're Done!"}),ee(Pr,{children:[ee(Pr.Item,{children:[E("strong",{children:"Since you're new to Tradery"}),E("p",{children:"Before you start Trading, We recommend you customize your profile first and change how people will see your profile. By clicking Done, this will redirect you to your profile in your dashboard where you can start editing."})]}),ee(Pr.Item,{children:[E("strong",{children:"Wanna read this again?"}),E("p",{children:"You can access this menu by going to the User Dashboard and clicking the Question button on the top right corner of the navigation bar."})]})]})]})]})})]})}),E(tr.Footer,{children:E(tn,{variant:"primary",onClick:e,children:"Done"})})]})})}const p6=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(!1),[i,o]=w.useState({}),[l,u]=w.useState(),f=ai(),{userData:p}=Xo(),[m,y]=w.useState(!1),T=()=>{y(!1),f("/Dashboard/Profile")};w.useEffect(()=>{(async function(){try{const{items:M}=await q$();e(M);const V={};if(await Promise.all(M.map(async q=>{if(!V[q.authorID]){const{userdb:G}=await Va(q.authorID);V[q.authorID]=G}})),o(V),!p)return;const j=await t4(p.$id);if(console.log("User Exists? ",j),j||(y(!0),await J$(p.$id,{userId:p.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:p.name,defaultName:p.name,userEmail:p.email,firebaseId:""}),console.log("New profile created.")),p.$id)try{const{userdb:q}=await Va(p.$id);if(u(q),q.firebaseId)console.log("User exists, logging in..."),await Q9(Jr,q.userEmail,q.userId),console.log("login successful");else{if(console.log("User does not exist, creating account..."),await G9(Jr,q.userEmail,q.userId),await new Promise(G=>vw(Jr,C=>C&&G(C))),!Jr.currentUser){console.error("User is not authenticated!");return}await ks(dn(nn,"users",Jr.currentUser.uid),{username:q.defaultName,email:q.userEmail,id:Jr.currentUser.uid,blocked:[]}),await ks(dn(nn,"userchats",Jr.currentUser.uid),{chats:[]}),await Hy(q.userId,{...q,firebaseId:Jr.currentUser.uid})}}catch(q){console.error("Login error:",q)}}catch(M){console.error("Error fetching items:",M)}})()},[]);async function S(x){const{items:M}=await G$(x);e(M)}async function k(){window.location.reload(),r(!1)}async function N(x){x.preventDefault(),r(!0);const M=x.target;try{const{items:V}=await K$(M.ItemSearch.value);e(V)}catch(V){console.error("Error finding Item:",V)}}const R={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return ee(Yp,{children:[E(YN,{show:m,onHide:T}),E("div",{className:"home",children:ee("div",{className:"container",id:"pagewrap",children:[E("div",{className:"searchinput",children:ee("form",{className:"search",onSubmit:N,autoComplete:"off",children:[E("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),t&&E(Dc,{className:"clear-btn",onClick:k}),E("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),E("div",{className:"categories",children:E(Co,{defaultActiveKey:"0",children:ee(Co.Item,{eventKey:"0",children:[E(Co.Header,{children:"Filter by Categories"}),E(Co.Body,{children:E(Ii,{children:ee(Lr,{children:[E(tn,{variant:"outline-danger",onClick:k,children:"Clear Filter"}),Object.entries(R).map(([x,M])=>E(tn,{variant:`outline-${M.color}`,onClick:()=>S(x),children:M.name},x))]})})})]})})}),E("div",{className:"items container",children:E(Ii,{children:n.length>0?n.map(x=>{var q;const V={url:x.imageFileId&&Cd(x.imageFileId),height:x.imageHeight,width:x.imageWidth},j=i[x.authorID];return E(Lr,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:ee("a",{className:"itemLink",href:`#/Item/${x.$id}`,children:[E("div",{className:"itemLabel",children:E("span",{className:"Label",children:((q=R[x.itemCategory])==null?void 0:q.name)||"Uncategorized"})}),j?E(bp,{image:V,name:x.name,date:x.date,author:j.displayName||j.defaultName}):E("div",{className:"card placeholder-glow",children:ee("div",{className:"card-body",children:[E("h5",{className:"card-title placeholder-glow",children:E("span",{className:"placeholder col-6"})}),ee("p",{className:"card-text placeholder-glow",children:[E("span",{className:"placeholder col-7"}),E("span",{className:"placeholder col-4"}),E("span",{className:"placeholder col-4"}),E("span",{className:"placeholder col-6"}),E("span",{className:"placeholder col-8"})]})]})})]})},x.$id)}):E(Zi,{children:ee(cc,{variant:"warning",children:["No Items are currently posted, ",E(cc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})]})};function wa(){const n=ER();return console.error(n),E("div",{id:"error-page",children:ee("div",{class:"error",children:[ee("a",{class:"HomeButton",href:"#/Home",children:[E("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:E("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),E("div",{class:"background-wrapper",children:E("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),E("p",{class:"errorText",children:"The page you’re looking for does not exist."}),E("p",{children:E("i",{children:n.statusText||n.message})})]})})}function m6(){const n=ai(),[e,t]=w.useState(!1);return ee(Ht,{children:[E(YN,{show:e,onHide:()=>{t(!1),n("/Dashboard/Profile")}}),ee(Ht,{children:[ee("div",{className:"uWholeBox",children:[ee("a",{className:"HomeButton",href:"#/Home",children:[E("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:E("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),E("div",{className:"uLooks",children:" Dashboard "})]}),ee("div",{className:"NaviBar",children:[ee("ul",{children:[E("li",{children:E(Ru,{to:"/Dashboard/Post",children:"Post"})}),E("li",{children:E(Ru,{to:"/Dashboard/Items",children:"Your Items"})}),E("li",{children:E(Ru,{to:"/Dashboard/Requests",children:"Requests"})}),E("li",{children:E(Ru,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),E("li",{children:E(Ru,{to:"/Dashboard/Profile",children:"Profile"})})]}),E(g$,{})]}),E(tn,{variant:"outline-success",onClick:()=>t(!0),className:"tutorial",children:"?"})]})]})}const g6=()=>{const[n,e]=w.useState(),[t,r]=w.useState(!1),[i,o]=w.useState(),[l,u]=w.useState(null),[f,p]=w.useState(!1),[m,y]=w.useState(""),[T,S]=w.useState(""),[k,N]=w.useState(null),{userData:R,userdb:x}=Xo();w.useEffect(()=>{(async()=>{try{e(R),R&&(u(x!=null&&x.profileImageId?jy(x.profileImageId):null),y((x==null?void 0:x.displayName)||(R==null?void 0:R.name)||""),S((x==null?void 0:x.profileSummary)||""))}catch(b){console.error("Error fetching user: ",b)}})()},[]);const M=()=>r(!0),V=C=>{const b=C.target.value.replace(/[^a-zA-Z0-9 ]/g,"");y(b)},j=C=>{const b=C.target.value.replace(/[^a-zA-Z0-9 .,!?]/g,"");S(b)},q=C=>{if(!C.target.files||C.target.files.length===0)return;const b=C.target.files[0];if(b.size>5*1024*1024){N("File size exceeds 5MB limit.");return}else N(null);const P=document.createElement("img");P.onload=function(){o({height:P.height,file:b,width:P.width})},P.src=URL.createObjectURL(b),u(URL.createObjectURL(b))},G=async C=>{if(C.preventDefault(),p(!0),!m.trim()||!T.trim()){alert("Please fill in all fields."),p(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),p(!1);return}let b=(x==null?void 0:x.profileImageId)||"";if((x==null?void 0:x.displayName)!==m&&await e4(m)){alert("The username already exists. Try another one."),p(!1);return}if(await Hy(n.$id,{profileImageId:"",profileSummary:T,profileImageWidth:(i==null?void 0:i.width)??(x==null?void 0:x.profileImageWidth)??100,profileImageHeight:(i==null?void 0:i.height)??(x==null?void 0:x.profileImageHeight)??100,displayName:m,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:x==null?void 0:x.firebaseId}),i!=null&&i.file){b&&b!=="default"&&await W$(b);const P=await z$(n.$id,i.file);P!=null&&P.$id&&(b=P.$id)}await Hy(n.$id,{profileImageId:b,profileSummary:T,profileImageWidth:(i==null?void 0:i.width)??(x==null?void 0:x.profileImageWidth)??100,profileImageHeight:(i==null?void 0:i.height)??(x==null?void 0:x.profileImageHeight)??100,displayName:m,defaultName:n.name,userId:n.$id,userEmail:n.email,firebaseId:x==null?void 0:x.firebaseId}),console.log("✅ Profile updated.")}catch(b){console.error("Failed to update profile:",b)}finally{p(!1),r(!1)}};return E(Zi,{className:"d-flex justify-content-center align-items-center min-vh-100",children:ee(gs,{className:"profile-card shadow-lg",children:[f&&ee("div",{className:"overlay",children:[E(nR,{animation:"border"}),E("p",{className:"mt-2",children:"Updating User Profile..."})]}),E(gs.Body,{className:"text-center",children:t?ee(Ht,{children:[E("h2",{children:"Edit Profile"}),ee("form",{onSubmit:G,className:"mt-3",children:[ee("div",{className:"profile-image-upload",children:[E("input",{type:"file",accept:".png, .jpg",onChange:q}),E(Yu,{src:l||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),E("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),k&&E("p",{className:"text-danger",children:k})]}),ee(Zr.Group,{className:"mb-3",children:[E(Zr.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:m,onChange:V}),ee("small",{className:"text-muted",children:[m.length,"/20"]})]}),ee(Zr.Group,{className:"mb-3",children:[E(Zr.Label,{children:"Profile Summary"}),E(Zr.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:T,onChange:j}),ee("small",{className:"text-muted",children:[T.length,"/500"]})]}),E(tn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):ee(Ht,{children:[E(Yu,{src:x!=null&&x.profileImageId?jy(x.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),E("h2",{className:"display-name",children:(x==null?void 0:x.displayName)||"Username"}),E("p",{className:"account-name",children:n==null?void 0:n.name}),E("p",{className:"text-muted",children:(x==null?void 0:x.profileSummary)??"No profile description provided"}),E(tn,{className:"btn-lg mt-3",onClick:M,children:"Edit Profile"})]})})]})})},y6="_chat_9dxnd_1",v6="_top_9dxnd_9",_6="_user_9dxnd_17",w6="_userButton_9dxnd_22",E6="_texts_9dxnd_29",T6="_center_9dxnd_58",I6="_message_9dxnd_72",S6="_own_9dxnd_98",C6="_bottom_9dxnd_148",b6="_sendButton_9dxnd_189",A6="_cooldown_9dxnd_203",R6="_backButton_9dxnd_241",Xr={chat:y6,top:v6,user:_6,userButton:w6,texts:E6,center:T6,message:I6,own:S6,bottom:C6,sendButton:b6,cooldown:A6,backButton:R6},YS=n=>{let e;const t=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const T=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(S=>S(e,T))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,u);return u},k6=n=>n?YS(n):YS,N6=n=>n;function P6(n,e=N6){const t=nt.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return nt.useDebugValue(t),t}const XS=n=>{const e=k6(n),t=r=>P6(e,r);return Object.assign(t,e),t},XN=n=>n?XS(n):XS,el=XN(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=dn(nn,"users",e),r=await Rs(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),cd=XN(n=>({chatId:null,user:null,isCurrentUserBlocked:!1,isReceiverBlocked:!1,changeChat:(e,t)=>{const r=el.getState().currentUser;return t.blocked.includes(r.id)?n({chatId:e,user:null,isCurrentUserBlocked:!0,isReceiverBlocked:!1}):r.blocked.includes(t.id)?n({chatId:e,user:t,isCurrentUserBlocked:!1,isReceiverBlocked:!0}):n({chatId:e,user:t,isCurrentUserBlocked:!1,isReceiverBlocked:!1})},changeBlock:()=>{n(e=>({...e,isReceiverBlocked:!e.isReceiverBlocked}))}})),D6=({openDetail:n,goBackToChatList:e})=>{var M;const[t,r]=w.useState(),[i,o]=w.useState(!1),[l,u]=w.useState(""),[f,p]=w.useState(!1),{currentUser:m}=el(),{chatId:y,user:T,isCurrentUserBlocked:S,isReceiverBlocked:k}=cd(),N=w.useRef(null),R=w.useRef(null);w.useEffect(()=>{var V;(V=N.current)==null||V.scrollIntoView({behavior:"smooth"})},[t==null?void 0:t.messages]),w.useEffect(()=>{if(r(null),!y)return;const V=dN(dn(nn,"chats",y),j=>{r(j.data())});return()=>V()},[y]),w.useEffect(()=>{const V=j=>{R.current&&!R.current.contains(j.target)&&o(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const x=async()=>{if(!(l===""||f))try{await Wi(dn(nn,"chats",y),{messages:Sc({senderId:m.id,text:l,createdAt:new Date})}),u("")}catch(V){console.log(V)}};return ee("div",{className:Xr.chat,children:[E("div",{className:Xr.top,children:ee("div",{className:Xr.user,children:[E(tn,{variant:"link",onClick:n,className:Xr.userButton,children:T==null?void 0:T.username}),E(tn,{variant:"secondary",onClick:e,className:`${Xr.backButton} d-md-none`,children:"Back"})]})}),ee("div",{className:Xr.center,children:[(M=t==null?void 0:t.messages)==null?void 0:M.map((V,j)=>{var q;return E("div",{className:`${Xr.message} ${V.senderId===m.id?Xr.own:""}`,children:ee("div",{className:Xr.texts,children:[E("p",{children:V.text}),E("span",{children:(q=V.createdAt)!=null&&q.seconds?new Date(V.createdAt.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Unknown Time"})]})},j)}),E("div",{ref:N})]}),ee("div",{className:Xr.bottom,children:[E("input",{type:"text",placeholder:"Type a message...",value:l,onChange:V=>u(V.target.value),onKeyDown:V=>V.key==="Enter"&&x(),className:f?Xr.cooldown:""}),E("button",{className:`${Xr.sendButton} d-none d-md-block`,onClick:x,children:"Send"})]})]})},x6="_detail_168xd_1",O6="_user_168xd_7",L6="_info_168xd_23",M6="_report_168xd_72",V6="_reportPopup_168xd_81",U6="_popupContent_168xd_93",$6="_closeButton_168xd_102",F6="_deleteChat_168xd_142",ms={detail:x6,user:O6,info:L6,report:M6,reportPopup:V6,popupContent:U6,closeButton:$6,deleteChat:F6},j6=()=>{const{chatId:n,user:e,isCurrentUserBlocked:t,isReceiverBlocked:r,changeBlock:i}=cd(),{currentUser:o}=el(),[l,u]=w.useState(!1),[f,p]=w.useState(""),m=ai(),y=async()=>{if(!e)return;const k=dn(nn,"users",o.id);try{await Wi(k,{blocked:r?hy(e.id):Sc(e.id)}),i()}catch(N){console.log(N)}},T=async k=>{if(k.preventDefault(),!!f.trim())try{const N=dn(nn,"reports",`${o.id}_${e.id}`);await ks(N,{reporterUsername:o.username,reportedUsername:e.username,reporterId:o.id,reportedUserId:e.id,reason:f,timestamp:uw()}),u(!1),p(""),console.log("Report submitted")}catch(N){console.log("Error submitting report:",N)}},S=async()=>{if(!e||!n)return;const k=dn(nn,"userchats",o.id),N=dn(nn,"userchats",e.id),R=dn(nn,"chats",n);try{const x=await Rs(k);if(!x.exists()){console.log("Current user chat not found.");return}const V=(x.data().chats||[]).find(G=>G.chatId===n);if(!V){console.log("Chat not found in current user's list.");return}await Wi(k,{chats:hy(V)});const j=await Rs(N);if(j.exists()){const C=(j.data().chats||[]).find(b=>b.chatId===n);C&&await Wi(N,{chats:hy(C)})}(await Rs(R)).exists()&&(console.log("Deleting chat document..."),await Wi(R,{messages:[]})),cd.setState({chatId:null,user:null}),console.log("Chat successfully deleted for both users!")}catch(x){console.log("Error deleting chat:",x)}};return ee("div",{className:ms.detail,children:[(o==null?void 0:o.email)==="bagus.anselliam@ue.edu.ph"&&E("button",{className:ms.adminButton,onClick:()=>m("/Admin-Chat"),children:"Admin Panel"}),E("div",{className:ms.user,children:E("h2",{children:e==null?void 0:e.username})}),ee("div",{className:ms.info,children:[E("button",{onClick:y,children:t?"You are Blocked!":r?"Unblock User":"Block User"}),E("button",{className:ms.report,onClick:()=>u(!0),children:"Report"}),E("button",{className:ms.deleteChat,onClick:S,children:"Delete Chat"})]}),l&&E("div",{className:ms.reportPopup,children:ee("div",{className:ms.popupContent,children:[E("button",{className:ms.closeButton,onClick:()=>u(!1),children:"X"}),ee("h2",{children:["Report ",e==null?void 0:e.username]}),ee("form",{onSubmit:T,children:[E("textarea",{placeholder:"Enter the reason...",value:f,onChange:k=>p(k.target.value),required:!0}),E("button",{type:"submit",children:"Submit Report"})]})]})})]})},B6="_chatList_1usl9_1",H6="_search_1usl9_8",z6="_searchBar_1usl9_14",W6="_add_1usl9_36",q6="_item_1usl9_47",K6="_texts_1usl9_62",Fl={chatList:B6,search:H6,searchBar:z6,add:W6,item:q6,texts:K6},G6="_addUser_1pkaj_1",Q6="_user_1pkaj_35",Y6="_detail_1pkaj_41",gy={addUser:G6,user:Q6,detail:Y6},X6=()=>{const[n,e]=w.useState(null),[t,r]=w.useState(!1),[i,o]=w.useState(!1),[l,u]=w.useState(null),{currentUser:f}=el(),p=async y=>{y.preventDefault(),u(null);const S=new FormData(y.target).get("username");try{const k=Na(nn,"users"),N=qB(k,KB("username","==",S)),R=await hv(N);if(R.empty)u("User not found!"),e(null);else{const x=R.docs[0].data();if(x.id===f.id){u("You cannot add yourself!"),e(null);return}e(x),r(!1)}}catch(k){console.log(k),u("An error occurred while searching.")}},m=async()=>{if(!n||t||i)return;o(!0),u(null);const y=Na(nn,"chats"),T=Na(nn,"userchats"),S=dn(T,f.id),k=dn(T,n.id);try{const[N,R]=await Promise.all([Rs(S),Rs(k)]);N.exists()||await ks(S,{chats:[]}),R.exists()||await ks(k,{chats:[]});const x=N.exists()?N.data().chats||[]:[],M=R.exists()?R.data().chats||[]:[],V=x.some(C=>C.receiverId===n.id),j=M.some(C=>C.receiverId===f.id);if(V||j){u("User already added!"),o(!1);return}const q=dn(y);await ks(q,{createdAt:uw(),messages:[]});const G={chatId:q.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};await Wi(S,{chats:Sc(G)}),await Wi(k,{chats:Sc({...G,receiverId:f.id})}),console.log("Chat created:",q.id),r(!0),setTimeout(()=>e(null),1e3)}catch(N){console.error(N),u("An error occurred while adding the user.")}finally{o(!1)}};return ee("div",{className:gy.addUser,children:[ee("form",{onSubmit:p,children:[E("input",{type:"text",placeholder:"Username",name:"username"}),E("button",{type:"submit",children:"Search"})]}),n&&ee("div",{className:gy.user,children:[E("div",{className:gy.detail,children:E("span",{children:n.username})}),!t&&!l&&E("button",{onClick:m,disabled:i,children:i?"Adding...":"Add User"}),t&&E("span",{children:"User Added ✅"})]}),l&&E("span",{style:{color:"red"},children:l})]})},J6=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(!1),[i,o]=w.useState(""),{currentUser:l}=el(),{changeChat:u}=cd();w.useEffect(()=>{if(!(l!=null&&l.id))return;const m=dN(dn(nn,"userchats",l.id),async y=>{var N;const S=((N=y.data())==null?void 0:N.chats).map(async R=>{const x=dn(nn,"users",R.receiverId),V=(await Rs(x)).data();return{...R,user:V}}),k=await Promise.all(S);e(k.sort((R,x)=>x.updatedAt-R.updatedAt))});return()=>{m()}},[l.id]);const f=async m=>{const y=n.map(k=>{const{user:N,...R}=k;return R}),T=y.findIndex(k=>k.chatId===m.chatId);y[T].isSeen=!0;const S=dn(nn,"userchats",l.id);try{await Wi(S,{chats:y}),u(m.chatId,m.user)}catch(k){console.log(k)}},p=n.filter(m=>m.user.username.toLowerCase().includes(i.toLowerCase()));return ee("div",{className:Fl.chatList,children:[ee("div",{className:Fl.search,children:[ee("div",{className:Fl.searchBar,children:[E("img",{src:"./search.png",alt:""}),E("input",{type:"text",placeholder:"Search",onChange:m=>o(m.target.value)})]}),E("img",{src:t?"./minus.png":"./plus.png",alt:"",className:Fl.add,onClick:()=>r(m=>!m)})]}),p.map(m=>E("div",{className:Fl.item,onClick:()=>f(m),style:{backgroundColor:m!=null&&m.isSeen?"transparent":"#5183fe"},children:ee("div",{className:Fl.texts,children:[E("span",{children:m.user.blocked.includes(l.id)?"User":m.user.username}),E("p",{children:m.lastMessage})]})},m.chatId)),t&&E(X6,{})]})},Z6="_list_1vwb7_1",eH={list:Z6},tH="_userInfo_e98oz_1",nH="_user_e98oz_1",JS={userInfo:tH,user:nH},rH=()=>{const{currentUser:n}=el();return E("div",{className:JS.userInfo,children:E("div",{className:JS.user,children:ee("h2",{children:[n.username," "]})})})},iH=({onChatSelect:n})=>E("div",{className:eH.list,children:n&&ee(Ht,{children:[E(rH,{}),E(J6,{})]})});function JN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=JN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Pa(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=JN(n))&&(r&&(r+=" "),r+=e);return r}function sH(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}sH(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Vd=n=>typeof n=="number"&&!isNaN(n),Ha=n=>typeof n=="string",Us=n=>typeof n=="function",oH=n=>Ha(n)||Vd(n),vv=n=>Ha(n)||Us(n)?n:null,aH=(n,e)=>n===!1||Vd(n)&&n>0?n:e,_v=n=>w.isValidElement(n)||Ha(n)||Us(n)||Vd(n);function lH(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function cH({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:u,done:f,nodeRef:p,isIn:m,playToast:y}){let T=t?`${n}--${l}`:n,S=t?`${e}--${l}`:e,k=w.useRef(0);return w.useLayoutEffect(()=>{let N=p.current,R=T.split(" "),x=M=>{M.target===p.current&&(y(),N.removeEventListener("animationend",x),N.removeEventListener("animationcancel",x),k.current===0&&M.type!=="animationcancel"&&N.classList.remove(...R))};N.classList.add(...R),N.addEventListener("animationend",x),N.addEventListener("animationcancel",x)},[]),w.useEffect(()=>{let N=p.current,R=()=>{N.removeEventListener("animationend",R),r?lH(N,f,i):f()};m||(u?R():(k.current=1,N.className+=` ${S}`,N.addEventListener("animationend",R)))},[m]),nt.createElement(nt.Fragment,null,o)}}function ZS(n,e){return{content:ZN(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function ZN(n,e,t=!1){return w.isValidElement(n)&&!Ha(n.type)?w.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Us(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function uH({closeToast:n,theme:e,ariaLabel:t="close"}){return nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function dH({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:o,controlledProgress:l,progress:u,rtl:f,isIn:p,theme:m}){let y=i||l&&u===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(T.transform=`scaleX(${u})`);let S=Pa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),k=Us(o)?o({rtl:f,type:r,defaultClassName:S}):Pa(S,o),N={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&t()}};return nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),nt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:k,style:T,...N}))}var fH=1,e1=()=>`${fH++}`;function hH(n,e,t){let r=1,i=0,o=[],l=[],u=e,f=new Map,p=new Set,m=M=>(p.add(M),()=>p.delete(M)),y=()=>{l=Array.from(f.values()),p.forEach(M=>M())},T=({containerId:M,toastId:V,updateId:j})=>{let q=M?M!==n:n!==1,G=f.has(V)&&j==null;return q||G},S=(M,V)=>{f.forEach(j=>{var q;(V==null||V===j.props.toastId)&&((q=j.toggle)==null||q.call(j,M))})},k=M=>{var V,j;(j=(V=M.props)==null?void 0:V.onClose)==null||j.call(V,M.removalReason),M.isActive=!1},N=M=>{if(M==null)f.forEach(k);else{let V=f.get(M);V&&k(V)}y()},R=()=>{i-=o.length,o=[]},x=M=>{var V,j;let{toastId:q,updateId:G}=M.props,C=G==null;M.staleId&&f.delete(M.staleId),M.isActive=!0,f.set(q,M),y(),t(ZS(M,C?"added":"updated")),C&&((j=(V=M.props).onOpen)==null||j.call(V))};return{id:n,props:u,observe:m,toggle:S,removeToast:N,toasts:f,clearQueue:R,buildToast:(M,V)=>{if(T(V))return;let{toastId:j,updateId:q,data:G,staleId:C,delay:b}=V,P=q==null;P&&i++;let L={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(V).filter(([F,O])=>O!=null)),toastId:j,updateId:q,data:G,isIn:!1,className:vv(V.className||u.toastClassName),progressClassName:vv(V.progressClassName||u.progressClassName),autoClose:V.isLoading?!1:aH(V.autoClose,u.autoClose),closeToast(F){f.get(j).removalReason=F,N(j)},deleteToast(){let F=f.get(j);if(F!=null){if(t(ZS(F,"removed")),f.delete(j),i--,i<0&&(i=0),o.length>0){x(o.shift());return}y()}}};L.closeButton=u.closeButton,V.closeButton===!1||_v(V.closeButton)?L.closeButton=V.closeButton:V.closeButton===!0&&(L.closeButton=_v(u.closeButton)?u.closeButton:!0);let U={content:M,props:L,staleId:C};u.limit&&u.limit>0&&i>u.limit&&P?o.push(U):Vd(b)?setTimeout(()=>{x(U)},b):x(U)},setProps(M){u=M},setToggle:(M,V)=>{let j=f.get(M);j&&(j.toggle=V)},isToastActive:M=>{var V;return(V=f.get(M))==null?void 0:V.isActive},getSnapshot:()=>l}}var rr=new Map,ud=[],wv=new Set,pH=n=>wv.forEach(e=>e(n)),t1=()=>rr.size>0;function mH(){ud.forEach(n=>r1(n.content,n.options)),ud=[]}var gH=(n,{containerId:e})=>{var t;return(t=rr.get(e||1))==null?void 0:t.toasts.get(n)};function n1(n,e){var t;if(e)return!!((t=rr.get(e))!=null&&t.isToastActive(n));let r=!1;return rr.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function yH(n){if(!t1()){ud=ud.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||oH(n))rr.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=rr.get(n.containerId);e?e.removeToast(n.id):rr.forEach(t=>{t.removeToast(n.id)})}}var vH=(n={})=>{rr.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function r1(n,e){_v(n)&&(t1()||ud.push({content:n,options:e}),rr.forEach(t=>{t.buildToast(n,e)}))}function _H(n){var e;(e=rr.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function i1(n,e){rr.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function wH(n){let e=n.containerId||1;return{subscribe(t){let r=hH(e,n,pH);rr.set(e,r);let i=r.observe(t);return mH(),()=>{i(),rr.delete(e)}},setProps(t){var r;(r=rr.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=rr.get(e))==null?void 0:t.getSnapshot()}}}function EH(n){return wv.add(n),()=>{wv.delete(n)}}function TH(n){return n&&(Ha(n.toastId)||Vd(n.toastId))?n.toastId:e1()}function Ud(n,e){return r1(n,e),e.toastId}function Xp(n,e){return{...e,type:e&&e.type||n,toastId:TH(e)}}function Jp(n){return(e,t)=>Ud(e,Xp(n,t))}function xt(n,e){return Ud(n,Xp("default",e))}xt.loading=(n,e)=>Ud(n,Xp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function IH(n,{pending:e,error:t,success:r},i){let o;e&&(o=Ha(e)?xt.loading(e,i):xt.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,y)=>{if(m==null){xt.dismiss(o);return}let T={type:p,...l,...i,data:y},S=Ha(m)?{render:m}:m;return o?xt.update(o,{...T,...S}):xt(S.render,{...T,...S}),y},f=Us(n)?n():n;return f.then(p=>u("success",r,p)).catch(p=>u("error",t,p)),f}xt.promise=IH;xt.success=Jp("success");xt.info=Jp("info");xt.error=Jp("error");xt.warning=Jp("warning");xt.warn=xt.warning;xt.dark=(n,e)=>Ud(n,Xp("default",{theme:"dark",...e}));function SH(n){yH(n)}xt.dismiss=SH;xt.clearWaitingQueue=vH;xt.isActive=n1;xt.update=(n,e={})=>{let t=gH(n,e);if(t){let{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:e1()};o.toastId!==n&&(o.staleId=n);let l=o.render||i;delete o.render,Ud(l,o)}};xt.done=n=>{xt.update(n,{progress:1})};xt.onChange=EH;xt.play=n=>i1(!0,n);xt.pause=n=>i1(!1,n);function CH(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=w.useRef(wH(n)).current;i(n);let o=(e=w.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(u){if(!o)return[];let f=new Map;return n.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:m}=p.props;f.has(m)||f.set(m,[]),f.get(m).push(p)}),Array.from(f,p=>u(p[0],p[1]))}return{getToastToRender:l,isToastActive:n1,count:o==null?void 0:o.length}}function bH(n){let[e,t]=w.useState(!1),[r,i]=w.useState(!1),o=w.useRef(null),l=w.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:f,closeToast:p,onClick:m,closeOnClick:y}=n;_H({id:n.toastId,containerId:n.containerId,fn:t}),w.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{S()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||x(),window.addEventListener("focus",R),window.addEventListener("blur",x)}function S(){window.removeEventListener("focus",R),window.removeEventListener("blur",x)}function k(C){if(n.draggable===!0||n.draggable===C.pointerType){M();let b=o.current;l.canCloseOnClick=!0,l.canDrag=!0,b.style.transition="none",n.draggableDirection==="x"?(l.start=C.clientX,l.removalDistance=b.offsetWidth*(n.draggablePercent/100)):(l.start=C.clientY,l.removalDistance=b.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function N(C){let{top:b,bottom:P,left:L,right:U}=o.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&n.pauseOnHover&&C.clientX>=L&&C.clientX<=U&&C.clientY>=b&&C.clientY<=P?x():R()}function R(){t(!0)}function x(){t(!1)}function M(){l.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",q)}function V(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",q)}function j(C){let b=o.current;if(l.canDrag&&b){l.didMove=!0,e&&x(),n.draggableDirection==="x"?l.delta=C.clientX-l.start:l.delta=C.clientY-l.start,l.start!==C.clientX&&(l.canCloseOnClick=!1);let P=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;b.style.transform=`translate3d(${P},0)`,b.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function q(){V();let C=o.current;if(l.canDrag&&l.didMove&&C){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let G={onPointerDown:k,onPointerUp:N};return u&&f&&(G.onMouseEnter=x,n.stacked||(G.onMouseLeave=R)),y&&(G.onClick=C=>{m&&m(C),l.canCloseOnClick&&p(!0)}),{playToast:R,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:G}}var AH=typeof window<"u"?w.useLayoutEffect:w.useEffect,Zp=({theme:n,type:e,isLoading:t,...r})=>nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function RH(n){return nt.createElement(Zp,{...n},nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function kH(n){return nt.createElement(Zp,{...n},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function NH(n){return nt.createElement(Zp,{...n},nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function PH(n){return nt.createElement(Zp,{...n},nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function DH(){return nt.createElement("div",{className:"Toastify__spinner"})}var Ev={info:kH,warning:RH,success:NH,error:PH,spinner:DH},xH=n=>n in Ev;function OH({theme:n,type:e,isLoading:t,icon:r}){let i=null,o={theme:n,type:e};return r===!1||(Us(r)?i=r({...o,isLoading:t}):w.isValidElement(r)?i=w.cloneElement(r,o):t?i=Ev.spinner():xH(e)&&(i=Ev[e](o))),i}var LH=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=bH(n),{closeButton:l,children:u,autoClose:f,onClick:p,type:m,hideProgressBar:y,closeToast:T,transition:S,position:k,className:N,style:R,progressClassName:x,updateId:M,role:V,progress:j,rtl:q,toastId:G,deleteToast:C,isIn:b,isLoading:P,closeOnClick:L,theme:U,ariaLabel:F}=n,O=Pa("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":L}),we=Us(N)?N({rtl:q,position:k,type:m,defaultClassName:O}):Pa(O,N),Ne=OH(n),je=!!j||!f,Se={closeToast:T,type:m,theme:U},re=null;return l===!1||(Us(l)?re=l(Se):w.isValidElement(l)?re=w.cloneElement(l,Se):re=uH(Se)),nt.createElement(S,{isIn:b,done:C,position:k,preventExitTransition:t,nodeRef:r,playToast:o},nt.createElement("div",{id:G,tabIndex:0,onClick:p,"data-in":b,className:we,...i,style:R,ref:r,...b&&{role:V,"aria-label":F}},Ne!=null&&nt.createElement("div",{className:Pa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},Ne),ZN(u,n,!e),re,!n.customProgressBar&&nt.createElement(dH,{...M&&!je?{key:`p-${M}`}:{},rtl:q,theme:U,delay:f,isRunning:e,isIn:b,closeToast:T,hide:y,type:m,className:x,controlledProgress:je,progress:j||0})))},MH=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),VH=cH(MH("bounce",!0)),UH={position:"top-right",transition:VH,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function $H(n){let e={...UH,...n},t=n.stacked,[r,i]=w.useState(!0),o=w.useRef(null),{getToastToRender:l,isToastActive:u,count:f}=CH(e),{className:p,style:m,rtl:y,containerId:T,hotKeys:S}=e;function k(R){let x=Pa("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":y});return Us(p)?p({position:R,rtl:y,defaultClassName:x}):Pa(x,vv(p))}function N(){t&&(i(!0),xt.play())}return AH(()=>{var R;if(t){let x=o.current.querySelectorAll('[data-in="true"]'),M=12,V=(R=e.position)==null?void 0:R.includes("top"),j=0,q=0;Array.from(x).reverse().forEach((G,C)=>{let b=G;b.classList.add("Toastify__toast--stacked"),C>0&&(b.dataset.collapsed=`${r}`),b.dataset.pos||(b.dataset.pos=V?"top":"bot");let P=j*(r?.2:1)+(r?0:M*C);b.style.setProperty("--y",`${V?P:P*-1}px`),b.style.setProperty("--g",`${M}`),b.style.setProperty("--s",`${1-(r?q:0)}`),j+=b.offsetHeight,q+=.025})}},[r,f,t]),w.useEffect(()=>{function R(x){var M;let V=o.current;S(x)&&((M=V.querySelector('[tabIndex="0"]'))==null||M.focus(),i(!1),xt.pause()),x.key==="Escape"&&(document.activeElement===V||V!=null&&V.contains(document.activeElement))&&(i(!0),xt.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[S]),nt.createElement("section",{ref:o,className:"Toastify",id:T,onMouseEnter:()=>{t&&(i(!1),xt.pause())},onMouseLeave:N,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((R,x)=>{let M=x.length?{...m}:{...m,pointerEvents:"none"};return nt.createElement("div",{tabIndex:-1,className:k(R),"data-stacked":t,style:M,key:`c-${R}`},x.map(({content:V,props:j})=>nt.createElement(LH,{...j,stacked:t,collapseAll:N,isIn:u(j.toastId,j.containerId),key:`t-${j.key}`},V)))}))}const FH=()=>E("div",{className:"",children:E($H,{position:"bottm-right"})}),jH="_loading_1ahbc_31",BH="_appContainer_1ahbc_40",HH="_appContent_1ahbc_49",zH="_listContainer_1ahbc_59",WH="_chatContainer_1ahbc_68",ku={loading:jH,appContainer:BH,appContent:HH,listContainer:zH,chatContainer:WH};function qH(){const{currentUser:n,isLoading:e,fetchUserInfo:t}=el(),{chatId:r,changeChat:i}=cd(),[o,l]=w.useState(!1),[u,f]=w.useState(!0);return w.useEffect(()=>{const p=vw(Jr,async m=>{m?t(m.uid):console.log("No user is signed in.")});return()=>p()},[t]),e?E("div",{className:ku.loading,children:"Loading..."}):E(Zi,{fluid:!0,className:ku.appContainer,children:ee(Ii,{className:ku.appContent,children:[n&&ee(Ht,{children:[u&&E(Lr,{xs:12,md:4,className:ku.listContainer,children:E(iH,{onChatSelect:()=>f(!1)})}),r&&E(Lr,{xs:12,md:8,className:ku.chatContainer,children:E(D6,{openDetail:()=>l(!0),goBackToChatList:()=>f(!0)})}),ee(tr,{show:o,onHide:()=>l(!1),centered:!0,children:[E(tr.Header,{children:E(Dc,{onClick:()=>l(!1)})}),E(tr.Body,{children:E(j6,{})})]})]}),E(FH,{})]})})}const KH=()=>E("div",{className:"messages-container",children:E(qH,{})}),GH=()=>{const n=ai(),[e,t]=w.useState(null),[r,i]=w.useState(!1),[o,l]=w.useState(""),[u,f]=w.useState(""),[p,m]=w.useState(null);function y(S){if(!S.target.files||S.target.files.length===0)return;const k=S.target.files[0];if(k.size>5*1024*1024){m("File size must be 5MB or less.");return}m(null);const N=new window.Image,R=URL.createObjectURL(k);N.onload=function(){t({height:N.height,file:k,width:N.width,previewUrl:R})},N.src=R}return ee(Zi,{className:"mt-4",children:[r&&E("div",{className:"overlay",children:E("div",{className:"overlay-content",children:E("p",{children:"Please wait... Creating Tradery Item"})})}),ee(gs,{className:"p-4 shadow",children:[E("h1",{className:"text-center",children:"Post Item"}),p&&E("p",{className:"text-danger",children:p}),ee("form",{onSubmit:async S=>{S.preventDefault(),i(!0);const N=new FormData(S.currentTarget).get("itemCategory");if(!o||!u||!N||!e){m("Please fill in all fields."),i(!1);return}try{const R=await JV();if(!R){console.log("User data is still loading. Please wait."),i(!1);return}const x=await X$({name:o,authorID:R.$id,description:u,date:new Date().toISOString(),imageHeight:e.height,imageFileId:"",imageWidth:e.width,isApproved:!1,itemCategory:N});if(!x||!x.items||!x.items.$id)throw new Error("Failed to create item. No ID returned.");let M="";if(e.file){console.log("Uploading image...");const V=await B$(e.file);if(!V||!V.$id)throw new Error("Image upload failed.");M=V.$id}await SR(x.items.$id,{imageFileId:M,imageHeight:e.height,imageWidth:e.width,name:o,description:u,authorID:R.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:N}),console.log("Item created and updated successfully."),n(`/Item/${x.items.$id}`)}catch(R){console.error("Error creating or updating item:",R),alert("Failed to create item. Please try again.")}finally{i(!1)}},autoComplete:"off",children:[ee(Zr.Group,{controlId:"formFileLg",className:"mb-3",children:[E(Zr.Label,{children:"Import Image (Max: 5MB)"}),E(Zr.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:y,required:!0})]}),e&&E(Yu,{src:e.previewUrl,alt:"Preview",className:"mb-3",fluid:!0,rounded:!0}),E(i_,{controlId:"floatingSelect",label:"Category",children:ee(Zr.Select,{id:"itemCategory",name:"itemCategory",required:!0,children:[E("option",{value:"",disabled:!0,children:"Select a Category..."}),E("option",{value:"a",children:"School Supplies"}),E("option",{value:"b",children:"Clothing"}),E("option",{value:"c",children:"Entertainment/Hobbies"}),E("option",{value:"d",children:"Gaming/Technology"}),E("option",{value:"e",children:"Fashion Accessories"}),E("option",{value:"f",children:"Sports & Outdoor"})]})}),E(Zr.Control,{className:"mt-3",id:"name",name:"name",type:"text",placeholder:"Name",maxLength:40,value:o,onChange:S=>l(S.target.value),required:!0}),E(Zr.Control,{className:"mt-3",as:"textarea",id:"description",name:"description",placeholder:"Description",maxLength:500,value:u,onChange:S=>f(S.target.value),required:!0}),E(tn,{className:"w-100 mt-3",type:"submit",disabled:r,children:"Submit"})]})]})]})},QH=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({}),{userData:i}=Xo();return w.useEffect(()=>{(async function(){if(!i){console.log("User data is still loading. Please wait.");return}const{items:l}=await v_(i.$id);e(l);const u={};await Promise.all(l.map(async f=>{if(!u[f.authorID]){const{userdb:p}=await Va(f.authorID);u[f.authorID]=p}})),r(u)})()},[]),E("div",{className:"home",children:E("div",{className:"container",id:"pagewrap",children:E("div",{className:"items container",children:E(Ii,{children:n.length>0?n.map(o=>{const u={url:o.imageFileId&&Cd(o.imageFileId),height:o.imageHeight,width:o.imageWidth},f=t[o.authorID];return E(Lr,{xs:12,md:3,style:{paddingBottom:"20px"},children:E("a",{className:"itemLink",href:`#/Item/${o.$id}`,children:E(bp,{image:u,name:o.name,date:o.date,author:f?f.displayName||f.defaultName:"Unknown Author"})})},o.$id)}):E(Zi,{children:ee(cc,{variant:"warning",children:["No Items are currently posted, ",E(cc.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})},YH=({name:n,userId:e,eventKey:t})=>{const[r,i]=w.useState([]),{userdb:o}=Xo();if(!o)throw new Error("User data is not available");const l=ai();w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const p=await Promise.all(e.map(async m=>{try{const{userdb:y}=await Va(m),T=(y==null?void 0:y.displayName)||(y==null?void 0:y.defaultName)||"",S=(y==null?void 0:y.defaultName)||"",k=(y==null?void 0:y.firebaseId)||null;return T||S?{displayName:T,appwriteName:S,firebaseId:k}:null}catch(y){return console.error("Error fetching user data:",y),null}}));i(p.filter(m=>m!==null))})()},[e]);async function u(f,p){try{await d6(f,p),console.log("Done")}catch{console.log("Failed to add chat")}finally{l("/Dashboard/Messages#view-messages")}}return ee(Co.Item,{eventKey:t,children:[E(Co.Header,{children:n}),E(Co.Body,{children:r.length>0?r.map((f,p)=>ee("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[ee("p",{className:"mb-0",children:[E("strong",{children:f.displayName})," wants to trade. The default username is ",E("a",{href:`#/User/${f.displayName}`,className:"profile-link",children:E("strong",{children:f.appwriteName})}),", You can click on the name to view their profile."]}),E(tn,{variant:"primary",size:"sm",onClick:()=>{f.firebaseId&&o.firebaseId?u(f.firebaseId,o.firebaseId):console.error("Invalid user IDs")},children:"Message"})]},p)):E("p",{children:"No trade requests yet."})})]})},XH=()=>{const[n,e]=w.useState([]),{userData:t}=Xo();return w.useEffect(()=>{(async function(){if(!t){console.log("User data is still loading. Please wait.");return}const{items:i}=await v_(t.$id),o=i.filter(l=>l.requests&&l.requests.length>0);e(o)})()},[]),ee("div",{className:"container",children:[E("h1",{children:"Your Items with Requests"}),n.length>0?ee(Co,{alwaysOpen:!0,children:[" ",n.map((r,i)=>E(YH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):E("p",{children:"No items with requests found."})]})};function JH({params:n=yR()}){const[e,t]=w.useState(),[r,i]=w.useState(),o=ai(),[l,u]=w.useState(!1),[f,p]=w.useState(!1),{isAdmin:m}=Ju(),{userData:y}=Xo(),S={url:(e==null?void 0:e.imageFileId)&&Cd(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var q;if(!n.itemsId)return;const{items:V}=await By(n.itemsId);if(t(V),(y==null?void 0:y.$id)===(V==null?void 0:V.authorID)&&u(!0),y&&p(((q=V.requests)==null?void 0:q.includes(y.$id))??!1),V){const{userdb:G}=await Va(V.authorID);i(G)}})()},[n.itemsId]);async function k(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{const M=e.requests??[];if(M.includes(y.$id)){p(!0);return}const V=[...M,y.$id];t(j=>j&&{...j,requests:V}),p(!0),await vI(n.itemsId,{...e,isApproved:!0,requests:V}),console.log("Trade request successful")}catch(M){console.error("Error requesting trade:",M)}}}async function N(){if(e!=null&&e.$id){await Y$(e.$id);return}o(-1)}async function R(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{await SR(n.itemsId,{...e,isApproved:!0});const{items:M}=await By(n.itemsId);console.log("✅ Approved Post Data from Appwrite:",M),t(M),o(-1)}catch(M){console.error("Error approving post:",M)}}}async function x(){if(e){if(!y){console.log("User data is still loading. Please wait.");return}try{const M=e.requests??[];if(!M.includes(y.$id)){p(!1);return}const V=M.filter(j=>j!==y.$id);t(j=>j&&{...j,requests:V}),p(!1),await vI(n.itemsId,{...e,isApproved:!0,requests:V}),console.log("Trade request removed")}catch(M){console.error("Error removing request:",M)}}}return ee(Yp,{children:[ee("a",{className:"HomeItem",href:"#/Home",children:[E("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:E("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),E("div",{className:"container",children:e&&ee(Ht,{children:[!e.isApproved&&E(cc,{variant:"warning",style:{margin:"20px"},children:"Post is waiting to be approved by the moderators."},"warning"),ee("div",{className:"itemheading",children:[E("div",{children:E("h1",{children:e.name})}),r&&E("a",{href:`#/User/${r.displayName}`,className:"profile-link",children:r.displayName||r.defaultName}),ee("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!m&&ee("div",{className:"Tradecont",children:[l&&E(tn,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),!l&&E(Ht,{children:f?E(tn,{className:"Tradereq",variant:"danger",onClick:x,children:"Remove Trade Request"}):E(tn,{className:"Tradereq",variant:"primary",onClick:k,children:"Request a Trade"})})]}),m&&ee("div",{className:"Tradecont",children:[E(tn,{className:"Tradereq",variant:"primary",onClick:N,children:"Delete Item"}),E(tn,{className:"Tradereq",variant:"primary",onClick:R,children:"Approve Item"})]}),E("div",{className:"itemimg",children:E(RT,{className:"image-carousel",controls:!1,children:E(RT.Item,{children:E("img",{className:"thumbnail",src:S.url?String(S.url):"./images/favicon",alt:"Item"})})})}),E("div",{className:"description",children:E("p",{style:{whiteSpace:"pre-line"},children:e.description})})]})})]})}function ZH({params:n=yR()}){const[e,t]=w.useState(null),[r,i]=w.useState([]);return w.useEffect(()=>{(async function(){try{const{userdb:l}=await Z$(n.profileName);l.map(async u=>{const{items:f}=await v_(u.userId);i(f),t(u)})}catch(l){console.error("Error fetching profile data:",l)}})()},[n.profileName]),E(Yp,{children:ee(Zi,{className:"mt-5",children:[E(Ii,{className:"justify-content-center text-center",children:E(Lr,{md:6,lg:4,children:ee("div",{className:"profile-container p-4 bg-light rounded shadow",children:[E(Yu,{src:e!=null&&e.profileImageId?jy(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),E("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),E("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),E("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),E(Ii,{className:"mt-5",children:ee(Lr,{children:[E("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?E(Ii,{className:"g-4",children:r.map(o=>{const u={url:o.imageFileId&&Cd(o.imageFileId),height:o.imageHeight,width:o.imageWidth};return E(Lr,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:E("a",{className:"itemLink",href:`#/Item/${o.$id}`,children:E(bp,{image:u,name:o.name,date:o.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},o.$id)})}):E("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function ez(){const{isAdmin:n,logInAdmin:e}=Ju(),[t,r]=w.useState([]),[i,o]=w.useState({}),l=async u=>{u.preventDefault();const f=u.target;await e(f.email.value,f.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:f}=await Q$();r(f);const p={};await Promise.all(f.map(async m=>{if(!p[m.authorID]){const{userdb:y}=await Va(m.authorID);p[m.authorID]=y}})),o(p)})()},[]),ee(Ht,{children:[!n&&E("div",{className:"RegAdminContainer",children:E("div",{className:"login-register-container",children:ee("form",{onSubmit:l,autoComplete:"off",children:[ee("div",{className:"form-field-wrapper",children:[E("label",{children:"Email:"}),E("input",{required:!0,className:"AdminInput",type:"email",name:"email",placeholder:"Enter email..."})]}),ee("div",{className:"form-field-wrapper",children:[E("label",{children:"Password:"}),E(Zr.Control,{className:"AdminInput",type:"password",name:"password",placeholder:"Enter password..."})]}),E("div",{className:"form-field-wrapper",children:E(tn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&E(Yp,{children:E("div",{className:"home",children:ee("div",{className:"container",id:"pagewrap",children:[E("h1",{children:"UNAPPROVED ITEMS"}),E("div",{className:"items container",children:E(Ii,{children:t.length>0?t.map(u=>{const p={url:u.imageFileId&&Cd(u.imageFileId),height:u.imageHeight,width:u.imageWidth},m=i[u.authorID];return E(Lr,{xs:12,md:3,style:{paddingBottom:"20px"},children:E("a",{className:"itemLink",href:`#/Item/${u.$id}`,children:E(bp,{image:p,name:u.name,date:u.date,author:m?m.displayName||m.defaultName:"Unknown Author"})})},u.$id)}):E(Zi,{children:E(cc,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const tz="bagus.anselliam@ue.edu.ph",nz=({children:n})=>{const[e,t]=w.useState(null),[r,i]=w.useState(!0),o=ai();return w.useEffect(()=>{const l=vw(Jr,async u=>{if(u){const f=await f_();f&&f.email===tz?t(!0):t(!1)}else t(!1);i(!1)});return()=>l()},[]),r?E("p",{children:"Loading..."}):e?n:o("/Home")},rz="_adminContainer_1hm91_1",iz="_userList_1hm91_19",sz="_reportsList_1hm91_54",oz="_reportItem_1hm91_71",az="_adminButtons_1hm91_106",lz="_backButton_1hm91_115",cz="_logout_1hm91_115",uz="_readMore_1hm91_169",dz="_modal_1hm91_185",fz="_modalContent_1hm91_197",hz="_closeModal_1hm91_216",pz="_showAllReports_1hm91_230",Dr={adminContainer:rz,userList:iz,reportsList:sz,reportItem:oz,adminButtons:az,backButton:lz,logout:cz,readMore:uz,modal:dz,modalContent:fz,closeModal:hz,showAllReports:pz},mz=()=>{var T;const[n,e]=w.useState([]),[t,r]=w.useState([]),[i,o]=w.useState([]),[l,u]=w.useState(!0),[f,p]=w.useState(null),m=ai();w.useEffect(()=>{(async()=>{try{const k=await hv(Na(nn,"users")),N=await hv(Na(nn,"reports"));e(k.docs.map(x=>({id:x.id,...x.data()})));const R=N.docs.map(x=>({id:x.id,...x.data()}));r(R),o(R)}catch(k){console.error("Error fetching data:",k)}finally{u(!1)}})()},[]);const y=async S=>{try{await XB(dn(nn,"reports",S)),r(k=>k.filter(N=>N.id!==S)),o(k=>k.filter(N=>N.id!==S))}catch(k){console.error("Error deleting report:",k)}};return ee("div",{className:Dr.adminContainer,children:[E("h1",{children:"Admin Panel"}),E("p",{children:"Welcome, Admin! Here you can manage users and view reports."}),ee("div",{className:Dr.adminButtons,children:[E("button",{className:Dr.backButton,onClick:()=>m("/Dashboard/Messages"),children:"Back to Chat"}),E("button",{className:Dr.logout,onClick:()=>Jr.signOut(),children:"Logout"})]}),l?E("p",{children:"Loading data..."}):ee(Ht,{children:[ee("div",{className:Dr.userList,children:[E("h2",{children:"Registered Users"}),E("ul",{children:n.map(S=>ee("li",{className:Dr.userItem,children:[E("strong",{children:S.username})," - ",S.email,E("button",{onClick:()=>o(t.filter(k=>k.reportedUserId===S.id)),children:"View Reports"})]},S.id))}),E("button",{className:Dr.showAllReports,onClick:()=>o(t),children:"Show All Reported Users"})]}),ee("div",{className:Dr.reportsList,children:[E("h2",{children:"Reported Users"}),i.length===0?E("p",{children:"No reports available."}):E("ul",{children:i.map(S=>{var N;const k=(N=S.timestamp)!=null&&N.seconds?new Date(S.timestamp.seconds*1e3).toLocaleString():"Unknown";return ee("li",{className:Dr.reportItem,children:[ee("p",{children:[E("strong",{children:"Reporter:"})," ",S.reporterUsername]}),ee("p",{children:[E("strong",{children:"Reporter ID:"})," ",S.reporterId]}),ee("p",{children:[E("strong",{children:"Reported User:"})," ",S.reportedUsername]}),ee("p",{children:[E("strong",{children:"Reported ID:"})," ",S.reportedUserId]}),ee("p",{children:[E("strong",{children:"Reason:"})," ",S.reason.length>10?ee(Ht,{children:[S.reason.substring(0,10),"...",E("button",{className:Dr.readMore,onClick:()=>p(S),children:"Read More"})]}):S.reason]}),ee("p",{children:[E("strong",{children:"Timestamp:"})," ",k]}),E("button",{onClick:()=>y(S.id),children:"Delete"})]},S.id)})})]}),f&&E("div",{className:Dr.modal,children:ee("div",{className:Dr.modalContent,children:[E("h2",{children:"Full Report"}),ee("p",{children:[E("strong",{children:"Reporter:"})," ",f.reporterUsername]}),ee("p",{children:[E("strong",{children:"Reporter ID:"})," ",f.reporterId]}),ee("p",{children:[E("strong",{children:"Reported User:"})," ",f.reportedUsername]}),ee("p",{children:[E("strong",{children:"Reported ID:"})," ",f.reportedUserId]}),ee("p",{children:[E("strong",{children:"Reason:"})," ",f.reason]}),ee("p",{children:[E("strong",{children:"Timestamp:"})," ",new Date(((T=f.timestamp)==null?void 0:T.seconds)*1e3).toLocaleString()]}),E("button",{className:Dr.closeModal,onClick:()=>p(null),children:"Close"})]})})]})]})},fh=({children:n})=>{const{userData:e}=Xo();return e?E(Ht,{children:n}):E(m$,{to:"/",replace:!0})},gz=S$([{path:"/",element:E(j$,{}),errorElement:E(wa,{})},{path:"/Admin",element:E(ez,{}),errorElement:E(wa,{})},{path:"/Admin-Chat",element:E(nz,{children:E(mz,{})}),errorElement:E(wa,{})},{path:"/Home",element:E(fh,{children:E(p6,{})}),errorElement:E(wa,{})},{path:"/Item/:itemsId",element:E(fh,{children:E(JH,{})}),errorElement:E(wa,{})},{path:"/User/:profileName",element:E(fh,{children:E(ZH,{})}),errorElement:E(wa,{})},{path:"/Dashboard",element:E(fh,{children:E(m6,{})}),errorElement:E(wa,{}),children:[{path:"/Dashboard/Post",element:E(GH,{})},{path:"/Dashboard/Profile",element:E(g6,{})},{path:"/Dashboard/Items",element:E(QH,{})},{path:"/Dashboard/Requests",element:E(XH,{})},{path:"/Dashboard/Messages",element:E(KH,{})}]}]);pP.createRoot(document.getElementById("root")).render(E(w.StrictMode,{children:E(tU,{children:E(f6,{children:E(D$,{router:gz})})})}));
