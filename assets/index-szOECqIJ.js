function iS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function xc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wm={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function tP(){if(xE)return lt;xE=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,x={};function k(F,ee,pe){this.props=F,this.context=ee,this.refs=x,this.updater=pe||R}k.prototype.isReactComponent={},k.prototype.setState=function(F,ee){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ee,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=k.prototype;function V(F,ee,pe){this.props=F,this.context=ee,this.refs=x,this.updater=pe||R}var H=V.prototype=new W;H.constructor=V,P(H,k.prototype),H.isPureReactComponent=!0;var B=Array.isArray,K=Object.prototype.hasOwnProperty,Y={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(F,ee,pe){var ve,Ie={},Ae=null,Ge=null;if(ee!=null)for(ve in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)K.call(ee,ve)&&!S.hasOwnProperty(ve)&&(Ie[ve]=ee[ve]);var Fe=arguments.length-2;if(Fe===1)Ie.children=pe;else if(1<Fe){for(var st=Array(Fe),Et=0;Et<Fe;Et++)st[Et]=arguments[Et+2];Ie.children=st}if(F&&F.defaultProps)for(ve in Fe=F.defaultProps,Fe)Ie[ve]===void 0&&(Ie[ve]=Fe[ve]);return{$$typeof:n,type:F,key:Ae,ref:Ge,props:Ie,_owner:Y.current}}function b(F,ee){return{$$typeof:n,type:F.type,key:ee,ref:F.ref,props:F.props,_owner:F._owner}}function O(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function L(F){var ee={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return ee[pe]})}var $=/\/+/g;function D(F,ee){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ee.toString(36)}function Ee(F,ee,pe,ve,Ie){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Ge=!1;if(F===null)Ge=!0;else switch(Ae){case"string":case"number":Ge=!0;break;case"object":switch(F.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=F,Ie=Ie(Ge),F=ve===""?"."+D(Ge,0):ve,B(Ie)?(pe="",F!=null&&(pe=F.replace($,"$&/")+"/"),Ee(Ie,ee,pe,"",function(Et){return Et})):Ie!=null&&(O(Ie)&&(Ie=b(Ie,pe+(!Ie.key||Ge&&Ge.key===Ie.key?"":(""+Ie.key).replace($,"$&/")+"/")+F)),ee.push(Ie)),1;if(Ge=0,ve=ve===""?".":ve+":",B(F))for(var Fe=0;Fe<F.length;Fe++){Ae=F[Fe];var st=ve+D(Ae,Fe);Ge+=Ee(Ae,ee,pe,st,Ie)}else if(st=T(F),typeof st=="function")for(F=st.call(F),Fe=0;!(Ae=F.next()).done;)Ae=Ae.value,st=ve+D(Ae,Fe++),Ge+=Ee(Ae,ee,pe,st,Ie);else if(Ae==="object")throw ee=String(F),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Le(F,ee,pe){if(F==null)return F;var ve=[],Ie=0;return Ee(F,ve,"","",function(Ae){return ee.call(pe,Ae,Ie++)}),ve}function He(F){if(F._status===-1){var ee=F._result;ee=ee(),ee.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=ee)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Y};function ue(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:Le,forEach:function(F,ee,pe){Le(F,function(){ee.apply(this,arguments)},pe)},count:function(F){var ee=0;return Le(F,function(){ee++}),ee},toArray:function(F){return Le(F,function(ee){return ee})||[]},only:function(F){if(!O(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},lt.Component=k,lt.Fragment=t,lt.Profiler=i,lt.PureComponent=V,lt.StrictMode=r,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,lt.act=ue,lt.cloneElement=function(F,ee,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ve=P({},F.props),Ie=F.key,Ae=F.ref,Ge=F._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,Ge=Y.current),ee.key!==void 0&&(Ie=""+ee.key),F.type&&F.type.defaultProps)var Fe=F.type.defaultProps;for(st in ee)K.call(ee,st)&&!S.hasOwnProperty(st)&&(ve[st]=ee[st]===void 0&&Fe!==void 0?Fe[st]:ee[st])}var st=arguments.length-2;if(st===1)ve.children=pe;else if(1<st){Fe=Array(st);for(var Et=0;Et<st;Et++)Fe[Et]=arguments[Et+2];ve.children=Fe}return{$$typeof:n,type:F.type,key:Ie,ref:Ae,props:ve,_owner:Ge}},lt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},lt.createElement=C,lt.createFactory=function(F){var ee=C.bind(null,F);return ee.type=F,ee},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:c,render:F}},lt.isValidElement=O,lt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:He}},lt.memo=function(F,ee){return{$$typeof:p,type:F,compare:ee===void 0?null:ee}},lt.startTransition=function(F){var ee=ne.transition;ne.transition={};try{F()}finally{ne.transition=ee}},lt.unstable_act=ue,lt.useCallback=function(F,ee){return Ne.current.useCallback(F,ee)},lt.useContext=function(F){return Ne.current.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},lt.useEffect=function(F,ee){return Ne.current.useEffect(F,ee)},lt.useId=function(){return Ne.current.useId()},lt.useImperativeHandle=function(F,ee,pe){return Ne.current.useImperativeHandle(F,ee,pe)},lt.useInsertionEffect=function(F,ee){return Ne.current.useInsertionEffect(F,ee)},lt.useLayoutEffect=function(F,ee){return Ne.current.useLayoutEffect(F,ee)},lt.useMemo=function(F,ee){return Ne.current.useMemo(F,ee)},lt.useReducer=function(F,ee,pe){return Ne.current.useReducer(F,ee,pe)},lt.useRef=function(F){return Ne.current.useRef(F)},lt.useState=function(F){return Ne.current.useState(F)},lt.useSyncExternalStore=function(F,ee,pe){return Ne.current.useSyncExternalStore(F,ee,pe)},lt.useTransition=function(){return Ne.current.useTransition()},lt.version="18.3.1",lt}var LE;function My(){return LE||(LE=1,Wm.exports=tP()),Wm.exports}var w=My();const fn=xc(w),nP=iS({__proto__:null,default:fn},[w]);var gf={},qm={exports:{}},pr={},Km={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function rP(){return ME||(ME=1,function(n){function e(ne,me){var ue=ne.length;ne.push(me);e:for(;0<ue;){var F=ue-1>>>1,ee=ne[F];if(0<i(ee,me))ne[F]=me,ne[ue]=ee,ue=F;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],ue=ne.pop();if(ue!==me){ne[0]=ue;e:for(var F=0,ee=ne.length,pe=ee>>>1;F<pe;){var ve=2*(F+1)-1,Ie=ne[ve],Ae=ve+1,Ge=ne[Ae];if(0>i(Ie,ue))Ae<ee&&0>i(Ge,Ie)?(ne[F]=Ge,ne[Ae]=ue,F=Ae):(ne[F]=Ie,ne[ve]=ue,F=ve);else if(Ae<ee&&0>i(Ge,ue))ne[F]=Ge,ne[Ae]=ue,F=Ae;else break e}}return me}function i(ne,me){var ue=ne.sortIndex-me.sortIndex;return ue!==0?ue:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],g=1,_=null,T=3,R=!1,P=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function B(ne){if(x=!1,H(ne),!P)if(t(f)!==null)P=!0,He(K);else{var me=t(p);me!==null&&Ne(B,me.startTime-ne)}}function K(ne,me){P=!1,x&&(x=!1,W(C),C=-1),R=!0;var ue=T;try{for(H(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ne&&!L());){var F=_.callback;if(typeof F=="function"){_.callback=null,T=_.priorityLevel;var ee=F(_.expirationTime<=me);me=n.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(f)&&r(f),H(me)}else r(f);_=t(f)}if(_!==null)var pe=!0;else{var ve=t(p);ve!==null&&Ne(B,ve.startTime-me),pe=!1}return pe}finally{_=null,T=ue,R=!1}}var Y=!1,S=null,C=-1,b=5,O=-1;function L(){return!(n.unstable_now()-O<b)}function $(){if(S!==null){var ne=n.unstable_now();O=ne;var me=!0;try{me=S(!0,ne)}finally{me?D():(Y=!1,S=null)}}else Y=!1}var D;if(typeof V=="function")D=function(){V($)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Le=Ee.port2;Ee.port1.onmessage=$,D=function(){Le.postMessage(null)}}else D=function(){k($,0)};function He(ne){S=ne,Y||(Y=!0,D())}function Ne(ne,me){C=k(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){P||R||(P=!0,He(K))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ue=T;T=me;try{return ne()}finally{T=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=T;T=ne;try{return me()}finally{T=ue}},n.unstable_scheduleCallback=function(ne,me,ue){var F=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?F+ue:F):ue=F,ne){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,ne={id:g++,callback:me,priorityLevel:ne,startTime:ue,expirationTime:ee,sortIndex:-1},ue>F?(ne.sortIndex=ue,e(p,ne),t(f)===null&&ne===t(p)&&(x?(W(C),C=-1):x=!0,Ne(B,ue-F))):(ne.sortIndex=ee,e(f,ne),P||R||(P=!0,He(K))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=T;return function(){var ue=T;T=me;try{return ne.apply(this,arguments)}finally{T=ue}}}}(Gm)),Gm}var VE;function iP(){return VE||(VE=1,Km.exports=rP()),Km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function sP(){if($E)return pr;$E=1;var n=My(),e=iP();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function T(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function R(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,u,h){if(o===null||typeof o>"u"||R(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(s,o,u,h,m,v,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new x(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(W,V);k[o]=new x(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(W,V);k[o]=new x(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(W,V);k[o]=new x(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function H(s,o,u,h){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,m,h)&&(u=null),h||m===null?T(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),Y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,F;function ee(s){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var pe=!1;function ve(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var h=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){h=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){h=Z}s()}}catch(Z){if(Z&&h&&typeof Z.stack=="string"){for(var m=Z.stack.split(`
`),v=h.stack.split(`
`),A=m.length-1,M=v.length-1;1<=A&&0<=M&&m[A]!==v[M];)M--;for(;1<=A&&0<=M;A--,M--)if(m[A]!==v[M]){if(A!==1||M!==1)do if(A--,M--,0>M||m[A]!==v[M]){var j=`
`+m[A].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=A&&0<=M);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function Ie(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case Y:return"Portal";case b:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case $:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case He:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=st(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(A){h=""+A,v.call(this,A)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function St(s){s._valueTracker||(s._valueTracker=Et(s))}function it(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=st(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Kt(s,o){var u=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function rt(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Fe(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ft(s,o){o=o.checked,o!=null&&H(s,"checked",o,!1)}function mn(s,o){Ft(s,o);var u=Fe(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Wn(s,o.type,u):o.hasOwnProperty("defaultValue")&&Wn(s,o.type,Fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Mr(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Wn(s,o,u){(o!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Bt=Array.isArray;function Jt(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Fe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function rr(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Dn(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Bt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Fe(u)}}function Dt(s,o){var u=Fe(o.value),h=Fe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function an(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ue(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ue(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ot,gn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ot.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function qn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Kn).forEach(function(s){ze.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Kn[o]=Kn[s]})});function ot(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Kn.hasOwnProperty(s)&&Kn[s]?(""+o).trim():o+"px"}function yn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ot(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var ir=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yi(s,o){if(o){if(ir[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Vo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function Zr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hi=null,On=null,sr=null;function Ns(s){if(s=Du(s)){if(typeof Hi!="function")throw Error(t(280));var o=s.stateNode;o&&(o=kd(o),Hi(s.stateNode,s.type,o))}}function wr(s){On?sr?sr.push(s):sr=[s]:On=s}function $o(){if(On){var s=On,o=sr;if(sr=On=null,Ns(s),o)for(s=0;s<o.length;s++)Ns(o[s])}}function _i(s,o){return s(o)}function wi(){}var or=!1;function Uo(s,o,u){if(or)return s(o,u);or=!0;try{return _i(s,o,u)}finally{or=!1,(On!==null||sr!==null)&&(wi(),$o())}}function Ht(s,o){var u=s.stateNode;if(u===null)return null;var h=kd(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var U=!1;if(c)try{var q={};Object.defineProperty(q,"passive",{get:function(){U=!0}}),window.addEventListener("test",q,q),window.removeEventListener("test",q,q)}catch{U=!1}function J(s,o,u,h,m,v,A,M,j){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(u,Z)}catch(ce){this.onError(ce)}}var ie=!1,_e=null,ke=!1,Qe=null,Pe={onError:function(s){ie=!0,_e=s}};function Re(s,o,u,h,m,v,A,M,j){ie=!1,_e=null,J.apply(Pe,arguments)}function Se(s,o,u,h,m,v,A,M,j){if(Re.apply(this,arguments),ie){if(ie){var Z=_e;ie=!1,_e=null}else throw Error(t(198));ke||(ke=!0,Qe=Z)}}function De(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function et(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Je(s){if(De(s)!==s)throw Error(t(188))}function Gt(s){var o=s.alternate;if(!o){if(o=De(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Je(m),s;if(v===h)return Je(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==h.return)u=m,h=v;else{for(var A=!1,M=m.child;M;){if(M===u){A=!0,u=m,h=v;break}if(M===h){A=!0,h=m,u=v;break}M=M.sibling}if(!A){for(M=v.child;M;){if(M===u){A=!0,u=v,h=m;break}if(M===h){A=!0,h=v,u=m;break}M=M.sibling}if(!A)throw Error(t(189))}}if(u.alternate!==h)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Tt(s){return s=Gt(s),s!==null?at(s):null}function at(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=at(s);if(o!==null)return o;s=s.sibling}return null}var Rt=e.unstable_scheduleCallback,Vr=e.unstable_cancelCallback,Ei=e.unstable_shouldYield,Er=e.unstable_requestPaint,ct=e.unstable_now,ks=e.unstable_getCurrentPriorityLevel,Tr=e.unstable_ImmediatePriority,xn=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Ti=e.unstable_LowPriority,dt=e.unstable_IdlePriority,Ct=null,Zt=null;function Ii(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Da,$r=Math.log,jo=Math.LN2;function Da(s){return s>>>=0,s===0?32:31-($r(s)/jo|0)|0}var Oa=64,xa=4194304;function Ps(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Fo(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,A=u&268435455;if(A!==0){var M=A&~m;M!==0?h=Ps(M):(v&=A,v!==0&&(h=Ps(v)))}else A=u&~m,A!==0?h=Ps(A):v!==0&&(h=Ps(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ft(o),m=1<<u,h|=s[u],o&=~m;return h}function Ep(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zi(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var A=31-ft(v),M=1<<A,j=m[A];j===-1?((M&u)===0||(M&h)!==0)&&(m[A]=Ep(M,o)):j<=o&&(s.expiredLanes|=M),v&=~M}}function Ir(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Bo(){var s=Oa;return Oa<<=1,(Oa&4194240)===0&&(Oa=64),s}function Ds(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Os(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ft(o),s[o]=u}function Pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-ft(u),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~v}}function xs(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ft(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var gt=0;function Ls(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ud,La,cd,dd,fd,yu=!1,Si=[],Sn=null,ei=null,ti=null,Ms=new Map,Ur=new Map,Ci=[],Tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(s,o){switch(s){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Ms.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(o.pointerId)}}function ar(s,o,u,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Du(o),o!==null&&La(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Ip(s,o,u,h,m){switch(o){case"focusin":return Sn=ar(Sn,s,o,u,h,m),!0;case"dragenter":return ei=ar(ei,s,o,u,h,m),!0;case"mouseover":return ti=ar(ti,s,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Ms.set(v,ar(Ms.get(v)||null,s,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Ur.set(v,ar(Ur.get(v)||null,s,o,u,h,m)),!0}return!1}function pd(s){var o=Ko(s.target);if(o!==null){var u=De(o);if(u!==null){if(o=u.tag,o===13){if(o=et(u),o!==null){s.blockedOn=o,fd(s.priority,function(){cd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wi(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Ma(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);vi=h,u.target.dispatchEvent(h),vi=null}else return o=Du(u),o!==null&&La(o),s.blockedOn=u,!1;o.shift()}return!0}function Ho(s,o,u){Wi(s)&&u.delete(o)}function md(){yu=!1,Sn!==null&&Wi(Sn)&&(Sn=null),ei!==null&&Wi(ei)&&(ei=null),ti!==null&&Wi(ti)&&(ti=null),Ms.forEach(Ho),Ur.forEach(Ho)}function ni(s,o){s.blockedOn===o&&(s.blockedOn=null,yu||(yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,md)))}function ri(s){function o(m){return ni(m,s)}if(0<Si.length){ni(Si[0],s);for(var u=1;u<Si.length;u++){var h=Si[u];h.blockedOn===s&&(h.blockedOn=null)}}for(Sn!==null&&ni(Sn,s),ei!==null&&ni(ei,s),ti!==null&&ni(ti,s),Ms.forEach(o),Ur.forEach(o),u=0;u<Ci.length;u++)h=Ci[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Ci.length&&(u=Ci[0],u.blockedOn===null);)pd(u),u.blockedOn===null&&Ci.shift()}var qi=B.ReactCurrentBatchConfig,Vs=!0;function $t(s,o,u,h){var m=gt,v=qi.transition;qi.transition=null;try{gt=1,vu(s,o,u,h)}finally{gt=m,qi.transition=v}}function Sp(s,o,u,h){var m=gt,v=qi.transition;qi.transition=null;try{gt=4,vu(s,o,u,h)}finally{gt=m,qi.transition=v}}function vu(s,o,u,h){if(Vs){var m=Ma(s,o,u,h);if(m===null)Lp(s,o,h,zo,u),hd(s,h);else if(Ip(m,s,o,u,h))h.stopPropagation();else if(hd(s,h),o&4&&-1<Tp.indexOf(s)){for(;m!==null;){var v=Du(m);if(v!==null&&ud(v),v=Ma(s,o,u,h),v===null&&Lp(s,o,h,zo,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else Lp(s,o,h,null,u)}}var zo=null;function Ma(s,o,u,h){if(zo=null,s=Zr(h),s=Ko(s),s!==null)if(o=De(s),o===null)s=null;else if(u=o.tag,u===13){if(s=et(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return zo=s,null}function _u(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ks()){case Tr:return 1;case xn:return 4;case In:case Ti:return 16;case dt:return 536870912;default:return 16}default:return 16}}var Sr=null,Va=null,lr=null;function wu(){if(lr)return lr;var s,o=Va,u=o.length,h,m="value"in Sr?Sr.value:Sr.textContent,v=m.length;for(s=0;s<u&&o[s]===m[s];s++);var A=u-s;for(h=1;h<=A&&o[u-h]===m[v-h];h++);return lr=m.slice(s,1<h?1-h:void 0)}function $a(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ai(){return!0}function Eu(){return!1}function Cn(s){function o(u,h,m,v,A){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ai:Eu,this.isPropagationStopped=Eu,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),o}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Cn(ii),Ri=ue({},ii,{view:0,detail:0}),Cp=Cn(Ri),ja,Ki,$s,Wo=ue({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$s&&($s&&s.type==="mousemove"?(ja=s.screenX-$s.screenX,Ki=s.screenY-$s.screenY):Ki=ja=0,$s=s),ja)},movementY:function(s){return"movementY"in s?s.movementY:Ki}}),Fa=Cn(Wo),Tu=ue({},Wo,{dataTransfer:0}),gd=Cn(Tu),Ba=ue({},Ri,{relatedTarget:0}),Ha=Cn(Ba),yd=ue({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=Cn(yd),vd=ue({},ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_d=Cn(vd),wd=ue({},ii,{data:0}),Iu=Cn(wd),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Td(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ed[s])?!!o[s]:!1}function bi(){return Td}var d=ue({},Ri,{key:function(s){if(s.key){var o=za[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bi,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Cn(d),E=ue({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=Cn(E),G=ue({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bi}),te=Cn(G),ge=ue({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Cn(ge),ln=ue({},Wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=Cn(ln),vn=[9,13,27,32],en=c&&"CompositionEvent"in window,jr=null;c&&"documentMode"in document&&(jr=document.documentMode);var Cr=c&&"TextEvent"in window&&!jr,qo=c&&(!en||jr&&8<jr&&11>=jr),Wa=" ",b_=!1;function N_(s,o){switch(s){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qa=!1;function JN(s,o){switch(s){case"compositionend":return k_(o);case"keypress":return o.which!==32?null:(b_=!0,Wa);case"textInput":return s=o.data,s===Wa&&b_?null:s;default:return null}}function ZN(s,o){if(qa)return s==="compositionend"||!en&&N_(s,o)?(s=wu(),lr=Va=Sr=null,qa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return qo&&o.locale!=="ko"?null:o.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ek[s.type]:o==="textarea"}function D_(s,o,u,h){wr(h),o=Rd(o,"onChange"),0<o.length&&(u=new Ua("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Su=null,Cu=null;function tk(s){Y_(s,0)}function Id(s){var o=Xa(s);if(it(o))return s}function nk(s,o){if(s==="change")return o}var O_=!1;if(c){var Ap;if(c){var Rp="oninput"in document;if(!Rp){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Rp=typeof x_.oninput=="function"}Ap=Rp}else Ap=!1;O_=Ap&&(!document.documentMode||9<document.documentMode)}function L_(){Su&&(Su.detachEvent("onpropertychange",M_),Cu=Su=null)}function M_(s){if(s.propertyName==="value"&&Id(Cu)){var o=[];D_(o,Cu,s,Zr(s)),Uo(tk,o)}}function rk(s,o,u){s==="focusin"?(L_(),Su=o,Cu=u,Su.attachEvent("onpropertychange",M_)):s==="focusout"&&L_()}function ik(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Id(Cu)}function sk(s,o){if(s==="click")return Id(o)}function ok(s,o){if(s==="input"||s==="change")return Id(o)}function ak(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var si=typeof Object.is=="function"?Object.is:ak;function Au(s,o){if(si(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!si(s[m],o[m]))return!1}return!0}function V_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function $_(s,o){var u=V_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=V_(u)}}function U_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?U_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function j_(){for(var s=window,o=kt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=kt(s.document)}return o}function bp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function lk(s){var o=j_(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&U_(u.ownerDocument.documentElement,u)){if(h!==null&&bp(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=$_(u,v);var A=$_(u,h);m&&A&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var uk=c&&"documentMode"in document&&11>=document.documentMode,Ka=null,Np=null,Ru=null,kp=!1;function F_(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;kp||Ka==null||Ka!==kt(h)||(h=Ka,"selectionStart"in h&&bp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ru&&Au(Ru,h)||(Ru=h,h=Rd(Np,"onSelect"),0<h.length&&(o=new Ua("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Ka)))}function Sd(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ga={animationend:Sd("Animation","AnimationEnd"),animationiteration:Sd("Animation","AnimationIteration"),animationstart:Sd("Animation","AnimationStart"),transitionend:Sd("Transition","TransitionEnd")},Pp={},B_={};c&&(B_=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Cd(s){if(Pp[s])return Pp[s];if(!Ga[s])return s;var o=Ga[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in B_)return Pp[s]=o[u];return s}var H_=Cd("animationend"),z_=Cd("animationiteration"),W_=Cd("animationstart"),q_=Cd("transitionend"),K_=new Map,G_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(s,o){K_.set(s,o),a(o,[s])}for(var Dp=0;Dp<G_.length;Dp++){var Op=G_[Dp],ck=Op.toLowerCase(),dk=Op[0].toUpperCase()+Op.slice(1);Us(ck,"on"+dk)}Us(H_,"onAnimationEnd"),Us(z_,"onAnimationIteration"),Us(W_,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(q_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fk=new Set("cancel close invalid load scroll toggle".split(" ").concat(bu));function Q_(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,Se(h,o,void 0,s),s.currentTarget=null}function Y_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var A=h.length-1;0<=A;A--){var M=h[A],j=M.instance,Z=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;Q_(m,M,Z),v=j}else for(A=0;A<h.length;A++){if(M=h[A],j=M.instance,Z=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;Q_(m,M,Z),v=j}}}if(ke)throw s=Qe,ke=!1,Qe=null,s}function Lt(s,o){var u=o[Fp];u===void 0&&(u=o[Fp]=new Set);var h=s+"__bubble";u.has(h)||(X_(o,s,2,!1),u.add(h))}function xp(s,o,u){var h=0;o&&(h|=4),X_(u,s,h,o)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Nu(s){if(!s[Ad]){s[Ad]=!0,r.forEach(function(u){u!=="selectionchange"&&(fk.has(u)||xp(u,!1,s),xp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ad]||(o[Ad]=!0,xp("selectionchange",!1,o))}}function X_(s,o,u,h){switch(_u(o)){case 1:var m=$t;break;case 4:m=Sp;break;default:m=vu}u=m.bind(null,o,u,s),m=void 0,!U||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Lp(s,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var M=h.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(A===4)for(A=h.return;A!==null;){var j=A.tag;if((j===3||j===4)&&(j=A.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;A=A.return}for(;M!==null;){if(A=Ko(M),A===null)return;if(j=A.tag,j===5||j===6){h=v=A;continue e}M=M.parentNode}}h=h.return}Uo(function(){var Z=v,ce=Zr(u),fe=[];e:{var le=K_.get(s);if(le!==void 0){var Ce=Ua,Me=s;switch(s){case"keypress":if($a(u)===0)break e;case"keydown":case"keyup":Ce=y;break;case"focusin":Me="focus",Ce=Ha;break;case"focusout":Me="blur",Ce=Ha;break;case"beforeblur":case"afterblur":Ce=Ha;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=te;break;case H_:case z_:case W_:Ce=Gi;break;case q_:Ce=bt;break;case"scroll":Ce=Cp;break;case"wheel":Ce=vt;break;case"copy":case"cut":case"paste":Ce=_d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=N}var Ve=(o&4)!==0,Yt=!Ve&&s==="scroll",Q=Ve?le!==null?le+"Capture":null:le;Ve=[];for(var z=Z,X;z!==null;){X=z;var he=X.stateNode;if(X.tag===5&&he!==null&&(X=he,Q!==null&&(he=Ht(z,Q),he!=null&&Ve.push(ku(z,he,X)))),Yt)break;z=z.return}0<Ve.length&&(le=new Ce(le,Me,null,u,ce),fe.push({event:le,listeners:Ve}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",le&&u!==vi&&(Me=u.relatedTarget||u.fromElement)&&(Ko(Me)||Me[Qi]))break e;if((Ce||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,Ce?(Me=u.relatedTarget||u.toElement,Ce=Z,Me=Me?Ko(Me):null,Me!==null&&(Yt=De(Me),Me!==Yt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ce=null,Me=Z),Ce!==Me)){if(Ve=Fa,he="onMouseLeave",Q="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ve=N,he="onPointerLeave",Q="onPointerEnter",z="pointer"),Yt=Ce==null?le:Xa(Ce),X=Me==null?le:Xa(Me),le=new Ve(he,z+"leave",Ce,u,ce),le.target=Yt,le.relatedTarget=X,he=null,Ko(ce)===Z&&(Ve=new Ve(Q,z+"enter",Me,u,ce),Ve.target=X,Ve.relatedTarget=Yt,he=Ve),Yt=he,Ce&&Me)t:{for(Ve=Ce,Q=Me,z=0,X=Ve;X;X=Qa(X))z++;for(X=0,he=Q;he;he=Qa(he))X++;for(;0<z-X;)Ve=Qa(Ve),z--;for(;0<X-z;)Q=Qa(Q),X--;for(;z--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=Qa(Ve),Q=Qa(Q)}Ve=null}else Ve=null;Ce!==null&&J_(fe,le,Ce,Ve,!1),Me!==null&&Yt!==null&&J_(fe,Yt,Me,Ve,!0)}}e:{if(le=Z?Xa(Z):window,Ce=le.nodeName&&le.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&le.type==="file")var $e=nk;else if(P_(le))if(O_)$e=ok;else{$e=ik;var qe=rk}else(Ce=le.nodeName)&&Ce.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&($e=sk);if($e&&($e=$e(s,Z))){D_(fe,$e,u,ce);break e}qe&&qe(s,le,Z),s==="focusout"&&(qe=le._wrapperState)&&qe.controlled&&le.type==="number"&&Wn(le,"number",le.value)}switch(qe=Z?Xa(Z):window,s){case"focusin":(P_(qe)||qe.contentEditable==="true")&&(Ka=qe,Np=Z,Ru=null);break;case"focusout":Ru=Np=Ka=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,F_(fe,u,ce);break;case"selectionchange":if(uk)break;case"keydown":case"keyup":F_(fe,u,ce)}var Ke;if(en)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else qa?N_(s,u)&&(Xe="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(qo&&u.locale!=="ko"&&(qa||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&qa&&(Ke=wu()):(Sr=ce,Va="value"in Sr?Sr.value:Sr.textContent,qa=!0)),qe=Rd(Z,Xe),0<qe.length&&(Xe=new Iu(Xe,s,null,u,ce),fe.push({event:Xe,listeners:qe}),Ke?Xe.data=Ke:(Ke=k_(u),Ke!==null&&(Xe.data=Ke)))),(Ke=Cr?JN(s,u):ZN(s,u))&&(Z=Rd(Z,"onBeforeInput"),0<Z.length&&(ce=new Iu("onBeforeInput","beforeinput",null,u,ce),fe.push({event:ce,listeners:Z}),ce.data=Ke))}Y_(fe,o)})}function ku(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Rd(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ht(s,u),v!=null&&h.unshift(ku(s,v,m)),v=Ht(s,o),v!=null&&h.push(ku(s,v,m))),s=s.return}return h}function Qa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function J_(s,o,u,h,m){for(var v=o._reactName,A=[];u!==null&&u!==h;){var M=u,j=M.alternate,Z=M.stateNode;if(j!==null&&j===h)break;M.tag===5&&Z!==null&&(M=Z,m?(j=Ht(u,v),j!=null&&A.unshift(ku(u,j,M))):m||(j=Ht(u,v),j!=null&&A.push(ku(u,j,M)))),u=u.return}A.length!==0&&s.push({event:o,listeners:A})}var hk=/\r\n?/g,pk=/\u0000|\uFFFD/g;function Z_(s){return(typeof s=="string"?s:""+s).replace(hk,`
`).replace(pk,"")}function bd(s,o,u){if(o=Z_(o),Z_(s)!==o&&u)throw Error(t(425))}function Nd(){}var Mp=null,Vp=null;function $p(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(s){return ew.resolve(null).then(s).catch(yk)}:Up;function yk(s){setTimeout(function(){throw s})}function jp(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),ri(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);ri(o)}function js(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function tw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),Ni="__reactFiber$"+Ya,Pu="__reactProps$"+Ya,Qi="__reactContainer$"+Ya,Fp="__reactEvents$"+Ya,vk="__reactListeners$"+Ya,_k="__reactHandles$"+Ya;function Ko(s){var o=s[Ni];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Qi]||u[Ni]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=tw(s);s!==null;){if(u=s[Ni])return u;s=tw(s)}return o}s=u,u=s.parentNode}return null}function Du(s){return s=s[Ni]||s[Qi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Xa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function kd(s){return s[Pu]||null}var Bp=[],Ja=-1;function Fs(s){return{current:s}}function Mt(s){0>Ja||(s.current=Bp[Ja],Bp[Ja]=null,Ja--)}function xt(s,o){Ja++,Bp[Ja]=s.current,s.current=o}var Bs={},Ln=Fs(Bs),ur=Fs(!1),Go=Bs;function Za(s,o){var u=s.type.contextTypes;if(!u)return Bs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function cr(s){return s=s.childContextTypes,s!=null}function Pd(){Mt(ur),Mt(Ln)}function nw(s,o,u){if(Ln.current!==Bs)throw Error(t(168));xt(Ln,o),xt(ur,u)}function rw(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ge(s)||"Unknown",m));return ue({},u,h)}function Dd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bs,Go=Ln.current,xt(Ln,s),xt(ur,ur.current),!0}function iw(s,o,u){var h=s.stateNode;if(!h)throw Error(t(169));u?(s=rw(s,o,Go),h.__reactInternalMemoizedMergedChildContext=s,Mt(ur),Mt(Ln),xt(Ln,s)):Mt(ur),xt(ur,u)}var Yi=null,Od=!1,Hp=!1;function sw(s){Yi===null?Yi=[s]:Yi.push(s)}function wk(s){Od=!0,sw(s)}function Hs(){if(!Hp&&Yi!==null){Hp=!0;var s=0,o=gt;try{var u=Yi;for(gt=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Yi=null,Od=!1}catch(m){throw Yi!==null&&(Yi=Yi.slice(s+1)),Rt(Tr,Hs),m}finally{gt=o,Hp=!1}}return null}var el=[],tl=0,xd=null,Ld=0,Fr=[],Br=0,Qo=null,Xi=1,Ji="";function Yo(s,o){el[tl++]=Ld,el[tl++]=xd,xd=s,Ld=o}function ow(s,o,u){Fr[Br++]=Xi,Fr[Br++]=Ji,Fr[Br++]=Qo,Qo=s;var h=Xi;s=Ji;var m=32-ft(h)-1;h&=~(1<<m),u+=1;var v=32-ft(o)+m;if(30<v){var A=m-m%5;v=(h&(1<<A)-1).toString(32),h>>=A,m-=A,Xi=1<<32-ft(o)+m|u<<m|h,Ji=v+s}else Xi=1<<v|u<<m|h,Ji=s}function zp(s){s.return!==null&&(Yo(s,1),ow(s,1,0))}function Wp(s){for(;s===xd;)xd=el[--tl],el[tl]=null,Ld=el[--tl],el[tl]=null;for(;s===Qo;)Qo=Fr[--Br],Fr[Br]=null,Ji=Fr[--Br],Fr[Br]=null,Xi=Fr[--Br],Fr[Br]=null}var Ar=null,Rr=null,Ut=!1,oi=null;function aw(s,o){var u=qr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function lw(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Ar=s,Rr=js(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Ar=s,Rr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Qo!==null?{id:Xi,overflow:Ji}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=qr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Ar=s,Rr=null,!0):!1;default:return!1}}function qp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Kp(s){if(Ut){var o=Rr;if(o){var u=o;if(!lw(s,o)){if(qp(s))throw Error(t(418));o=js(u.nextSibling);var h=Ar;o&&lw(s,o)?aw(h,u):(s.flags=s.flags&-4097|2,Ut=!1,Ar=s)}}else{if(qp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ut=!1,Ar=s}}}function uw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ar=s}function Md(s){if(s!==Ar)return!1;if(!Ut)return uw(s),Ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!$p(s.type,s.memoizedProps)),o&&(o=Rr)){if(qp(s))throw cw(),Error(t(418));for(;o;)aw(s,o),o=js(o.nextSibling)}if(uw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Rr=js(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Rr=null}}else Rr=Ar?js(s.stateNode.nextSibling):null;return!0}function cw(){for(var s=Rr;s;)s=js(s.nextSibling)}function nl(){Rr=Ar=null,Ut=!1}function Gp(s){oi===null?oi=[s]:oi.push(s)}var Ek=B.ReactCurrentBatchConfig;function Ou(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var h=u.stateNode}if(!h)throw Error(t(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(A){var M=m.refs;A===null?delete M[v]:M[v]=A},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Vd(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function dw(s){var o=s._init;return o(s._payload)}function fw(s){function o(Q,z){if(s){var X=Q.deletions;X===null?(Q.deletions=[z],Q.flags|=16):X.push(z)}}function u(Q,z){if(!s)return null;for(;z!==null;)o(Q,z),z=z.sibling;return null}function h(Q,z){for(Q=new Map;z!==null;)z.key!==null?Q.set(z.key,z):Q.set(z.index,z),z=z.sibling;return Q}function m(Q,z){return Q=Xs(Q,z),Q.index=0,Q.sibling=null,Q}function v(Q,z,X){return Q.index=X,s?(X=Q.alternate,X!==null?(X=X.index,X<z?(Q.flags|=2,z):X):(Q.flags|=2,z)):(Q.flags|=1048576,z)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=2),Q}function M(Q,z,X,he){return z===null||z.tag!==6?(z=Um(X,Q.mode,he),z.return=Q,z):(z=m(z,X),z.return=Q,z)}function j(Q,z,X,he){var $e=X.type;return $e===S?ce(Q,z,X.props.children,he,X.key):z!==null&&(z.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===He&&dw($e)===z.type)?(he=m(z,X.props),he.ref=Ou(Q,z,X),he.return=Q,he):(he=lf(X.type,X.key,X.props,null,Q.mode,he),he.ref=Ou(Q,z,X),he.return=Q,he)}function Z(Q,z,X,he){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=jm(X,Q.mode,he),z.return=Q,z):(z=m(z,X.children||[]),z.return=Q,z)}function ce(Q,z,X,he,$e){return z===null||z.tag!==7?(z=ia(X,Q.mode,he,$e),z.return=Q,z):(z=m(z,X),z.return=Q,z)}function fe(Q,z,X){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Um(""+z,Q.mode,X),z.return=Q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return X=lf(z.type,z.key,z.props,null,Q.mode,X),X.ref=Ou(Q,null,z),X.return=Q,X;case Y:return z=jm(z,Q.mode,X),z.return=Q,z;case He:var he=z._init;return fe(Q,he(z._payload),X)}if(Bt(z)||me(z))return z=ia(z,Q.mode,X,null),z.return=Q,z;Vd(Q,z)}return null}function le(Q,z,X,he){var $e=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return $e!==null?null:M(Q,z,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case K:return X.key===$e?j(Q,z,X,he):null;case Y:return X.key===$e?Z(Q,z,X,he):null;case He:return $e=X._init,le(Q,z,$e(X._payload),he)}if(Bt(X)||me(X))return $e!==null?null:ce(Q,z,X,he,null);Vd(Q,X)}return null}function Ce(Q,z,X,he,$e){if(typeof he=="string"&&he!==""||typeof he=="number")return Q=Q.get(X)||null,M(z,Q,""+he,$e);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case K:return Q=Q.get(he.key===null?X:he.key)||null,j(z,Q,he,$e);case Y:return Q=Q.get(he.key===null?X:he.key)||null,Z(z,Q,he,$e);case He:var qe=he._init;return Ce(Q,z,X,qe(he._payload),$e)}if(Bt(he)||me(he))return Q=Q.get(X)||null,ce(z,Q,he,$e,null);Vd(z,he)}return null}function Me(Q,z,X,he){for(var $e=null,qe=null,Ke=z,Xe=z=0,En=null;Ke!==null&&Xe<X.length;Xe++){Ke.index>Xe?(En=Ke,Ke=null):En=Ke.sibling;var It=le(Q,Ke,X[Xe],he);if(It===null){Ke===null&&(Ke=En);break}s&&Ke&&It.alternate===null&&o(Q,Ke),z=v(It,z,Xe),qe===null?$e=It:qe.sibling=It,qe=It,Ke=En}if(Xe===X.length)return u(Q,Ke),Ut&&Yo(Q,Xe),$e;if(Ke===null){for(;Xe<X.length;Xe++)Ke=fe(Q,X[Xe],he),Ke!==null&&(z=v(Ke,z,Xe),qe===null?$e=Ke:qe.sibling=Ke,qe=Ke);return Ut&&Yo(Q,Xe),$e}for(Ke=h(Q,Ke);Xe<X.length;Xe++)En=Ce(Ke,Q,Xe,X[Xe],he),En!==null&&(s&&En.alternate!==null&&Ke.delete(En.key===null?Xe:En.key),z=v(En,z,Xe),qe===null?$e=En:qe.sibling=En,qe=En);return s&&Ke.forEach(function(Js){return o(Q,Js)}),Ut&&Yo(Q,Xe),$e}function Ve(Q,z,X,he){var $e=me(X);if(typeof $e!="function")throw Error(t(150));if(X=$e.call(X),X==null)throw Error(t(151));for(var qe=$e=null,Ke=z,Xe=z=0,En=null,It=X.next();Ke!==null&&!It.done;Xe++,It=X.next()){Ke.index>Xe?(En=Ke,Ke=null):En=Ke.sibling;var Js=le(Q,Ke,It.value,he);if(Js===null){Ke===null&&(Ke=En);break}s&&Ke&&Js.alternate===null&&o(Q,Ke),z=v(Js,z,Xe),qe===null?$e=Js:qe.sibling=Js,qe=Js,Ke=En}if(It.done)return u(Q,Ke),Ut&&Yo(Q,Xe),$e;if(Ke===null){for(;!It.done;Xe++,It=X.next())It=fe(Q,It.value,he),It!==null&&(z=v(It,z,Xe),qe===null?$e=It:qe.sibling=It,qe=It);return Ut&&Yo(Q,Xe),$e}for(Ke=h(Q,Ke);!It.done;Xe++,It=X.next())It=Ce(Ke,Q,Xe,It.value,he),It!==null&&(s&&It.alternate!==null&&Ke.delete(It.key===null?Xe:It.key),z=v(It,z,Xe),qe===null?$e=It:qe.sibling=It,qe=It);return s&&Ke.forEach(function(eP){return o(Q,eP)}),Ut&&Yo(Q,Xe),$e}function Yt(Q,z,X,he){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case K:e:{for(var $e=X.key,qe=z;qe!==null;){if(qe.key===$e){if($e=X.type,$e===S){if(qe.tag===7){u(Q,qe.sibling),z=m(qe,X.props.children),z.return=Q,Q=z;break e}}else if(qe.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===He&&dw($e)===qe.type){u(Q,qe.sibling),z=m(qe,X.props),z.ref=Ou(Q,qe,X),z.return=Q,Q=z;break e}u(Q,qe);break}else o(Q,qe);qe=qe.sibling}X.type===S?(z=ia(X.props.children,Q.mode,he,X.key),z.return=Q,Q=z):(he=lf(X.type,X.key,X.props,null,Q.mode,he),he.ref=Ou(Q,z,X),he.return=Q,Q=he)}return A(Q);case Y:e:{for(qe=X.key;z!==null;){if(z.key===qe)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){u(Q,z.sibling),z=m(z,X.children||[]),z.return=Q,Q=z;break e}else{u(Q,z);break}else o(Q,z);z=z.sibling}z=jm(X,Q.mode,he),z.return=Q,Q=z}return A(Q);case He:return qe=X._init,Yt(Q,z,qe(X._payload),he)}if(Bt(X))return Me(Q,z,X,he);if(me(X))return Ve(Q,z,X,he);Vd(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,z!==null&&z.tag===6?(u(Q,z.sibling),z=m(z,X),z.return=Q,Q=z):(u(Q,z),z=Um(X,Q.mode,he),z.return=Q,Q=z),A(Q)):u(Q,z)}return Yt}var rl=fw(!0),hw=fw(!1),$d=Fs(null),Ud=null,il=null,Qp=null;function Yp(){Qp=il=Ud=null}function Xp(s){var o=$d.current;Mt($d),s._currentValue=o}function Jp(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function sl(s,o){Ud=s,Qp=il=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(dr=!0),s.firstContext=null)}function Hr(s){var o=s._currentValue;if(Qp!==s)if(s={context:s,memoizedValue:o,next:null},il===null){if(Ud===null)throw Error(t(308));il=s,Ud.dependencies={lanes:0,firstContext:s}}else il=il.next=s;return o}var Xo=null;function Zp(s){Xo===null?Xo=[s]:Xo.push(s)}function pw(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Zp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Zi(s,h)}function Zi(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var zs=!1;function em(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function es(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ws(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(wt&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Zi(s,u)}return m=h.interleaved,m===null?(o.next=o,Zp(h)):(o.next=m.next,m.next=o),h.interleaved=o,Zi(s,u)}function jd(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,xs(s,u)}}function gw(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=A:v=v.next=A,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Fd(s,o,u,h){var m=s.updateQueue;zs=!1;var v=m.firstBaseUpdate,A=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,Z=j.next;j.next=null,A===null?v=Z:A.next=Z,A=j;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==A&&(M===null?ce.firstBaseUpdate=Z:M.next=Z,ce.lastBaseUpdate=j))}if(v!==null){var fe=m.baseState;A=0,ce=Z=j=null,M=v;do{var le=M.lane,Ce=M.eventTime;if((h&le)===le){ce!==null&&(ce=ce.next={eventTime:Ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Me=s,Ve=M;switch(le=o,Ce=u,Ve.tag){case 1:if(Me=Ve.payload,typeof Me=="function"){fe=Me.call(Ce,fe,le);break e}fe=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ve.payload,le=typeof Me=="function"?Me.call(Ce,fe,le):Me,le==null)break e;fe=ue({},fe,le);break e;case 2:zs=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,le=m.effects,le===null?m.effects=[M]:le.push(M))}else Ce={eventTime:Ce,lane:le,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(Z=ce=Ce,j=fe):ce=ce.next=Ce,A|=le;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;le=M,M=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);if(ce===null&&(j=fe),m.baseState=j,m.firstBaseUpdate=Z,m.lastBaseUpdate=ce,o=m.shared.interleaved,o!==null){m=o;do A|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);ea|=A,s.lanes=A,s.memoizedState=fe}}function yw(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var xu={},ki=Fs(xu),Lu=Fs(xu),Mu=Fs(xu);function Jo(s){if(s===xu)throw Error(t(174));return s}function tm(s,o){switch(xt(Mu,o),xt(Lu,s),xt(ki,xu),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=mt(o,s)}Mt(ki),xt(ki,o)}function ol(){Mt(ki),Mt(Lu),Mt(Mu)}function vw(s){Jo(Mu.current);var o=Jo(ki.current),u=mt(o,s.type);o!==u&&(xt(Lu,s),xt(ki,u))}function nm(s){Lu.current===s&&(Mt(ki),Mt(Lu))}var zt=Fs(0);function Bd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var rm=[];function im(){for(var s=0;s<rm.length;s++)rm[s]._workInProgressVersionPrimary=null;rm.length=0}var Hd=B.ReactCurrentDispatcher,sm=B.ReactCurrentBatchConfig,Zo=0,Wt=null,un=null,_n=null,zd=!1,Vu=!1,$u=0,Tk=0;function Mn(){throw Error(t(321))}function om(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!si(s[u],o[u]))return!1;return!0}function am(s,o,u,h,m,v){if(Zo=v,Wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Hd.current=s===null||s.memoizedState===null?Ak:Rk,s=u(h,m),Vu){v=0;do{if(Vu=!1,$u=0,25<=v)throw Error(t(301));v+=1,_n=un=null,o.updateQueue=null,Hd.current=bk,s=u(h,m)}while(Vu)}if(Hd.current=Kd,o=un!==null&&un.next!==null,Zo=0,_n=un=Wt=null,zd=!1,o)throw Error(t(300));return s}function lm(){var s=$u!==0;return $u=0,s}function Pi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Wt.memoizedState=_n=s:_n=_n.next=s,_n}function zr(){if(un===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var o=_n===null?Wt.memoizedState:_n.next;if(o!==null)_n=o,un=s;else{if(s===null)throw Error(t(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},_n===null?Wt.memoizedState=_n=s:_n=_n.next=s}return _n}function Uu(s,o){return typeof o=="function"?o(s):o}function um(s){var o=zr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=un,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var A=m.next;m.next=v.next,v.next=A}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var M=A=null,j=null,Z=v;do{var ce=Z.lane;if((Zo&ce)===ce)j!==null&&(j=j.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),h=Z.hasEagerState?Z.eagerState:s(h,Z.action);else{var fe={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};j===null?(M=j=fe,A=h):j=j.next=fe,Wt.lanes|=ce,ea|=ce}Z=Z.next}while(Z!==null&&Z!==v);j===null?A=h:j.next=M,si(h,o.memoizedState)||(dr=!0),o.memoizedState=h,o.baseState=A,o.baseQueue=j,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do v=m.lane,Wt.lanes|=v,ea|=v,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function cm(s){var o=zr(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do v=s(v,A.action),A=A.next;while(A!==m);si(v,o.memoizedState)||(dr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function _w(){}function ww(s,o){var u=Wt,h=zr(),m=o(),v=!si(h.memoizedState,m);if(v&&(h.memoizedState=m,dr=!0),h=h.queue,dm(Iw.bind(null,u,h,s),[s]),h.getSnapshot!==o||v||_n!==null&&_n.memoizedState.tag&1){if(u.flags|=2048,ju(9,Tw.bind(null,u,h,m,o),void 0,null),wn===null)throw Error(t(349));(Zo&30)!==0||Ew(u,o,m)}return m}function Ew(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Tw(s,o,u,h){o.value=u,o.getSnapshot=h,Sw(o)&&Cw(s)}function Iw(s,o,u){return u(function(){Sw(o)&&Cw(s)})}function Sw(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!si(s,u)}catch{return!0}}function Cw(s){var o=Zi(s,1);o!==null&&ci(o,s,1,-1)}function Aw(s){var o=Pi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:s},o.queue=s,s=s.dispatch=Ck.bind(null,Wt,s),[o.memoizedState,s]}function ju(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Wt.updateQueue,o===null?(o={lastEffect:null,stores:null},Wt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function Rw(){return zr().memoizedState}function Wd(s,o,u,h){var m=Pi();Wt.flags|=s,m.memoizedState=ju(1|o,u,void 0,h===void 0?null:h)}function qd(s,o,u,h){var m=zr();h=h===void 0?null:h;var v=void 0;if(un!==null){var A=un.memoizedState;if(v=A.destroy,h!==null&&om(h,A.deps)){m.memoizedState=ju(o,u,v,h);return}}Wt.flags|=s,m.memoizedState=ju(1|o,u,v,h)}function bw(s,o){return Wd(8390656,8,s,o)}function dm(s,o){return qd(2048,8,s,o)}function Nw(s,o){return qd(4,2,s,o)}function kw(s,o){return qd(4,4,s,o)}function Pw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Dw(s,o,u){return u=u!=null?u.concat([s]):null,qd(4,4,Pw.bind(null,o,s),u)}function fm(){}function Ow(s,o){var u=zr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&om(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function xw(s,o){var u=zr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&om(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function Lw(s,o,u){return(Zo&21)===0?(s.baseState&&(s.baseState=!1,dr=!0),s.memoizedState=u):(si(u,o)||(u=Bo(),Wt.lanes|=u,ea|=u,s.baseState=!0),o)}function Ik(s,o){var u=gt;gt=u!==0&&4>u?u:4,s(!0);var h=sm.transition;sm.transition={};try{s(!1),o()}finally{gt=u,sm.transition=h}}function Mw(){return zr().memoizedState}function Sk(s,o,u){var h=Qs(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Vw(s))$w(o,u);else if(u=pw(s,o,u,h),u!==null){var m=Yn();ci(u,s,h,m),Uw(u,o,h)}}function Ck(s,o,u){var h=Qs(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vw(s))$w(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var A=o.lastRenderedState,M=v(A,u);if(m.hasEagerState=!0,m.eagerState=M,si(M,A)){var j=o.interleaved;j===null?(m.next=m,Zp(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=pw(s,o,m,h),u!==null&&(m=Yn(),ci(u,s,h,m),Uw(u,o,h))}}function Vw(s){var o=s.alternate;return s===Wt||o!==null&&o===Wt}function $w(s,o){Vu=zd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Uw(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,xs(s,u)}}var Kd={readContext:Hr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},Ak={readContext:Hr,useCallback:function(s,o){return Pi().memoizedState=[s,o===void 0?null:o],s},useContext:Hr,useEffect:bw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Wd(4194308,4,Pw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Wd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Wd(4,2,s,o)},useMemo:function(s,o){var u=Pi();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Pi();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=Sk.bind(null,Wt,s),[h.memoizedState,s]},useRef:function(s){var o=Pi();return s={current:s},o.memoizedState=s},useState:Aw,useDebugValue:fm,useDeferredValue:function(s){return Pi().memoizedState=s},useTransition:function(){var s=Aw(!1),o=s[0];return s=Ik.bind(null,s[1]),Pi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Wt,m=Pi();if(Ut){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),wn===null)throw Error(t(349));(Zo&30)!==0||Ew(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,bw(Iw.bind(null,h,v,s),[s]),h.flags|=2048,ju(9,Tw.bind(null,h,v,u,o),void 0,null),u},useId:function(){var s=Pi(),o=wn.identifierPrefix;if(Ut){var u=Ji,h=Xi;u=(h&~(1<<32-ft(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=$u++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Tk++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Rk={readContext:Hr,useCallback:Ow,useContext:Hr,useEffect:dm,useImperativeHandle:Dw,useInsertionEffect:Nw,useLayoutEffect:kw,useMemo:xw,useReducer:um,useRef:Rw,useState:function(){return um(Uu)},useDebugValue:fm,useDeferredValue:function(s){var o=zr();return Lw(o,un.memoizedState,s)},useTransition:function(){var s=um(Uu)[0],o=zr().memoizedState;return[s,o]},useMutableSource:_w,useSyncExternalStore:ww,useId:Mw,unstable_isNewReconciler:!1},bk={readContext:Hr,useCallback:Ow,useContext:Hr,useEffect:dm,useImperativeHandle:Dw,useInsertionEffect:Nw,useLayoutEffect:kw,useMemo:xw,useReducer:cm,useRef:Rw,useState:function(){return cm(Uu)},useDebugValue:fm,useDeferredValue:function(s){var o=zr();return un===null?o.memoizedState=s:Lw(o,un.memoizedState,s)},useTransition:function(){var s=cm(Uu)[0],o=zr().memoizedState;return[s,o]},useMutableSource:_w,useSyncExternalStore:ww,useId:Mw,unstable_isNewReconciler:!1};function ai(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function hm(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:ue({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Gd={isMounted:function(s){return(s=s._reactInternals)?De(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=Yn(),m=Qs(s),v=es(h,m);v.payload=o,u!=null&&(v.callback=u),o=Ws(s,v,m),o!==null&&(ci(o,s,m,h),jd(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=Yn(),m=Qs(s),v=es(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ws(s,v,m),o!==null&&(ci(o,s,m,h),jd(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Yn(),h=Qs(s),m=es(u,h);m.tag=2,o!=null&&(m.callback=o),o=Ws(s,m,h),o!==null&&(ci(o,s,h,u),jd(o,s,h))}};function jw(s,o,u,h,m,v,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,A):o.prototype&&o.prototype.isPureReactComponent?!Au(u,h)||!Au(m,v):!0}function Fw(s,o,u){var h=!1,m=Bs,v=o.contextType;return typeof v=="object"&&v!==null?v=Hr(v):(m=cr(o)?Go:Ln.current,h=o.contextTypes,v=(h=h!=null)?Za(s,m):Bs),o=new o(u,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gd,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Bw(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Gd.enqueueReplaceState(o,o.state,null)}function pm(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},em(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Hr(v):(v=cr(o)?Go:Ln.current,m.context=Za(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(hm(s,o,v,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Gd.enqueueReplaceState(m,m.state,null),Fd(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function al(s,o){try{var u="",h=o;do u+=Ie(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function mm(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function gm(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Nk=typeof WeakMap=="function"?WeakMap:Map;function Hw(s,o,u){u=es(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){tf||(tf=!0,Pm=h),gm(s,o)},u}function zw(s,o,u){u=es(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){gm(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){gm(s,o),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function Ww(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Nk;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=Hk.bind(null,s,o,u),o.then(s,s))}function qw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Kw(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=es(-1,1),o.tag=2,Ws(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var kk=B.ReactCurrentOwner,dr=!1;function Qn(s,o,u,h){o.child=s===null?hw(o,null,u,h):rl(o,s.child,u,h)}function Gw(s,o,u,h,m){u=u.render;var v=o.ref;return sl(o,m),h=am(s,o,u,h,v,m),u=lm(),s!==null&&!dr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ts(s,o,m)):(Ut&&u&&zp(o),o.flags|=1,Qn(s,o,h,m),o.child)}function Qw(s,o,u,h,m){if(s===null){var v=u.type;return typeof v=="function"&&!$m(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Yw(s,o,v,h,m)):(s=lf(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&m)===0){var A=v.memoizedProps;if(u=u.compare,u=u!==null?u:Au,u(A,h)&&s.ref===o.ref)return ts(s,o,m)}return o.flags|=1,s=Xs(v,h),s.ref=o.ref,s.return=o,o.child=s}function Yw(s,o,u,h,m){if(s!==null){var v=s.memoizedProps;if(Au(v,h)&&s.ref===o.ref)if(dr=!1,o.pendingProps=h=v,(s.lanes&m)!==0)(s.flags&131072)!==0&&(dr=!0);else return o.lanes=s.lanes,ts(s,o,m)}return ym(s,o,u,h,m)}function Xw(s,o,u){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ul,br),br|=u;else{if((u&1073741824)===0)return s=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,xt(ul,br),br|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,xt(ul,br),br|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,xt(ul,br),br|=h;return Qn(s,o,m,u),o.child}function Jw(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function ym(s,o,u,h,m){var v=cr(u)?Go:Ln.current;return v=Za(o,v),sl(o,m),u=am(s,o,u,h,v,m),h=lm(),s!==null&&!dr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ts(s,o,m)):(Ut&&h&&zp(o),o.flags|=1,Qn(s,o,u,m),o.child)}function Zw(s,o,u,h,m){if(cr(u)){var v=!0;Dd(o)}else v=!1;if(sl(o,m),o.stateNode===null)Yd(s,o),Fw(o,u,h),pm(o,u,h,m),h=!0;else if(s===null){var A=o.stateNode,M=o.memoizedProps;A.props=M;var j=A.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Hr(Z):(Z=cr(u)?Go:Ln.current,Z=Za(o,Z));var ce=u.getDerivedStateFromProps,fe=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function";fe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==h||j!==Z)&&Bw(o,A,h,Z),zs=!1;var le=o.memoizedState;A.state=le,Fd(o,h,A,m),j=o.memoizedState,M!==h||le!==j||ur.current||zs?(typeof ce=="function"&&(hm(o,u,ce,h),j=o.memoizedState),(M=zs||jw(o,u,M,h,le,j,Z))?(fe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=j),A.props=h,A.state=j,A.context=Z,h=M):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{A=o.stateNode,mw(s,o),M=o.memoizedProps,Z=o.type===o.elementType?M:ai(o.type,M),A.props=Z,fe=o.pendingProps,le=A.context,j=u.contextType,typeof j=="object"&&j!==null?j=Hr(j):(j=cr(u)?Go:Ln.current,j=Za(o,j));var Ce=u.getDerivedStateFromProps;(ce=typeof Ce=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==fe||le!==j)&&Bw(o,A,h,j),zs=!1,le=o.memoizedState,A.state=le,Fd(o,h,A,m);var Me=o.memoizedState;M!==fe||le!==Me||ur.current||zs?(typeof Ce=="function"&&(hm(o,u,Ce,h),Me=o.memoizedState),(Z=zs||jw(o,u,Z,h,le,Me,j)||!1)?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Me,j),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Me,j)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Me),A.props=h,A.state=Me,A.context=j,h=Z):(typeof A.componentDidUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),h=!1)}return vm(s,o,u,h,v,m)}function vm(s,o,u,h,m,v){Jw(s,o);var A=(o.flags&128)!==0;if(!h&&!A)return m&&iw(o,u,!1),ts(s,o,v);h=o.stateNode,kk.current=o;var M=A&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&A?(o.child=rl(o,s.child,null,v),o.child=rl(o,null,M,v)):Qn(s,o,M,v),o.memoizedState=h.state,m&&iw(o,u,!0),o.child}function eE(s){var o=s.stateNode;o.pendingContext?nw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&nw(s,o.context,!1),tm(s,o.containerInfo)}function tE(s,o,u,h,m){return nl(),Gp(m),o.flags|=256,Qn(s,o,u,h),o.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function wm(s){return{baseLanes:s,cachePool:null,transitions:null}}function nE(s,o,u){var h=o.pendingProps,m=zt.current,v=!1,A=(o.flags&128)!==0,M;if((M=A)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),xt(zt,m&1),s===null)return Kp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=h.children,s=h.fallback,v?(h=o.mode,v=o.child,A={mode:"hidden",children:A},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=A):v=uf(A,h,0,null),s=ia(s,h,u,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=wm(u),o.memoizedState=_m,s):Em(o,A));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return Pk(s,o,A,h,M,m,u);if(v){v=h.fallback,A=o.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:h.children};return(A&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=j,o.deletions=null):(h=Xs(m,j),h.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Xs(M,v):(v=ia(v,A,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,A=s.child.memoizedState,A=A===null?wm(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},v.memoizedState=A,v.childLanes=s.childLanes&~u,o.memoizedState=_m,h}return v=s.child,s=v.sibling,h=Xs(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function Em(s,o){return o=uf({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Qd(s,o,u,h){return h!==null&&Gp(h),rl(o,s.child,null,u),s=Em(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Pk(s,o,u,h,m,v,A){if(u)return o.flags&256?(o.flags&=-257,h=mm(Error(t(422))),Qd(s,o,A,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=uf({mode:"visible",children:h.children},m,0,null),v=ia(v,m,A,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&rl(o,s.child,null,A),o.child.memoizedState=wm(A),o.memoizedState=_m,v);if((o.mode&1)===0)return Qd(s,o,A,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(t(419)),h=mm(v,h,void 0),Qd(s,o,A,h)}if(M=(A&s.childLanes)!==0,dr||M){if(h=wn,h!==null){switch(A&-A){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|A))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Zi(s,m),ci(h,s,m,-1))}return Vm(),h=mm(Error(t(421))),Qd(s,o,A,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=zk.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,Rr=js(m.nextSibling),Ar=o,Ut=!0,oi=null,s!==null&&(Fr[Br++]=Xi,Fr[Br++]=Ji,Fr[Br++]=Qo,Xi=s.id,Ji=s.overflow,Qo=o),o=Em(o,h.children),o.flags|=4096,o)}function rE(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Jp(s.return,o,u)}function Tm(s,o,u,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function iE(s,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Qn(s,o,h.children,u),h=zt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rE(s,u,o);else if(s.tag===19)rE(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(xt(zt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Bd(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Tm(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Bd(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Tm(o,!0,u,null,v);break;case"together":Tm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ts(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ea|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Xs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Xs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Dk(s,o,u){switch(o.tag){case 3:eE(o),nl();break;case 5:vw(o);break;case 1:cr(o.type)&&Dd(o);break;case 4:tm(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;xt($d,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?nE(s,o,u):(xt(zt,zt.current&1),s=ts(s,o,u),s!==null?s.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return iE(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return o.lanes=0,Xw(s,o,u)}return ts(s,o,u)}var sE,Im,oE,aE;sE=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Im=function(){},oE=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,Jo(ki.current);var v=null;switch(u){case"input":m=Kt(s,m),h=Kt(s,h),v=[];break;case"select":m=ue({},m,{value:void 0}),h=ue({},h,{value:void 0}),v=[];break;case"textarea":m=rr(s,m),h=rr(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Nd)}yi(u,h);var A;u=null;for(Z in m)if(!h.hasOwnProperty(Z)&&m.hasOwnProperty(Z)&&m[Z]!=null)if(Z==="style"){var M=m[Z];for(A in M)M.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?v||(v=[]):(v=v||[]).push(Z,null));for(Z in h){var j=h[Z];if(M=m!=null?m[Z]:void 0,h.hasOwnProperty(Z)&&j!==M&&(j!=null||M!=null))if(Z==="style")if(M){for(A in M)!M.hasOwnProperty(A)||j&&j.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in j)j.hasOwnProperty(A)&&M[A]!==j[A]&&(u||(u={}),u[A]=j[A])}else u||(v||(v=[]),v.push(Z,u)),u=j;else Z==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(Z,j)):Z==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(Z,""+j):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(j!=null&&Z==="onScroll"&&Lt("scroll",s),v||M===j||(v=[])):(v=v||[]).push(Z,j))}u&&(v=v||[]).push("style",u);var Z=v;(o.updateQueue=Z)&&(o.flags|=4)}},aE=function(s,o,u,h){u!==h&&(o.flags|=4)};function Fu(s,o){if(!Ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Vn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function Ok(s,o,u){var h=o.pendingProps;switch(Wp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return cr(o.type)&&Pd(),Vn(o),null;case 3:return h=o.stateNode,ol(),Mt(ur),Mt(Ln),im(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Md(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,oi!==null&&(xm(oi),oi=null))),Im(s,o),Vn(o),null;case 5:nm(o);var m=Jo(Mu.current);if(u=o.type,s!==null&&o.stateNode!=null)oE(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Vn(o),null}if(s=Jo(ki.current),Md(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[Ni]=o,h[Pu]=v,s=(o.mode&1)!==0,u){case"dialog":Lt("cancel",h),Lt("close",h);break;case"iframe":case"object":case"embed":Lt("load",h);break;case"video":case"audio":for(m=0;m<bu.length;m++)Lt(bu[m],h);break;case"source":Lt("error",h);break;case"img":case"image":case"link":Lt("error",h),Lt("load",h);break;case"details":Lt("toggle",h);break;case"input":rt(h,v),Lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Lt("invalid",h);break;case"textarea":Dn(h,v),Lt("invalid",h)}yi(u,v),m=null;for(var A in v)if(v.hasOwnProperty(A)){var M=v[A];A==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&bd(h.textContent,M,s),m=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&bd(h.textContent,M,s),m=["children",""+M]):i.hasOwnProperty(A)&&M!=null&&A==="onScroll"&&Lt("scroll",h)}switch(u){case"input":St(h),Mr(h,v,!0);break;case"textarea":St(h),an(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Nd)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{A=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ue(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=A.createElement(u,{is:h.is}):(s=A.createElement(u),u==="select"&&(A=s,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):s=A.createElementNS(s,u),s[Ni]=o,s[Pu]=h,sE(s,o,!1,!1),o.stateNode=s;e:{switch(A=Vo(u,h),u){case"dialog":Lt("cancel",s),Lt("close",s),m=h;break;case"iframe":case"object":case"embed":Lt("load",s),m=h;break;case"video":case"audio":for(m=0;m<bu.length;m++)Lt(bu[m],s);m=h;break;case"source":Lt("error",s),m=h;break;case"img":case"image":case"link":Lt("error",s),Lt("load",s),m=h;break;case"details":Lt("toggle",s),m=h;break;case"input":rt(s,h),m=Kt(s,h),Lt("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ue({},h,{value:void 0}),Lt("invalid",s);break;case"textarea":Dn(s,h),m=rr(s,h),Lt("invalid",s);break;default:m=h}yi(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?yn(s,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&gn(s,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&qn(s,j):typeof j=="number"&&qn(s,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Lt("scroll",s):j!=null&&H(s,v,j,A))}switch(u){case"input":St(s),Mr(s,h,!1);break;case"textarea":St(s),an(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Fe(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Jt(s,!!h.multiple,v,!1):h.defaultValue!=null&&Jt(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Nd)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(s&&o.stateNode!=null)aE(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(u=Jo(Mu.current),Jo(ki.current),Md(o)){if(h=o.stateNode,u=o.memoizedProps,h[Ni]=o,(v=h.nodeValue!==u)&&(s=Ar,s!==null))switch(s.tag){case 3:bd(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bd(h.nodeValue,u,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Ni]=o,o.stateNode=h}return Vn(o),null;case 13:if(Mt(zt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ut&&Rr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)cw(),nl(),o.flags|=98560,v=!1;else if(v=Md(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Ni]=o}else nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vn(o),v=!1}else oi!==null&&(xm(oi),oi=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(zt.current&1)!==0?cn===0&&(cn=3):Vm())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return ol(),Im(s,o),s===null&&Nu(o.stateNode.containerInfo),Vn(o),null;case 10:return Xp(o.type._context),Vn(o),null;case 17:return cr(o.type)&&Pd(),Vn(o),null;case 19:if(Mt(zt),v=o.memoizedState,v===null)return Vn(o),null;if(h=(o.flags&128)!==0,A=v.rendering,A===null)if(h)Fu(v,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(A=Bd(s),A!==null){for(o.flags|=128,Fu(v,!1),h=A.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,s=h,v.flags&=14680066,A=v.alternate,A===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,s=A.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return xt(zt,zt.current&1|2),o.child}s=s.sibling}v.tail!==null&&ct()>cl&&(o.flags|=128,h=!0,Fu(v,!1),o.lanes=4194304)}else{if(!h)if(s=Bd(A),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Fu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!Ut)return Vn(o),null}else 2*ct()-v.renderingStartTime>cl&&u!==1073741824&&(o.flags|=128,h=!0,Fu(v,!1),o.lanes=4194304);v.isBackwards?(A.sibling=o.child,o.child=A):(u=v.last,u!==null?u.sibling=A:o.child=A,v.last=A)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=zt.current,xt(zt,h?u&1|2:u&1),o):(Vn(o),null);case 22:case 23:return Mm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(br&1073741824)!==0&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function xk(s,o){switch(Wp(o),o.tag){case 1:return cr(o.type)&&Pd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ol(),Mt(ur),Mt(Ln),im(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return nm(o),null;case 13:if(Mt(zt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));nl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Mt(zt),null;case 4:return ol(),null;case 10:return Xp(o.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Xd=!1,$n=!1,Lk=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ll(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Qt(s,o,h)}else u.current=null}function Sm(s,o,u){try{u()}catch(h){Qt(s,o,h)}}var lE=!1;function Mk(s,o){if(Mp=Vs,s=j_(),bp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var A=0,M=-1,j=-1,Z=0,ce=0,fe=s,le=null;t:for(;;){for(var Ce;fe!==u||m!==0&&fe.nodeType!==3||(M=A+m),fe!==v||h!==0&&fe.nodeType!==3||(j=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(Ce=fe.firstChild)!==null;)le=fe,fe=Ce;for(;;){if(fe===s)break t;if(le===u&&++Z===m&&(M=A),le===v&&++ce===h&&(j=A),(Ce=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=Ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vp={focusedElem:s,selectionRange:u},Vs=!1,Oe=o;Oe!==null;)if(o=Oe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Oe=s;else for(;Oe!==null;){o=Oe;try{var Me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var Ve=Me.memoizedProps,Yt=Me.memoizedState,Q=o.stateNode,z=Q.getSnapshotBeforeUpdate(o.elementType===o.type?Ve:ai(o.type,Ve),Yt);Q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){Qt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Oe=s;break}Oe=o.return}return Me=lE,lE=!1,Me}function Bu(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Sm(o,u,v)}m=m.next}while(m!==h)}}function Jd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Cm(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function uE(s){var o=s.alternate;o!==null&&(s.alternate=null,uE(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ni],delete o[Pu],delete o[Fp],delete o[vk],delete o[_k])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function cE(s){return s.tag===5||s.tag===3||s.tag===4}function dE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||cE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Am(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Nd));else if(h!==4&&(s=s.child,s!==null))for(Am(s,o,u),s=s.sibling;s!==null;)Am(s,o,u),s=s.sibling}function Rm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Rm(s,o,u),s=s.sibling;s!==null;)Rm(s,o,u),s=s.sibling}var An=null,li=!1;function qs(s,o,u){for(u=u.child;u!==null;)fE(s,o,u),u=u.sibling}function fE(s,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 5:$n||ll(u,o);case 6:var h=An,m=li;An=null,qs(s,o,u),An=h,li=m,An!==null&&(li?(s=An,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):An.removeChild(u.stateNode));break;case 18:An!==null&&(li?(s=An,u=u.stateNode,s.nodeType===8?jp(s.parentNode,u):s.nodeType===1&&jp(s,u),ri(s)):jp(An,u.stateNode));break;case 4:h=An,m=li,An=u.stateNode.containerInfo,li=!0,qs(s,o,u),An=h,li=m;break;case 0:case 11:case 14:case 15:if(!$n&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,A=v.destroy;v=v.tag,A!==void 0&&((v&2)!==0||(v&4)!==0)&&Sm(u,o,A),m=m.next}while(m!==h)}qs(s,o,u);break;case 1:if(!$n&&(ll(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(M){Qt(u,o,M)}qs(s,o,u);break;case 21:qs(s,o,u);break;case 22:u.mode&1?($n=(h=$n)||u.memoizedState!==null,qs(s,o,u),$n=h):qs(s,o,u);break;default:qs(s,o,u)}}function hE(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Lk),o.forEach(function(h){var m=Wk.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function ui(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=s,A=o,M=A;e:for(;M!==null;){switch(M.tag){case 5:An=M.stateNode,li=!1;break e;case 3:An=M.stateNode.containerInfo,li=!0;break e;case 4:An=M.stateNode.containerInfo,li=!0;break e}M=M.return}if(An===null)throw Error(t(160));fE(v,A,m),An=null,li=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(Z){Qt(m,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)pE(o,s),o=o.sibling}function pE(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ui(o,s),Di(s),h&4){try{Bu(3,s,s.return),Jd(3,s)}catch(Ve){Qt(s,s.return,Ve)}try{Bu(5,s,s.return)}catch(Ve){Qt(s,s.return,Ve)}}break;case 1:ui(o,s),Di(s),h&512&&u!==null&&ll(u,u.return);break;case 5:if(ui(o,s),Di(s),h&512&&u!==null&&ll(u,u.return),s.flags&32){var m=s.stateNode;try{qn(m,"")}catch(Ve){Qt(s,s.return,Ve)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,A=u!==null?u.memoizedProps:v,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Ft(m,v),Vo(M,A);var Z=Vo(M,v);for(A=0;A<j.length;A+=2){var ce=j[A],fe=j[A+1];ce==="style"?yn(m,fe):ce==="dangerouslySetInnerHTML"?gn(m,fe):ce==="children"?qn(m,fe):H(m,ce,fe,Z)}switch(M){case"input":mn(m,v);break;case"textarea":Dt(m,v);break;case"select":var le=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var Ce=v.value;Ce!=null?Jt(m,!!v.multiple,Ce,!1):le!==!!v.multiple&&(v.defaultValue!=null?Jt(m,!!v.multiple,v.defaultValue,!0):Jt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Pu]=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 6:if(ui(o,s),Di(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(Ve){Qt(s,s.return,Ve)}}break;case 3:if(ui(o,s),Di(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ri(o.containerInfo)}catch(Ve){Qt(s,s.return,Ve)}break;case 4:ui(o,s),Di(s);break;case 13:ui(o,s),Di(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(km=ct())),h&4&&hE(s);break;case 22:if(ce=u!==null&&u.memoizedState!==null,s.mode&1?($n=(Z=$n)||ce,ui(o,s),$n=Z):ui(o,s),Di(s),h&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ce&&(s.mode&1)!==0)for(Oe=s,ce=s.child;ce!==null;){for(fe=Oe=ce;Oe!==null;){switch(le=Oe,Ce=le.child,le.tag){case 0:case 11:case 14:case 15:Bu(4,le,le.return);break;case 1:ll(le,le.return);var Me=le.stateNode;if(typeof Me.componentWillUnmount=="function"){h=le,u=le.return;try{o=h,Me.props=o.memoizedProps,Me.state=o.memoizedState,Me.componentWillUnmount()}catch(Ve){Qt(h,u,Ve)}}break;case 5:ll(le,le.return);break;case 22:if(le.memoizedState!==null){yE(fe);continue}}Ce!==null?(Ce.return=le,Oe=Ce):yE(fe)}ce=ce.sibling}e:for(ce=null,fe=s;;){if(fe.tag===5){if(ce===null){ce=fe;try{m=fe.stateNode,Z?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=fe.stateNode,j=fe.memoizedProps.style,A=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=ot("display",A))}catch(Ve){Qt(s,s.return,Ve)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=Z?"":fe.memoizedProps}catch(Ve){Qt(s,s.return,Ve)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ui(o,s),Di(s),h&4&&hE(s);break;case 21:break;default:ui(o,s),Di(s)}}function Di(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(cE(u)){var h=u;break e}u=u.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(qn(m,""),h.flags&=-33);var v=dE(s);Rm(s,v,m);break;case 3:case 4:var A=h.stateNode.containerInfo,M=dE(s);Am(s,M,A);break;default:throw Error(t(161))}}catch(j){Qt(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Vk(s,o,u){Oe=s,mE(s)}function mE(s,o,u){for(var h=(s.mode&1)!==0;Oe!==null;){var m=Oe,v=m.child;if(m.tag===22&&h){var A=m.memoizedState!==null||Xd;if(!A){var M=m.alternate,j=M!==null&&M.memoizedState!==null||$n;M=Xd;var Z=$n;if(Xd=A,($n=j)&&!Z)for(Oe=m;Oe!==null;)A=Oe,j=A.child,A.tag===22&&A.memoizedState!==null?vE(m):j!==null?(j.return=A,Oe=j):vE(m);for(;v!==null;)Oe=v,mE(v),v=v.sibling;Oe=m,Xd=M,$n=Z}gE(s)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Oe=v):gE(s)}}function gE(s){for(;Oe!==null;){var o=Oe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:$n||Jd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!$n)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ai(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&yw(o,v,h);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}yw(o,A,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&ri(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}$n||o.flags&512&&Cm(o)}catch(le){Qt(o,o.return,le)}}if(o===s){Oe=null;break}if(u=o.sibling,u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function yE(s){for(;Oe!==null;){var o=Oe;if(o===s){Oe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Oe=u;break}Oe=o.return}}function vE(s){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Jd(4,o)}catch(j){Qt(o,u,j)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(j){Qt(o,m,j)}}var v=o.return;try{Cm(o)}catch(j){Qt(o,v,j)}break;case 5:var A=o.return;try{Cm(o)}catch(j){Qt(o,A,j)}}}catch(j){Qt(o,o.return,j)}if(o===s){Oe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Oe=M;break}Oe=o.return}}var $k=Math.ceil,Zd=B.ReactCurrentDispatcher,bm=B.ReactCurrentOwner,Wr=B.ReactCurrentBatchConfig,wt=0,wn=null,tn=null,Rn=0,br=0,ul=Fs(0),cn=0,Hu=null,ea=0,ef=0,Nm=0,zu=null,fr=null,km=0,cl=1/0,ns=null,tf=!1,Pm=null,Ks=null,nf=!1,Gs=null,rf=0,Wu=0,Dm=null,sf=-1,of=0;function Yn(){return(wt&6)!==0?ct():sf!==-1?sf:sf=ct()}function Qs(s){return(s.mode&1)===0?1:(wt&2)!==0&&Rn!==0?Rn&-Rn:Ek.transition!==null?(of===0&&(of=Bo()),of):(s=gt,s!==0||(s=window.event,s=s===void 0?16:_u(s.type)),s)}function ci(s,o,u,h){if(50<Wu)throw Wu=0,Dm=null,Error(t(185));Os(s,u,h),((wt&2)===0||s!==wn)&&(s===wn&&((wt&2)===0&&(ef|=u),cn===4&&Ys(s,Rn)),hr(s,h),u===1&&wt===0&&(o.mode&1)===0&&(cl=ct()+500,Od&&Hs()))}function hr(s,o){var u=s.callbackNode;zi(s,o);var h=Fo(s,s===wn?Rn:0);if(h===0)u!==null&&Vr(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Vr(u),o===1)s.tag===0?wk(wE.bind(null,s)):sw(wE.bind(null,s)),gk(function(){(wt&6)===0&&Hs()}),u=null;else{switch(Ls(h)){case 1:u=Tr;break;case 4:u=xn;break;case 16:u=In;break;case 536870912:u=dt;break;default:u=In}u=bE(u,_E.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function _E(s,o){if(sf=-1,of=0,(wt&6)!==0)throw Error(t(327));var u=s.callbackNode;if(dl()&&s.callbackNode!==u)return null;var h=Fo(s,s===wn?Rn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=af(s,h);else{o=h;var m=wt;wt|=2;var v=TE();(wn!==s||Rn!==o)&&(ns=null,cl=ct()+500,na(s,o));do try{Fk();break}catch(M){EE(s,M)}while(!0);Yp(),Zd.current=v,wt=m,tn!==null?o=0:(wn=null,Rn=0,o=cn)}if(o!==0){if(o===2&&(m=Ir(s),m!==0&&(h=m,o=Om(s,m))),o===1)throw u=Hu,na(s,0),Ys(s,h),hr(s,ct()),u;if(o===6)Ys(s,h);else{if(m=s.current.alternate,(h&30)===0&&!Uk(m)&&(o=af(s,h),o===2&&(v=Ir(s),v!==0&&(h=v,o=Om(s,v))),o===1))throw u=Hu,na(s,0),Ys(s,h),hr(s,ct()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ra(s,fr,ns);break;case 3:if(Ys(s,h),(h&130023424)===h&&(o=km+500-ct(),10<o)){if(Fo(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){Yn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Up(ra.bind(null,s,fr,ns),o);break}ra(s,fr,ns);break;case 4:if(Ys(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var A=31-ft(h);v=1<<A,A=o[A],A>m&&(m=A),h&=~v}if(h=m,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*$k(h/1960))-h,10<h){s.timeoutHandle=Up(ra.bind(null,s,fr,ns),h);break}ra(s,fr,ns);break;case 5:ra(s,fr,ns);break;default:throw Error(t(329))}}}return hr(s,ct()),s.callbackNode===u?_E.bind(null,s):null}function Om(s,o){var u=zu;return s.current.memoizedState.isDehydrated&&(na(s,o).flags|=256),s=af(s,o),s!==2&&(o=fr,fr=u,o!==null&&xm(o)),s}function xm(s){fr===null?fr=s:fr.push.apply(fr,s)}function Uk(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!si(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ys(s,o){for(o&=~Nm,o&=~ef,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ft(o),h=1<<u;s[u]=-1,o&=~h}}function wE(s){if((wt&6)!==0)throw Error(t(327));dl();var o=Fo(s,0);if((o&1)===0)return hr(s,ct()),null;var u=af(s,o);if(s.tag!==0&&u===2){var h=Ir(s);h!==0&&(o=h,u=Om(s,h))}if(u===1)throw u=Hu,na(s,0),Ys(s,o),hr(s,ct()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ra(s,fr,ns),hr(s,ct()),null}function Lm(s,o){var u=wt;wt|=1;try{return s(o)}finally{wt=u,wt===0&&(cl=ct()+500,Od&&Hs())}}function ta(s){Gs!==null&&Gs.tag===0&&(wt&6)===0&&dl();var o=wt;wt|=1;var u=Wr.transition,h=gt;try{if(Wr.transition=null,gt=1,s)return s()}finally{gt=h,Wr.transition=u,wt=o,(wt&6)===0&&Hs()}}function Mm(){br=ul.current,Mt(ul)}function na(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,mk(u)),tn!==null)for(u=tn.return;u!==null;){var h=u;switch(Wp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pd();break;case 3:ol(),Mt(ur),Mt(Ln),im();break;case 5:nm(h);break;case 4:ol();break;case 13:Mt(zt);break;case 19:Mt(zt);break;case 10:Xp(h.type._context);break;case 22:case 23:Mm()}u=u.return}if(wn=s,tn=s=Xs(s.current,null),Rn=br=o,cn=0,Hu=null,Nm=ef=ea=0,fr=zu=null,Xo!==null){for(o=0;o<Xo.length;o++)if(u=Xo[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var A=v.next;v.next=m,h.next=A}u.pending=h}Xo=null}return s}function EE(s,o){do{var u=tn;try{if(Yp(),Hd.current=Kd,zd){for(var h=Wt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}zd=!1}if(Zo=0,_n=un=Wt=null,Vu=!1,$u=0,bm.current=null,u===null||u.return===null){cn=1,Hu=o,tn=null;break}e:{var v=s,A=u.return,M=u,j=o;if(o=Rn,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=j,ce=M,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ce=qw(A);if(Ce!==null){Ce.flags&=-257,Kw(Ce,A,M,v,o),Ce.mode&1&&Ww(v,Z,o),o=Ce,j=Z;var Me=o.updateQueue;if(Me===null){var Ve=new Set;Ve.add(j),o.updateQueue=Ve}else Me.add(j);break e}else{if((o&1)===0){Ww(v,Z,o),Vm();break e}j=Error(t(426))}}else if(Ut&&M.mode&1){var Yt=qw(A);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),Kw(Yt,A,M,v,o),Gp(al(j,M));break e}}v=j=al(j,M),cn!==4&&(cn=2),zu===null?zu=[v]:zu.push(v),v=A;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var Q=Hw(v,j,o);gw(v,Q);break e;case 1:M=j;var z=v.type,X=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Ks===null||!Ks.has(X)))){v.flags|=65536,o&=-o,v.lanes|=o;var he=zw(v,M,o);gw(v,he);break e}}v=v.return}while(v!==null)}SE(u)}catch($e){o=$e,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function TE(){var s=Zd.current;return Zd.current=Kd,s===null?Kd:s}function Vm(){(cn===0||cn===3||cn===2)&&(cn=4),wn===null||(ea&268435455)===0&&(ef&268435455)===0||Ys(wn,Rn)}function af(s,o){var u=wt;wt|=2;var h=TE();(wn!==s||Rn!==o)&&(ns=null,na(s,o));do try{jk();break}catch(m){EE(s,m)}while(!0);if(Yp(),wt=u,Zd.current=h,tn!==null)throw Error(t(261));return wn=null,Rn=0,cn}function jk(){for(;tn!==null;)IE(tn)}function Fk(){for(;tn!==null&&!Ei();)IE(tn)}function IE(s){var o=RE(s.alternate,s,br);s.memoizedProps=s.pendingProps,o===null?SE(s):tn=o,bm.current=null}function SE(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Ok(u,o,br),u!==null){tn=u;return}}else{if(u=xk(u,o),u!==null){u.flags&=32767,tn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=s}while(o!==null);cn===0&&(cn=5)}function ra(s,o,u){var h=gt,m=Wr.transition;try{Wr.transition=null,gt=1,Bk(s,o,u,h)}finally{Wr.transition=m,gt=h}return null}function Bk(s,o,u,h){do dl();while(Gs!==null);if((wt&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=u.lanes|u.childLanes;if(Pt(s,v),s===wn&&(tn=wn=null,Rn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||nf||(nf=!0,bE(In,function(){return dl(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Wr.transition,Wr.transition=null;var A=gt;gt=1;var M=wt;wt|=4,bm.current=null,Mk(s,u),pE(u,s),lk(Vp),Vs=!!Mp,Vp=Mp=null,s.current=u,Vk(u),Er(),wt=M,gt=A,Wr.transition=v}else s.current=u;if(nf&&(nf=!1,Gs=s,rf=m),v=s.pendingLanes,v===0&&(Ks=null),Ii(u.stateNode),hr(s,ct()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(tf)throw tf=!1,s=Pm,Pm=null,s;return(rf&1)!==0&&s.tag!==0&&dl(),v=s.pendingLanes,(v&1)!==0?s===Dm?Wu++:(Wu=0,Dm=s):Wu=0,Hs(),null}function dl(){if(Gs!==null){var s=Ls(rf),o=Wr.transition,u=gt;try{if(Wr.transition=null,gt=16>s?16:s,Gs===null)var h=!1;else{if(s=Gs,Gs=null,rf=0,(wt&6)!==0)throw Error(t(331));var m=wt;for(wt|=4,Oe=s.current;Oe!==null;){var v=Oe,A=v.child;if((Oe.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var Z=M[j];for(Oe=Z;Oe!==null;){var ce=Oe;switch(ce.tag){case 0:case 11:case 15:Bu(8,ce,v)}var fe=ce.child;if(fe!==null)fe.return=ce,Oe=fe;else for(;Oe!==null;){ce=Oe;var le=ce.sibling,Ce=ce.return;if(uE(ce),ce===Z){Oe=null;break}if(le!==null){le.return=Ce,Oe=le;break}Oe=Ce}}}var Me=v.alternate;if(Me!==null){var Ve=Me.child;if(Ve!==null){Me.child=null;do{var Yt=Ve.sibling;Ve.sibling=null,Ve=Yt}while(Ve!==null)}}Oe=v}}if((v.subtreeFlags&2064)!==0&&A!==null)A.return=v,Oe=A;else e:for(;Oe!==null;){if(v=Oe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Bu(9,v,v.return)}var Q=v.sibling;if(Q!==null){Q.return=v.return,Oe=Q;break e}Oe=v.return}}var z=s.current;for(Oe=z;Oe!==null;){A=Oe;var X=A.child;if((A.subtreeFlags&2064)!==0&&X!==null)X.return=A,Oe=X;else e:for(A=z;Oe!==null;){if(M=Oe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Jd(9,M)}}catch($e){Qt(M,M.return,$e)}if(M===A){Oe=null;break e}var he=M.sibling;if(he!==null){he.return=M.return,Oe=he;break e}Oe=M.return}}if(wt=m,Hs(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ct,s)}catch{}h=!0}return h}finally{gt=u,Wr.transition=o}}return!1}function CE(s,o,u){o=al(u,o),o=Hw(s,o,1),s=Ws(s,o,1),o=Yn(),s!==null&&(Os(s,1,o),hr(s,o))}function Qt(s,o,u){if(s.tag===3)CE(s,s,u);else for(;o!==null;){if(o.tag===3){CE(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ks===null||!Ks.has(h))){s=al(u,s),s=zw(o,s,1),o=Ws(o,s,1),s=Yn(),o!==null&&(Os(o,1,s),hr(o,s));break}}o=o.return}}function Hk(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=Yn(),s.pingedLanes|=s.suspendedLanes&u,wn===s&&(Rn&u)===u&&(cn===4||cn===3&&(Rn&130023424)===Rn&&500>ct()-km?na(s,0):Nm|=u),hr(s,o)}function AE(s,o){o===0&&((s.mode&1)===0?o=1:(o=xa,xa<<=1,(xa&130023424)===0&&(xa=4194304)));var u=Yn();s=Zi(s,o),s!==null&&(Os(s,o,u),hr(s,u))}function zk(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),AE(s,u)}function Wk(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),AE(s,u)}var RE;RE=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||ur.current)dr=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return dr=!1,Dk(s,o,u);dr=(s.flags&131072)!==0}else dr=!1,Ut&&(o.flags&1048576)!==0&&ow(o,Ld,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Yd(s,o),s=o.pendingProps;var m=Za(o,Ln.current);sl(o,u),m=am(null,o,h,s,m,u);var v=lm();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cr(h)?(v=!0,Dd(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,em(o),m.updater=Gd,o.stateNode=m,m._reactInternals=o,pm(o,h,s,u),o=vm(null,o,h,!0,v,u)):(o.tag=0,Ut&&v&&zp(o),Qn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Yd(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=Kk(h),s=ai(h,s),m){case 0:o=ym(null,o,h,s,u);break e;case 1:o=Zw(null,o,h,s,u);break e;case 11:o=Gw(null,o,h,s,u);break e;case 14:o=Qw(null,o,h,ai(h.type,s),u);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ai(h,m),ym(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ai(h,m),Zw(s,o,h,m,u);case 3:e:{if(eE(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,m=v.element,mw(s,o),Fd(o,h,null,u);var A=o.memoizedState;if(h=A.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=al(Error(t(423)),o),o=tE(s,o,h,u,m);break e}else if(h!==m){m=al(Error(t(424)),o),o=tE(s,o,h,u,m);break e}else for(Rr=js(o.stateNode.containerInfo.firstChild),Ar=o,Ut=!0,oi=null,u=hw(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(nl(),h===m){o=ts(s,o,u);break e}Qn(s,o,h,u)}o=o.child}return o;case 5:return vw(o),s===null&&Kp(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,A=m.children,$p(h,m)?A=null:v!==null&&$p(h,v)&&(o.flags|=32),Jw(s,o),Qn(s,o,A,u),o.child;case 6:return s===null&&Kp(o),null;case 13:return nE(s,o,u);case 4:return tm(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=rl(o,null,h,u):Qn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ai(h,m),Gw(s,o,h,m,u);case 7:return Qn(s,o,o.pendingProps,u),o.child;case 8:return Qn(s,o,o.pendingProps.children,u),o.child;case 12:return Qn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,A=m.value,xt($d,h._currentValue),h._currentValue=A,v!==null)if(si(v.value,A)){if(v.children===m.children&&!ur.current){o=ts(s,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){A=v.child;for(var j=M.firstContext;j!==null;){if(j.context===h){if(v.tag===1){j=es(-1,u&-u),j.tag=2;var Z=v.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?j.next=j:(j.next=ce.next,ce.next=j),Z.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Jp(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)A=v.type===o.type?null:v.child;else if(v.tag===18){if(A=v.return,A===null)throw Error(t(341));A.lanes|=u,M=A.alternate,M!==null&&(M.lanes|=u),Jp(A,u,o),A=v.sibling}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===o){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}Qn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,sl(o,u),m=Hr(m),h=h(m),o.flags|=1,Qn(s,o,h,u),o.child;case 14:return h=o.type,m=ai(h,o.pendingProps),m=ai(h.type,m),Qw(s,o,h,m,u);case 15:return Yw(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ai(h,m),Yd(s,o),o.tag=1,cr(h)?(s=!0,Dd(o)):s=!1,sl(o,u),Fw(o,h,m),pm(o,h,m,u),vm(null,o,h,!0,s,u);case 19:return iE(s,o,u);case 22:return Xw(s,o,u)}throw Error(t(156,o.tag))};function bE(s,o){return Rt(s,o)}function qk(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(s,o,u,h){return new qk(s,o,u,h)}function $m(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Kk(s){if(typeof s=="function")return $m(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===Le)return 14}return 2}function Xs(s,o){var u=s.alternate;return u===null?(u=qr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function lf(s,o,u,h,m,v){var A=2;if(h=s,typeof s=="function")$m(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case S:return ia(u.children,m,v,o);case C:A=8,m|=8;break;case b:return s=qr(12,u,o,m|2),s.elementType=b,s.lanes=v,s;case D:return s=qr(13,u,o,m),s.elementType=D,s.lanes=v,s;case Ee:return s=qr(19,u,o,m),s.elementType=Ee,s.lanes=v,s;case Ne:return uf(u,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:A=10;break e;case L:A=9;break e;case $:A=11;break e;case Le:A=14;break e;case He:A=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=qr(A,u,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function ia(s,o,u,h){return s=qr(7,s,h,o),s.lanes=u,s}function uf(s,o,u,h){return s=qr(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Um(s,o,u){return s=qr(6,s,null,o),s.lanes=u,s}function jm(s,o,u){return o=qr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Gk(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ds(0),this.expirationTimes=Ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Fm(s,o,u,h,m,v,A,M,j){return s=new Gk(s,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=qr(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},em(v),s}function Qk(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function NE(s){if(!s)return Bs;s=s._reactInternals;e:{if(De(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(cr(u))return rw(s,u,o)}return o}function kE(s,o,u,h,m,v,A,M,j){return s=Fm(u,h,!0,s,m,v,A,M,j),s.context=NE(null),u=s.current,h=Yn(),m=Qs(u),v=es(h,m),v.callback=o??null,Ws(u,v,m),s.current.lanes=m,Os(s,m,h),hr(s,h),s}function cf(s,o,u,h){var m=o.current,v=Yn(),A=Qs(m);return u=NE(u),o.context===null?o.context=u:o.pendingContext=u,o=es(v,A),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Ws(m,o,A),s!==null&&(ci(s,m,A,v),jd(s,m,A)),A}function df(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function PE(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Bm(s,o){PE(s,o),(s=s.alternate)&&PE(s,o)}function Yk(){return null}var DE=typeof reportError=="function"?reportError:function(s){console.error(s)};function Hm(s){this._internalRoot=s}ff.prototype.render=Hm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));cf(s,o,null,null)},ff.prototype.unmount=Hm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ta(function(){cf(null,s,null,null)}),o[Qi]=null}};function ff(s){this._internalRoot=s}ff.prototype.unstable_scheduleHydration=function(s){if(s){var o=dd();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Ci.length&&o!==0&&o<Ci[u].priority;u++);Ci.splice(u,0,s),u===0&&pd(s)}};function zm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function OE(){}function Xk(s,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var Z=df(A);v.call(Z)}}var A=kE(o,h,s,0,null,!1,!1,"",OE);return s._reactRootContainer=A,s[Qi]=A.current,Nu(s.nodeType===8?s.parentNode:s),ta(),A}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var M=h;h=function(){var Z=df(j);M.call(Z)}}var j=Fm(s,0,!1,null,null,!1,!1,"",OE);return s._reactRootContainer=j,s[Qi]=j.current,Nu(s.nodeType===8?s.parentNode:s),ta(function(){cf(o,j,u,h)}),j}function pf(s,o,u,h,m){var v=u._reactRootContainer;if(v){var A=v;if(typeof m=="function"){var M=m;m=function(){var j=df(A);M.call(j)}}cf(o,A,s,m)}else A=Xk(u,o,s,m,h);return df(A)}ud=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Ps(o.pendingLanes);u!==0&&(xs(o,u|1),hr(o,ct()),(wt&6)===0&&(cl=ct()+500,Hs()))}break;case 13:ta(function(){var h=Zi(s,1);if(h!==null){var m=Yn();ci(h,s,1,m)}}),Bm(s,1)}},La=function(s){if(s.tag===13){var o=Zi(s,134217728);if(o!==null){var u=Yn();ci(o,s,134217728,u)}Bm(s,134217728)}},cd=function(s){if(s.tag===13){var o=Qs(s),u=Zi(s,o);if(u!==null){var h=Yn();ci(u,s,o,h)}Bm(s,o)}},dd=function(){return gt},fd=function(s,o){var u=gt;try{return gt=s,o()}finally{gt=u}},Hi=function(s,o,u){switch(o){case"input":if(mn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=kd(h);if(!m)throw Error(t(90));it(h),mn(h,m)}}}break;case"textarea":Dt(s,u);break;case"select":o=u.value,o!=null&&Jt(s,!!u.multiple,o,!1)}},_i=Lm,wi=ta;var Jk={usingClientEntryPoint:!1,Events:[Du,Xa,kd,wr,$o,Lm]},qu={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zk={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tt(s),s===null?null:s.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||Yk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Ct=mf.inject(Zk),Zt=mf}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jk,pr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zm(o))throw Error(t(200));return Qk(s,o,null,u)},pr.createRoot=function(s,o){if(!zm(s))throw Error(t(299));var u=!1,h="",m=DE;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Fm(s,1,!1,null,null,u,!1,h,m),s[Qi]=o.current,Nu(s.nodeType===8?s.parentNode:s),new Hm(o)},pr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Tt(o),s=s===null?null:s.stateNode,s},pr.flushSync=function(s){return ta(s)},pr.hydrate=function(s,o,u){if(!hf(o))throw Error(t(200));return pf(null,s,o,!0,u)},pr.hydrateRoot=function(s,o,u){if(!zm(s))throw Error(t(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",A=DE;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=kE(o,null,s,1,u??null,m,!1,v,A),s[Qi]=o.current,Nu(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new ff(o)},pr.render=function(s,o,u){if(!hf(o))throw Error(t(200));return pf(null,s,o,!1,u)},pr.unmountComponentAtNode=function(s){if(!hf(s))throw Error(t(40));return s._reactRootContainer?(ta(function(){pf(null,null,s,!1,function(){s._reactRootContainer=null,s[Qi]=null})}),!0):!1},pr.unstable_batchedUpdates=Lm,pr.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!hf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return pf(s,o,u,!1,h)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var UE;function sS(){if(UE)return qm.exports;UE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qm.exports=sP(),qm.exports}var jE;function oP(){if(jE)return gf;jE=1;var n=sS();return gf.createRoot=n.createRoot,gf.hydrateRoot=n.hydrateRoot,gf}var aP=oP(),Zn="top",Or="bottom",xr="right",er="left",Ph="auto",eu=[Zn,Or,xr,er],ma="start",Dl="end",oS="clippingParents",Vy="viewport",vl="popper",aS="reference",Vg=eu.reduce(function(n,e){return n.concat([e+"-"+ma,e+"-"+Dl])},[]),$y=[].concat(eu,[Ph]).reduce(function(n,e){return n.concat([e,e+"-"+ma,e+"-"+Dl])},[]),lS="beforeRead",uS="read",cS="afterRead",dS="beforeMain",fS="main",hS="afterMain",pS="beforeWrite",mS="write",gS="afterWrite",yS=[lS,uS,cS,dS,fS,hS,pS,mS,gS];function Fi(n){return n?(n.nodeName||"").toLowerCase():null}function Lr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ga(n){var e=Lr(n).Element;return n instanceof e||n instanceof Element}function Gr(n){var e=Lr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Uy(n){if(typeof ShadowRoot>"u")return!1;var e=Lr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function lP(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Gr(a)||!Fi(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(l){var c=i[l];c===!1?a.removeAttribute(l):a.setAttribute(l,c===!0?"":c)}))})}function uP(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=l.reduce(function(f,p){return f[p]="",f},{});!Gr(i)||!Fi(i)||(Object.assign(i.style,c),Object.keys(a).forEach(function(f){i.removeAttribute(f)}))})}}const jy={name:"applyStyles",enabled:!0,phase:"write",fn:lP,effect:uP,requires:["computeStyles"]};function Li(n){return n.split("-")[0]}var ha=Math.max,Zf=Math.min,Ol=Math.round;function $g(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function vS(){return!/^((?!chrome|android).)*safari/i.test($g())}function xl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,a=1;e&&Gr(n)&&(i=n.offsetWidth>0&&Ol(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&Ol(r.height)/n.offsetHeight||1);var l=ga(n)?Lr(n):window,c=l.visualViewport,f=!vS()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,g=(r.top+(f&&c?c.offsetTop:0))/a,_=r.width/i,T=r.height/a;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p,x:p,y:g}}function Fy(n){var e=xl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function _S(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Uy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ps(n){return Lr(n).getComputedStyle(n)}function cP(n){return["table","td","th"].indexOf(Fi(n))>=0}function No(n){return((ga(n)?n.ownerDocument:n.document)||window.document).documentElement}function Dh(n){return Fi(n)==="html"?n:n.assignedSlot||n.parentNode||(Uy(n)?n.host:null)||No(n)}function FE(n){return!Gr(n)||ps(n).position==="fixed"?null:n.offsetParent}function dP(n){var e=/firefox/i.test($g()),t=/Trident/i.test($g());if(t&&Gr(n)){var r=ps(n);if(r.position==="fixed")return null}var i=Dh(n);for(Uy(i)&&(i=i.host);Gr(i)&&["html","body"].indexOf(Fi(i))<0;){var a=ps(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Lc(n){for(var e=Lr(n),t=FE(n);t&&cP(t)&&ps(t).position==="static";)t=FE(t);return t&&(Fi(t)==="html"||Fi(t)==="body"&&ps(t).position==="static")?e:t||dP(n)||e}function By(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function cc(n,e,t){return ha(n,Zf(e,t))}function fP(n,e,t){var r=cc(n,e,t);return r>t?t:r}function wS(){return{top:0,right:0,bottom:0,left:0}}function ES(n){return Object.assign({},wS(),n)}function TS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var hP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ES(typeof e!="number"?e:TS(e,eu))};function pP(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,l=t.modifiersData.popperOffsets,c=Li(t.placement),f=By(c),p=[er,xr].indexOf(c)>=0,g=p?"height":"width";if(!(!a||!l)){var _=hP(i.padding,t),T=Fy(a),R=f==="y"?Zn:er,P=f==="y"?Or:xr,x=t.rects.reference[g]+t.rects.reference[f]-l[f]-t.rects.popper[g],k=l[f]-t.rects.reference[f],W=Lc(a),V=W?f==="y"?W.clientHeight||0:W.clientWidth||0:0,H=x/2-k/2,B=_[R],K=V-T[g]-_[P],Y=V/2-T[g]/2+H,S=cc(B,Y,K),C=f;t.modifiersData[r]=(e={},e[C]=S,e.centerOffset=S-Y,e)}}function mP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||_S(e.elements.popper,i)&&(e.elements.arrow=i))}const Hy={name:"arrow",enabled:!0,phase:"main",fn:pP,effect:mP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ll(n){return n.split("-")[1]}var gP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Ol(t*i)/i||0,y:Ol(r*i)/i||0}}function BE(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,l=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,g=n.roundOffsets,_=n.isFixed,T=l.x,R=T===void 0?0:T,P=l.y,x=P===void 0?0:P,k=typeof g=="function"?g({x:R,y:x}):{x:R,y:x};R=k.x,x=k.y;var W=l.hasOwnProperty("x"),V=l.hasOwnProperty("y"),H=er,B=Zn,K=window;if(p){var Y=Lc(t),S="clientHeight",C="clientWidth";if(Y===Lr(t)&&(Y=No(t),ps(Y).position!=="static"&&c==="absolute"&&(S="scrollHeight",C="scrollWidth")),Y=Y,i===Zn||(i===er||i===xr)&&a===Dl){B=Or;var b=_&&Y===K&&K.visualViewport?K.visualViewport.height:Y[S];x-=b-r.height,x*=f?1:-1}if(i===er||(i===Zn||i===Or)&&a===Dl){H=xr;var O=_&&Y===K&&K.visualViewport?K.visualViewport.width:Y[C];R-=O-r.width,R*=f?1:-1}}var L=Object.assign({position:c},p&&gP),$=g===!0?yP({x:R,y:x},Lr(t)):{x:R,y:x};if(R=$.x,x=$.y,f){var D;return Object.assign({},L,(D={},D[B]=V?"0":"",D[H]=W?"0":"",D.transform=(K.devicePixelRatio||1)<=1?"translate("+R+"px, "+x+"px)":"translate3d("+R+"px, "+x+"px, 0)",D))}return Object.assign({},L,(e={},e[B]=V?x+"px":"",e[H]=W?R+"px":"",e.transform="",e))}function vP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,l=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:Li(e.placement),variation:Ll(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,BE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,BE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Oh={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vP,data:{}};var yf={passive:!0};function _P(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,l=r.resize,c=l===void 0?!0:l,f=Lr(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(g){g.addEventListener("scroll",t.update,yf)}),c&&f.addEventListener("resize",t.update,yf),function(){a&&p.forEach(function(g){g.removeEventListener("scroll",t.update,yf)}),c&&f.removeEventListener("resize",t.update,yf)}}const xh={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_P,data:{}};var wP={left:"right",right:"left",bottom:"top",top:"bottom"};function Mf(n){return n.replace(/left|right|bottom|top/g,function(e){return wP[e]})}var EP={start:"end",end:"start"};function HE(n){return n.replace(/start|end/g,function(e){return EP[e]})}function zy(n){var e=Lr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Wy(n){return xl(No(n)).left+zy(n).scrollLeft}function TP(n,e){var t=Lr(n),r=No(n),i=t.visualViewport,a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;var p=vS();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c+Wy(n),y:f}}function IP(n){var e,t=No(n),r=zy(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=ha(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ha(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+Wy(n),f=-r.scrollTop;return ps(i||t).direction==="rtl"&&(c+=ha(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:l,x:c,y:f}}function qy(n){var e=ps(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function IS(n){return["html","body","#document"].indexOf(Fi(n))>=0?n.ownerDocument.body:Gr(n)&&qy(n)?n:IS(Dh(n))}function dc(n,e){var t;e===void 0&&(e=[]);var r=IS(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Lr(r),l=i?[a].concat(a.visualViewport||[],qy(r)?r:[]):r,c=e.concat(l);return i?c:c.concat(dc(Dh(l)))}function Ug(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function SP(n,e){var t=xl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function zE(n,e,t){return e===Vy?Ug(TP(n,t)):ga(e)?SP(e,t):Ug(IP(No(n)))}function CP(n){var e=dc(Dh(n)),t=["absolute","fixed"].indexOf(ps(n).position)>=0,r=t&&Gr(n)?Lc(n):n;return ga(r)?e.filter(function(i){return ga(i)&&_S(i,r)&&Fi(i)!=="body"}):[]}function AP(n,e,t,r){var i=e==="clippingParents"?CP(n):[].concat(e),a=[].concat(i,[t]),l=a[0],c=a.reduce(function(f,p){var g=zE(n,p,r);return f.top=ha(g.top,f.top),f.right=Zf(g.right,f.right),f.bottom=Zf(g.bottom,f.bottom),f.left=ha(g.left,f.left),f},zE(n,l,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function SS(n){var e=n.reference,t=n.element,r=n.placement,i=r?Li(r):null,a=r?Ll(r):null,l=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Zn:f={x:l,y:e.y-t.height};break;case Or:f={x:l,y:e.y+e.height};break;case xr:f={x:e.x+e.width,y:c};break;case er:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?By(i):null;if(p!=null){var g=p==="y"?"height":"width";switch(a){case ma:f[p]=f[p]-(e[g]/2-t[g]/2);break;case Dl:f[p]=f[p]+(e[g]/2-t[g]/2);break}}return f}function Ml(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.strategy,l=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?oS:c,p=t.rootBoundary,g=p===void 0?Vy:p,_=t.elementContext,T=_===void 0?vl:_,R=t.altBoundary,P=R===void 0?!1:R,x=t.padding,k=x===void 0?0:x,W=ES(typeof k!="number"?k:TS(k,eu)),V=T===vl?aS:vl,H=n.rects.popper,B=n.elements[P?V:T],K=AP(ga(B)?B:B.contextElement||No(n.elements.popper),f,g,l),Y=xl(n.elements.reference),S=SS({reference:Y,element:H,placement:i}),C=Ug(Object.assign({},H,S)),b=T===vl?C:Y,O={top:K.top-b.top+W.top,bottom:b.bottom-K.bottom+W.bottom,left:K.left-b.left+W.left,right:b.right-K.right+W.right},L=n.modifiersData.offset;if(T===vl&&L){var $=L[i];Object.keys(O).forEach(function(D){var Ee=[xr,Or].indexOf(D)>=0?1:-1,Le=[Zn,Or].indexOf(D)>=0?"y":"x";O[D]+=$[Le]*Ee})}return O}function RP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,l=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?$y:f,g=Ll(r),_=g?c?Vg:Vg.filter(function(P){return Ll(P)===g}):eu,T=_.filter(function(P){return p.indexOf(P)>=0});T.length===0&&(T=_);var R=T.reduce(function(P,x){return P[x]=Ml(n,{placement:x,boundary:i,rootBoundary:a,padding:l})[Li(x)],P},{});return Object.keys(R).sort(function(P,x){return R[P]-R[x]})}function bP(n){if(Li(n)===Ph)return[];var e=Mf(n);return[HE(n),e,HE(e)]}function NP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!0:l,f=t.fallbackPlacements,p=t.padding,g=t.boundary,_=t.rootBoundary,T=t.altBoundary,R=t.flipVariations,P=R===void 0?!0:R,x=t.allowedAutoPlacements,k=e.options.placement,W=Li(k),V=W===k,H=f||(V||!P?[Mf(k)]:bP(k)),B=[k].concat(H).reduce(function(ve,Ie){return ve.concat(Li(Ie)===Ph?RP(e,{placement:Ie,boundary:g,rootBoundary:_,padding:p,flipVariations:P,allowedAutoPlacements:x}):Ie)},[]),K=e.rects.reference,Y=e.rects.popper,S=new Map,C=!0,b=B[0],O=0;O<B.length;O++){var L=B[O],$=Li(L),D=Ll(L)===ma,Ee=[Zn,Or].indexOf($)>=0,Le=Ee?"width":"height",He=Ml(e,{placement:L,boundary:g,rootBoundary:_,altBoundary:T,padding:p}),Ne=Ee?D?xr:er:D?Or:Zn;K[Le]>Y[Le]&&(Ne=Mf(Ne));var ne=Mf(Ne),me=[];if(a&&me.push(He[$]<=0),c&&me.push(He[Ne]<=0,He[ne]<=0),me.every(function(ve){return ve})){b=L,C=!1;break}S.set(L,me)}if(C)for(var ue=P?3:1,F=function(Ie){var Ae=B.find(function(Ge){var Fe=S.get(Ge);if(Fe)return Fe.slice(0,Ie).every(function(st){return st})});if(Ae)return b=Ae,"break"},ee=ue;ee>0;ee--){var pe=F(ee);if(pe==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const Ky={name:"flip",enabled:!0,phase:"main",fn:NP,requiresIfExists:["offset"],data:{_skip:!1}};function WE(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function qE(n){return[Zn,xr,Or,er].some(function(e){return n[e]>=0})}function kP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,l=Ml(e,{elementContext:"reference"}),c=Ml(e,{altBoundary:!0}),f=WE(l,r),p=WE(c,i,a),g=qE(f),_=qE(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const Gy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kP};function PP(n,e,t){var r=Li(n),i=[er,Zn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=a[0],c=a[1];return l=l||0,c=(c||0)*i,[er,xr].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}function DP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,l=$y.reduce(function(g,_){return g[_]=PP(_,e.rects,a),g},{}),c=l[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=l}const Qy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DP};function OP(n){var e=n.state,t=n.name;e.modifiersData[t]=SS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Lh={name:"popperOffsets",enabled:!0,phase:"read",fn:OP,data:{}};function xP(n){return n==="x"?"y":"x"}function LP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,l=t.altAxis,c=l===void 0?!1:l,f=t.boundary,p=t.rootBoundary,g=t.altBoundary,_=t.padding,T=t.tether,R=T===void 0?!0:T,P=t.tetherOffset,x=P===void 0?0:P,k=Ml(e,{boundary:f,rootBoundary:p,padding:_,altBoundary:g}),W=Li(e.placement),V=Ll(e.placement),H=!V,B=By(W),K=xP(B),Y=e.modifiersData.popperOffsets,S=e.rects.reference,C=e.rects.popper,b=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,O=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(Y){if(a){var D,Ee=B==="y"?Zn:er,Le=B==="y"?Or:xr,He=B==="y"?"height":"width",Ne=Y[B],ne=Ne+k[Ee],me=Ne-k[Le],ue=R?-C[He]/2:0,F=V===ma?S[He]:C[He],ee=V===ma?-C[He]:-S[He],pe=e.elements.arrow,ve=R&&pe?Fy(pe):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wS(),Ae=Ie[Ee],Ge=Ie[Le],Fe=cc(0,S[He],ve[He]),st=H?S[He]/2-ue-Fe-Ae-O.mainAxis:F-Fe-Ae-O.mainAxis,Et=H?-S[He]/2+ue+Fe+Ge+O.mainAxis:ee+Fe+Ge+O.mainAxis,St=e.elements.arrow&&Lc(e.elements.arrow),it=St?B==="y"?St.clientTop||0:St.clientLeft||0:0,kt=(D=L==null?void 0:L[B])!=null?D:0,Kt=Ne+st-kt-it,rt=Ne+Et-kt,Ft=cc(R?Zf(ne,Kt):ne,Ne,R?ha(me,rt):me);Y[B]=Ft,$[B]=Ft-Ne}if(c){var mn,Mr=B==="x"?Zn:er,Wn=B==="x"?Or:xr,Bt=Y[K],Jt=K==="y"?"height":"width",rr=Bt+k[Mr],Dn=Bt-k[Wn],Dt=[Zn,er].indexOf(W)!==-1,an=(mn=L==null?void 0:L[K])!=null?mn:0,Ue=Dt?rr:Bt-S[Jt]-C[Jt]-an+O.altAxis,mt=Dt?Bt+S[Jt]+C[Jt]-an-O.altAxis:Dn,Ot=R&&Dt?fP(Ue,Bt,mt):cc(R?Ue:rr,Bt,R?mt:Dn);Y[K]=Ot,$[K]=Ot-Bt}e.modifiersData[r]=$}}const Yy={name:"preventOverflow",enabled:!0,phase:"main",fn:LP,requiresIfExists:["offset"]};function MP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function VP(n){return n===Lr(n)||!Gr(n)?zy(n):MP(n)}function $P(n){var e=n.getBoundingClientRect(),t=Ol(e.width)/n.offsetWidth||1,r=Ol(e.height)/n.offsetHeight||1;return t!==1||r!==1}function UP(n,e,t){t===void 0&&(t=!1);var r=Gr(e),i=Gr(e)&&$P(e),a=No(e),l=xl(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((Fi(e)!=="body"||qy(a))&&(c=VP(e)),Gr(e)?(f=xl(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=Wy(a))),{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}function jP(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function FP(n){var e=jP(n);return yS.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function BP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function HP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var KE={placement:"bottom",modifiers:[],strategy:"absolute"};function GE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Mc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?KE:i;return function(c,f,p){p===void 0&&(p=a);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},KE,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},_=[],T=!1,R={state:g,setOptions:function(W){var V=typeof W=="function"?W(g.options):W;x(),g.options=Object.assign({},a,g.options,V),g.scrollParents={reference:ga(c)?dc(c):c.contextElement?dc(c.contextElement):[],popper:dc(f)};var H=FP(HP([].concat(r,g.options.modifiers)));return g.orderedModifiers=H.filter(function(B){return B.enabled}),P(),R.update()},forceUpdate:function(){if(!T){var W=g.elements,V=W.reference,H=W.popper;if(GE(V,H)){g.rects={reference:UP(V,Lc(H),g.options.strategy==="fixed"),popper:Fy(H)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(O){return g.modifiersData[O.name]=Object.assign({},O.data)});for(var B=0;B<g.orderedModifiers.length;B++){if(g.reset===!0){g.reset=!1,B=-1;continue}var K=g.orderedModifiers[B],Y=K.fn,S=K.options,C=S===void 0?{}:S,b=K.name;typeof Y=="function"&&(g=Y({state:g,options:C,name:b,instance:R})||g)}}}},update:BP(function(){return new Promise(function(k){R.forceUpdate(),k(g)})}),destroy:function(){x(),T=!0}};if(!GE(c,f))return R;R.setOptions(p).then(function(k){!T&&p.onFirstUpdate&&p.onFirstUpdate(k)});function P(){g.orderedModifiers.forEach(function(k){var W=k.name,V=k.options,H=V===void 0?{}:V,B=k.effect;if(typeof B=="function"){var K=B({state:g,name:W,instance:R,options:H}),Y=function(){};_.push(K||Y)}})}function x(){_.forEach(function(k){return k()}),_=[]}return R}}var zP=Mc(),WP=[xh,Lh,Oh,jy],qP=Mc({defaultModifiers:WP}),KP=[xh,Lh,Oh,jy,Qy,Ky,Yy,Hy,Gy],Xy=Mc({defaultModifiers:KP});const CS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:hS,afterRead:cS,afterWrite:gS,applyStyles:jy,arrow:Hy,auto:Ph,basePlacements:eu,beforeMain:dS,beforeRead:lS,beforeWrite:pS,bottom:Or,clippingParents:oS,computeStyles:Oh,createPopper:Xy,createPopperBase:zP,createPopperLite:qP,detectOverflow:Ml,end:Dl,eventListeners:xh,flip:Ky,hide:Gy,left:er,main:fS,modifierPhases:yS,offset:Qy,placements:$y,popper:vl,popperGenerator:Mc,popperOffsets:Lh,preventOverflow:Yy,read:uS,reference:aS,right:xr,start:ma,top:Zn,variationPlacements:Vg,viewport:Vy,write:mS},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Zs=new Map,Qm={set(n,e,t){Zs.has(n)||Zs.set(n,new Map);const r=Zs.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Zs.has(n)&&Zs.get(n).get(e)||null},remove(n,e){if(!Zs.has(n))return;const t=Zs.get(n);t.delete(e),t.size===0&&Zs.delete(n)}},GP=1e6,QP=1e3,jg="transitionend",AS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),YP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),XP=n=>{do n+=Math.floor(Math.random()*GP);while(document.getElementById(n));return n},JP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*QP)},RS=n=>{n.dispatchEvent(new Event(jg))},us=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),_o=n=>us(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(AS(n)):null,tu=n=>{if(!us(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},wo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",bS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?bS(n.parentNode):null},eh=()=>{},Vc=n=>{n.offsetHeight},NS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ym=[],ZP=n=>{document.readyState==="loading"?(Ym.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ym)e()}),Ym.push(n)):n()},Qr=()=>document.documentElement.dir==="rtl",Jr=n=>{ZP(()=>{const e=NS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},yr=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,kS=(n,e,t=!0)=>{if(!t){yr(n);return}const i=JP(e)+5;let a=!1;const l=({target:c})=>{c===e&&(a=!0,e.removeEventListener(jg,l),yr(n))};e.addEventListener(jg,l),setTimeout(()=>{a||RS(e)},i)},Jy=(n,e,t,r)=>{const i=n.length;let a=n.indexOf(e);return a===-1?!t&&r?n[i-1]:n[0]:(a+=t?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))])},eD=/[^.]*(?=\..*)\.|.*/,tD=/\..*/,nD=/::\d+$/,Xm={};let QE=1;const PS={mouseenter:"mouseover",mouseleave:"mouseout"},rD=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function DS(n,e){return e&&`${e}::${QE++}`||n.uidEvent||QE++}function OS(n){const e=DS(n);return n.uidEvent=e,Xm[e]=Xm[e]||{},Xm[e]}function iD(n,e){return function t(r){return Zy(r,{delegateTarget:n}),t.oneOff&&de.off(n,r.type,e),e.apply(n,[r])}}function sD(n,e,t){return function r(i){const a=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const c of a)if(c===l)return Zy(i,{delegateTarget:l}),r.oneOff&&de.off(n,i.type,e,t),t.apply(l,[i])}}function xS(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function LS(n,e,t){const r=typeof e=="string",i=r?t:e||t;let a=MS(n);return rD.has(a)||(a=n),[r,i,a]}function YE(n,e,t,r,i){if(typeof e!="string"||!n)return;let[a,l,c]=LS(e,t,r);e in PS&&(l=(P=>function(x){if(!x.relatedTarget||x.relatedTarget!==x.delegateTarget&&!x.delegateTarget.contains(x.relatedTarget))return P.call(this,x)})(l));const f=OS(n),p=f[c]||(f[c]={}),g=xS(p,l,a?t:null);if(g){g.oneOff=g.oneOff&&i;return}const _=DS(l,e.replace(eD,"")),T=a?sD(n,t,l):iD(n,l);T.delegationSelector=a?t:null,T.callable=l,T.oneOff=i,T.uidEvent=_,p[_]=T,n.addEventListener(c,T,a)}function Fg(n,e,t,r,i){const a=xS(e[t],r,i);a&&(n.removeEventListener(t,a,!!i),delete e[t][a.uidEvent])}function oD(n,e,t,r){const i=e[t]||{};for(const[a,l]of Object.entries(i))a.includes(r)&&Fg(n,e,t,l.callable,l.delegationSelector)}function MS(n){return n=n.replace(tD,""),PS[n]||n}const de={on(n,e,t,r){YE(n,e,t,r,!1)},one(n,e,t,r){YE(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,a,l]=LS(e,t,r),c=l!==e,f=OS(n),p=f[l]||{},g=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(p).length)return;Fg(n,f,l,a,i?t:null);return}if(g)for(const _ of Object.keys(f))oD(n,f,_,e.slice(1));for(const[_,T]of Object.entries(p)){const R=_.replace(nD,"");(!c||e.includes(R))&&Fg(n,f,l,T.callable,T.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=NS(),i=MS(e),a=e!==i;let l=null,c=!0,f=!0,p=!1;a&&r&&(l=r.Event(e,t),r(n).trigger(l),c=!l.isPropagationStopped(),f=!l.isImmediatePropagationStopped(),p=l.isDefaultPrevented());const g=Zy(new Event(e,{bubbles:c,cancelable:!0}),t);return p&&g.preventDefault(),f&&n.dispatchEvent(g),g.defaultPrevented&&l&&l.preventDefault(),g}};function Zy(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function XE(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Jm(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const cs={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Jm(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Jm(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=XE(n.dataset[r])}return e},getDataAttribute(n,e){return XE(n.getAttribute(`data-bs-${Jm(e)}`))}};class $c{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=us(t)?cs.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...us(t)?cs.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const a=e[r],l=us(a)?"element":YP(a);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}}const aD="5.3.3";class gi extends $c{constructor(e,t){super(),e=_o(e),e&&(this._element=e,this._config=this._getConfig(t),Qm.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Qm.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){kS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Qm.get(_o(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return aD}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Zm=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>AS(t)).join(","):null},We={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!wo(t)&&tu(t))},getSelectorFromElement(n){const e=Zm(n);return e&&We.findOne(e)?e:null},getElementFromSelector(n){const e=Zm(n);return e?We.findOne(e):null},getMultipleElementsFromSelector(n){const e=Zm(n);return e?We.find(e):[]}},Mh=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;de.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),wo(this))return;const a=We.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[e]()})},lD="alert",uD="bs.alert",VS=`.${uD}`,cD=`close${VS}`,dD=`closed${VS}`,fD="fade",hD="show";let $S=class US extends gi{static get NAME(){return lD}close(){if(de.trigger(this._element,cD).defaultPrevented)return;this._element.classList.remove(hD);const t=this._element.classList.contains(fD);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,dD),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=US.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Mh($S,"close");Jr($S);const pD="button",mD="bs.button",gD=`.${mD}`,yD=".data-api",vD="active",JE='[data-bs-toggle="button"]',_D=`click${gD}${yD}`;let jS=class FS extends gi{static get NAME(){return pD}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(vD))}static jQueryInterface(e){return this.each(function(){const t=FS.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};de.on(document,_D,JE,n=>{n.preventDefault();const e=n.target.closest(JE);jS.getOrCreateInstance(e).toggle()});Jr(jS);const wD="swipe",nu=".bs.swipe",ED=`touchstart${nu}`,TD=`touchmove${nu}`,ID=`touchend${nu}`,SD=`pointerdown${nu}`,CD=`pointerup${nu}`,AD="touch",RD="pen",bD="pointer-event",ND=40,kD={endCallback:null,leftCallback:null,rightCallback:null},PD={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class th extends $c{constructor(e,t){super(),this._element=e,!(!e||!th.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return kD}static get DefaultType(){return PD}static get NAME(){return wD}dispose(){de.off(this._element,nu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),yr(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=ND)return;const t=e/this._deltaX;this._deltaX=0,t&&yr(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(de.on(this._element,SD,e=>this._start(e)),de.on(this._element,CD,e=>this._end(e)),this._element.classList.add(bD)):(de.on(this._element,ED,e=>this._start(e)),de.on(this._element,TD,e=>this._move(e)),de.on(this._element,ID,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===RD||e.pointerType===AD)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const DD="carousel",OD="bs.carousel",ko=`.${OD}`,BS=".data-api",xD="ArrowLeft",LD="ArrowRight",MD=500,Ku="next",fl="prev",_l="left",Vf="right",VD=`slide${ko}`,eg=`slid${ko}`,$D=`keydown${ko}`,UD=`mouseenter${ko}`,jD=`mouseleave${ko}`,FD=`dragstart${ko}`,BD=`load${ko}${BS}`,HD=`click${ko}${BS}`,HS="carousel",vf="active",zD="slide",WD="carousel-item-end",qD="carousel-item-start",KD="carousel-item-next",GD="carousel-item-prev",zS=".active",WS=".carousel-item",QD=zS+WS,YD=".carousel-item img",XD=".carousel-indicators",JD="[data-bs-slide], [data-bs-slide-to]",ZD='[data-bs-ride="carousel"]',e1={[xD]:Vf,[LD]:_l},t1={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},n1={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};let ev=class qS extends gi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=We.findOne(XD,this._element),this._addEventListeners(),this._config.ride===HS&&this.cycle()}static get Default(){return t1}static get DefaultType(){return n1}static get NAME(){return DD}next(){this._slide(Ku)}nextWhenVisible(){!document.hidden&&tu(this._element)&&this.next()}prev(){this._slide(fl)}pause(){this._isSliding&&RS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){de.one(this._element,eg,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){de.one(this._element,eg,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Ku:fl;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&de.on(this._element,$D,e=>this._keydown(e)),this._config.pause==="hover"&&(de.on(this._element,UD,()=>this.pause()),de.on(this._element,jD,()=>this._maybeEnableCycle())),this._config.touch&&th.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of We.find(YD,this._element))de.on(r,FD,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(_l)),rightCallback:()=>this._slide(this._directionToOrder(Vf)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),MD+this._config.interval))}};this._swipeHelper=new th(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=e1[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=We.findOne(zS,this._indicatorsElement);t.classList.remove(vf),t.removeAttribute("aria-current");const r=We.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(vf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Ku,a=t||Jy(this._getItems(),r,i,this._config.wrap);if(a===r)return;const l=this._getItemIndex(a),c=R=>de.trigger(this._element,R,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(c(VD).defaultPrevented||!r||!a)return;const p=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=a;const g=i?qD:WD,_=i?KD:GD;a.classList.add(_),Vc(a),r.classList.add(g),a.classList.add(g);const T=()=>{a.classList.remove(g,_),a.classList.add(vf),r.classList.remove(vf,_,g),this._isSliding=!1,c(eg)};this._queueCallback(T,r,this._isAnimated()),p&&this.cycle()}_isAnimated(){return this._element.classList.contains(zD)}_getActive(){return We.findOne(QD,this._element)}_getItems(){return We.find(WS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Qr()?e===_l?fl:Ku:e===_l?Ku:fl}_orderToDirection(e){return Qr()?e===fl?_l:Vf:e===fl?Vf:_l}static jQueryInterface(e){return this.each(function(){const t=qS.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};de.on(document,HD,JD,function(n){const e=We.getElementFromSelector(this);if(!e||!e.classList.contains(HS))return;n.preventDefault();const t=ev.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(cs.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});de.on(window,BD,()=>{const n=We.find(ZD);for(const e of n)ev.getOrCreateInstance(e)});Jr(ev);const r1="collapse",i1="bs.collapse",Uc=`.${i1}`,s1=".data-api",o1=`show${Uc}`,a1=`shown${Uc}`,l1=`hide${Uc}`,u1=`hidden${Uc}`,c1=`click${Uc}${s1}`,tg="show",Cl="collapse",_f="collapsing",d1="collapsed",f1=`:scope .${Cl} .${Cl}`,h1="collapse-horizontal",p1="width",m1="height",g1=".collapse.show, .collapse.collapsing",Bg='[data-bs-toggle="collapse"]',y1={parent:null,toggle:!0},v1={parent:"(null|element)",toggle:"boolean"};let KS=class Hg extends gi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=We.find(Bg);for(const i of r){const a=We.getSelectorFromElement(i),l=We.find(a).filter(c=>c===this._element);a!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return y1}static get DefaultType(){return v1}static get NAME(){return r1}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(g1).filter(c=>c!==this._element).map(c=>Hg.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||de.trigger(this._element,o1).defaultPrevented)return;for(const c of e)c.hide();const r=this._getDimension();this._element.classList.remove(Cl),this._element.classList.add(_f),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(_f),this._element.classList.add(Cl,tg),this._element.style[r]="",de.trigger(this._element,a1)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||de.trigger(this._element,l1).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Vc(this._element),this._element.classList.add(_f),this._element.classList.remove(Cl,tg);for(const i of this._triggerArray){const a=We.getElementFromSelector(i);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(_f),this._element.classList.add(Cl),de.trigger(this._element,u1)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(tg)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=_o(e.parent),e}_getDimension(){return this._element.classList.contains(h1)?p1:m1}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Bg);for(const t of e){const r=We.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=We.find(f1,this._config.parent);return We.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(d1,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Hg.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};de.on(document,c1,Bg,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of We.getMultipleElementsFromSelector(this))KS.getOrCreateInstance(e,{toggle:!1}).toggle()});Jr(KS);const ZE="dropdown",_1="bs.dropdown",Ca=`.${_1}`,tv=".data-api",w1="Escape",e0="Tab",E1="ArrowUp",t0="ArrowDown",T1=2,I1=`hide${Ca}`,S1=`hidden${Ca}`,C1=`show${Ca}`,A1=`shown${Ca}`,GS=`click${Ca}${tv}`,QS=`keydown${Ca}${tv}`,R1=`keyup${Ca}${tv}`,wl="show",b1="dropup",N1="dropend",k1="dropstart",P1="dropup-center",D1="dropdown-center",la='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',O1=`${la}.${wl}`,$f=".dropdown-menu",x1=".navbar",L1=".navbar-nav",M1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",V1=Qr()?"top-end":"top-start",$1=Qr()?"top-start":"top-end",U1=Qr()?"bottom-end":"bottom-start",j1=Qr()?"bottom-start":"bottom-end",F1=Qr()?"left-start":"right-start",B1=Qr()?"right-start":"left-start",H1="top",z1="bottom",W1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},q1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};let ru=class Uf extends gi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=We.next(this._element,$f)[0]||We.prev(this._element,$f)[0]||We.findOne($f,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return W1}static get DefaultType(){return q1}static get NAME(){return ZE}toggle(){return this._isShown()?this.hide():this.show()}show(){if(wo(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!de.trigger(this._element,C1,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(L1))for(const r of[].concat(...document.body.children))de.on(r,"mouseover",eh);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(wl),this._element.classList.add(wl),de.trigger(this._element,A1,e)}}hide(){if(wo(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!de.trigger(this._element,I1,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))de.off(r,"mouseover",eh);this._popper&&this._popper.destroy(),this._menu.classList.remove(wl),this._element.classList.remove(wl),this._element.setAttribute("aria-expanded","false"),cs.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,S1,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!us(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ZE.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof CS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:us(this._config.reference)?e=_o(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Xy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(wl)}_getPlacement(){const e=this._parent;if(e.classList.contains(N1))return F1;if(e.classList.contains(k1))return B1;if(e.classList.contains(P1))return H1;if(e.classList.contains(D1))return z1;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(b1)?t?$1:V1:t?j1:U1}_detectNavbar(){return this._element.closest(x1)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(cs.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...yr(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const r=We.find(M1,this._menu).filter(i=>tu(i));r.length&&Jy(r,t,e===t0,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Uf.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===T1||e.type==="keyup"&&e.key!==e0)return;const t=We.find(O1);for(const r of t){const i=Uf.getInstance(r);if(!i||i._config.autoClose===!1)continue;const a=e.composedPath(),l=a.includes(i._menu);if(a.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===e0||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===w1,i=[E1,t0].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const a=this.matches(la)?this:We.prev(this,la)[0]||We.next(this,la)[0]||We.findOne(la,e.delegateTarget.parentNode),l=Uf.getOrCreateInstance(a);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),a.focus())}};de.on(document,QS,la,ru.dataApiKeydownHandler);de.on(document,QS,$f,ru.dataApiKeydownHandler);de.on(document,GS,ru.clearMenus);de.on(document,R1,ru.clearMenus);de.on(document,GS,la,function(n){n.preventDefault(),ru.getOrCreateInstance(this).toggle()});Jr(ru);const YS="backdrop",K1="fade",n0="show",r0=`mousedown.bs.${YS}`,G1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Q1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class XS extends $c{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return G1}static get DefaultType(){return Q1}static get NAME(){return YS}show(e){if(!this._config.isVisible){yr(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Vc(t),t.classList.add(n0),this._emulateAnimation(()=>{yr(e)})}hide(e){if(!this._config.isVisible){yr(e);return}this._getElement().classList.remove(n0),this._emulateAnimation(()=>{this.dispose(),yr(e)})}dispose(){this._isAppended&&(de.off(this._element,r0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(K1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=_o(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),de.on(e,r0,()=>{yr(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){kS(e,this._getElement(),this._config.isAnimated)}}const Y1="focustrap",X1="bs.focustrap",nh=`.${X1}`,J1=`focusin${nh}`,Z1=`keydown.tab${nh}`,eO="Tab",tO="forward",i0="backward",nO={autofocus:!0,trapElement:null},rO={autofocus:"boolean",trapElement:"element"};class JS extends $c{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return nO}static get DefaultType(){return rO}static get NAME(){return Y1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),de.off(document,nh),de.on(document,J1,e=>this._handleFocusin(e)),de.on(document,Z1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,nh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=We.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===i0?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===eO&&(this._lastTabNavDirection=e.shiftKey?i0:tO)}}const s0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",o0=".sticky-top",wf="padding-right",a0="margin-right";class zg{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,wf,t=>t+e),this._setElementAttributes(s0,wf,t=>t+e),this._setElementAttributes(o0,a0,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,wf),this._resetElementAttributes(s0,wf),this._resetElementAttributes(o0,a0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),a=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const c=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&cs.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const a=cs.getDataAttribute(i,t);if(a===null){i.style.removeProperty(t);return}cs.removeDataAttribute(i,t),i.style.setProperty(t,a)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(us(e)){t(e);return}for(const r of We.find(e,this._element))t(r)}}const iO="modal",sO="bs.modal",Yr=`.${sO}`,oO=".data-api",aO="Escape",lO=`hide${Yr}`,uO=`hidePrevented${Yr}`,ZS=`hidden${Yr}`,eC=`show${Yr}`,cO=`shown${Yr}`,dO=`resize${Yr}`,fO=`click.dismiss${Yr}`,hO=`mousedown.dismiss${Yr}`,pO=`keydown.dismiss${Yr}`,mO=`click${Yr}${oO}`,l0="modal-open",gO="fade",u0="show",ng="modal-static",yO=".modal.show",vO=".modal-dialog",_O=".modal-body",wO='[data-bs-toggle="modal"]',EO={backdrop:!0,focus:!0,keyboard:!0},TO={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let rh=class tC extends gi{constructor(e,t){super(e,t),this._dialog=We.findOne(vO,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new zg,this._addEventListeners()}static get Default(){return EO}static get DefaultType(){return TO}static get NAME(){return iO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||de.trigger(this._element,eC,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(l0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||de.trigger(this._element,lO).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(u0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){de.off(window,Yr),de.off(this._dialog,Yr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new XS({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new JS({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=We.findOne(_O,this._dialog);t&&(t.scrollTop=0),Vc(this._element),this._element.classList.add(u0);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,cO,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){de.on(this._element,pO,e=>{if(e.key===aO){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),de.on(window,dO,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),de.on(this._element,hO,e=>{de.one(this._element,fO,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(l0),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,ZS)})}_isAnimated(){return this._element.classList.contains(gO)}_triggerBackdropTransition(){if(de.trigger(this._element,uO).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(ng)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(ng),this._queueCallback(()=>{this._element.classList.remove(ng),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=Qr()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=Qr()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=tC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};de.on(document,mO,wO,function(n){const e=We.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),de.one(e,eC,i=>{i.defaultPrevented||de.one(e,ZS,()=>{tu(this)&&this.focus()})});const t=We.findOne(yO);t&&rh.getInstance(t).hide(),rh.getOrCreateInstance(e).toggle(this)});Mh(rh);Jr(rh);const IO="offcanvas",SO="bs.offcanvas",Is=`.${SO}`,nC=".data-api",CO=`load${Is}${nC}`,AO="Escape",c0="show",d0="showing",f0="hiding",RO="offcanvas-backdrop",rC=".offcanvas.show",bO=`show${Is}`,NO=`shown${Is}`,kO=`hide${Is}`,h0=`hidePrevented${Is}`,iC=`hidden${Is}`,PO=`resize${Is}`,DO=`click${Is}${nC}`,OO=`keydown.dismiss${Is}`,xO='[data-bs-toggle="offcanvas"]',LO={backdrop:!0,keyboard:!0,scroll:!1},MO={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};let Vl=class sC extends gi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return LO}static get DefaultType(){return MO}static get NAME(){return IO}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||de.trigger(this._element,bO,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new zg().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(d0);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(c0),this._element.classList.remove(d0),de.trigger(this._element,NO,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||de.trigger(this._element,kO).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(f0),this._backdrop.hide();const t=()=>{this._element.classList.remove(c0,f0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new zg().reset(),de.trigger(this._element,iC)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){de.trigger(this._element,h0);return}this.hide()},t=!!this._config.backdrop;return new XS({className:RO,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new JS({trapElement:this._element})}_addEventListeners(){de.on(this._element,OO,e=>{if(e.key===AO){if(this._config.keyboard){this.hide();return}de.trigger(this._element,h0)}})}static jQueryInterface(e){return this.each(function(){const t=sC.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};de.on(document,DO,xO,function(n){const e=We.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),wo(this))return;de.one(e,iC,()=>{tu(this)&&this.focus()});const t=We.findOne(rC);t&&t!==e&&Vl.getInstance(t).hide(),Vl.getOrCreateInstance(e).toggle(this)});de.on(window,CO,()=>{for(const n of We.find(rC))Vl.getOrCreateInstance(n).show()});de.on(window,PO,()=>{for(const n of We.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Vl.getOrCreateInstance(n).hide()});Mh(Vl);Jr(Vl);const VO=/^aria-[\w-]*$/i,oC={"*":["class","dir","id","lang","role",VO],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$O=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),UO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,jO=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?$O.has(t)?!!UO.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function FO(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(const l of a){const c=l.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){l.remove();continue}const f=[].concat(...l.attributes),p=[].concat(e["*"]||[],e[c]||[]);for(const g of f)jO(g,p)||l.removeAttribute(g.nodeName)}return i.body.innerHTML}const BO="TemplateFactory",HO={allowList:oC,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},zO={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},WO={entry:"(string|element|function|null)",selector:"(string|element)"};class qO extends $c{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return HO}static get DefaultType(){return zO}static get NAME(){return BO}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,a]of Object.entries(this._config.content))this._setContent(e,a,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},WO)}_setContent(e,t,r){const i=We.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(us(t)){this._putElementInTemplate(_o(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?FO(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return yr(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const KO="tooltip",GO=new Set(["sanitize","allowList","sanitizeFn"]),rg="fade",QO="modal",Ef="show",YO=".tooltip-inner",p0=`.${QO}`,m0="hide.bs.modal",Gu="hover",ig="focus",XO="click",JO="manual",ZO="hide",ex="hidden",tx="show",nx="shown",rx="inserted",ix="click",sx="focusin",ox="focusout",ax="mouseenter",lx="mouseleave",ux={AUTO:"auto",TOP:"top",RIGHT:Qr()?"left":"right",BOTTOM:"bottom",LEFT:Qr()?"right":"left"},cx={allowList:oC,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},dx={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Vh=class aC extends gi{constructor(e,t){if(typeof CS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return cx}static get DefaultType(){return dx}static get NAME(){return KO}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(p0),m0,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=de.trigger(this._element,this.constructor.eventName(tx)),r=(bS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(i),de.trigger(this._element,this.constructor.eventName(rx))),this._popper=this._createPopper(i),i.classList.add(Ef),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))de.on(c,"mouseover",eh);const l=()=>{de.trigger(this._element,this.constructor.eventName(nx)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||de.trigger(this._element,this.constructor.eventName(ZO)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ef),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))de.off(i,"mouseover",eh);this._activeTrigger[XO]=!1,this._activeTrigger[ig]=!1,this._activeTrigger[Gu]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.eventName(ex)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(rg,Ef),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=XP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(rg),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new qO({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[YO]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(rg)}_isShown(){return this.tip&&this.tip.classList.contains(Ef)}_createPopper(e){const t=yr(this._config.placement,[this,e,this._element]),r=ux[t.toUpperCase()];return Xy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return yr(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...yr(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")de.on(this._element,this.constructor.eventName(ix),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==JO){const r=t===Gu?this.constructor.eventName(ax):this.constructor.eventName(sx),i=t===Gu?this.constructor.eventName(lx):this.constructor.eventName(ox);de.on(this._element,r,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusin"?ig:Gu]=!0,l._enter()}),de.on(this._element,i,this._config.selector,a=>{const l=this._initializeOnDelegatedTarget(a);l._activeTrigger[a.type==="focusout"?ig:Gu]=l._element.contains(a.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(p0),m0,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=cs.getDataAttributes(this._element);for(const r of Object.keys(t))GO.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:_o(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=aC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Jr(Vh);const fx="popover",hx=".popover-header",px=".popover-body",mx={...Vh.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},gx={...Vh.DefaultType,content:"(null|string|element|function)"};let yx=class lC extends Vh{static get Default(){return mx}static get DefaultType(){return gx}static get NAME(){return fx}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[hx]:this._getTitle(),[px]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=lC.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Jr(yx);const vx="scrollspy",_x="bs.scrollspy",nv=`.${_x}`,wx=".data-api",Ex=`activate${nv}`,g0=`click${nv}`,Tx=`load${nv}${wx}`,Ix="dropdown-item",hl="active",Sx='[data-bs-spy="scroll"]',sg="[href]",Cx=".nav, .list-group",y0=".nav-link",Ax=".nav-item",Rx=".list-group-item",bx=`${y0}, ${Ax} > ${y0}, ${Rx}`,Nx=".dropdown",kx=".dropdown-toggle",Px={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Dx={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $h extends gi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Px}static get DefaultType(){return Dx}static get NAME(){return vx}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=_o(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(de.off(this._config.target,g0),de.on(this._config.target,g0,sg,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,a=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const c=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&c){if(r(l),!i)return;continue}!a&&!c&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=We.find(sg,this._config.target);for(const t of e){if(!t.hash||wo(t))continue;const r=We.findOne(decodeURI(t.hash),this._element);tu(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(hl),this._activateParents(e),de.trigger(this._element,Ex,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Ix)){We.findOne(kx,e.closest(Nx)).classList.add(hl);return}for(const t of We.parents(e,Cx))for(const r of We.prev(t,bx))r.classList.add(hl)}_clearActiveClass(e){e.classList.remove(hl);const t=We.find(`${sg}.${hl}`,e);for(const r of t)r.classList.remove(hl)}static jQueryInterface(e){return this.each(function(){const t=$h.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(window,Tx,()=>{for(const n of We.find(Sx))$h.getOrCreateInstance(n)});Jr($h);const Ox="tab",xx="bs.tab",Aa=`.${xx}`,Lx=`hide${Aa}`,Mx=`hidden${Aa}`,Vx=`show${Aa}`,$x=`shown${Aa}`,Ux=`click${Aa}`,jx=`keydown${Aa}`,Fx=`load${Aa}`,Bx="ArrowLeft",v0="ArrowRight",Hx="ArrowUp",_0="ArrowDown",og="Home",w0="End",ua="active",E0="fade",ag="show",zx="dropdown",uC=".dropdown-toggle",Wx=".dropdown-menu",lg=`:not(${uC})`,qx='.list-group, .nav, [role="tablist"]',Kx=".nav-item, .list-group-item",Gx=`.nav-link${lg}, .list-group-item${lg}, [role="tab"]${lg}`,cC='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ug=`${Gx}, ${cC}`,Qx=`.${ua}[data-bs-toggle="tab"], .${ua}[data-bs-toggle="pill"], .${ua}[data-bs-toggle="list"]`;class $l extends gi{constructor(e){super(e),this._parent=this._element.closest(qx),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),de.on(this._element,jx,t=>this._keydown(t)))}static get NAME(){return Ox}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?de.trigger(t,Lx,{relatedTarget:e}):null;de.trigger(e,Vx,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ua),this._activate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(ag);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),de.trigger(e,$x,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(E0))}_deactivate(e,t){if(!e)return;e.classList.remove(ua),e.blur(),this._deactivate(We.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(ag);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),de.trigger(e,Mx,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(E0))}_keydown(e){if(![Bx,v0,Hx,_0,og,w0].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!wo(i));let r;if([og,w0].includes(e.key))r=t[e.key===og?0:t.length-1];else{const i=[v0,_0].includes(e.key);r=Jy(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),$l.getOrCreateInstance(r).show())}_getChildren(){return We.find(ug,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=We.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(zx))return;const i=(a,l)=>{const c=We.findOne(a,r);c&&c.classList.toggle(l,t)};i(uC,ua),i(Wx,ag),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ua)}_getInnerElement(e){return e.matches(ug)?e:We.findOne(ug,e)}_getOuterElement(e){return e.closest(Kx)||e}static jQueryInterface(e){return this.each(function(){const t=$l.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}de.on(document,Ux,cC,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!wo(this)&&$l.getOrCreateInstance(this).show()});de.on(window,Fx,()=>{for(const n of We.find(Qx))$l.getOrCreateInstance(n)});Jr($l);const Yx="toast",Xx="bs.toast",Po=`.${Xx}`,Jx=`mouseover${Po}`,Zx=`mouseout${Po}`,eL=`focusin${Po}`,tL=`focusout${Po}`,nL=`hide${Po}`,rL=`hidden${Po}`,iL=`show${Po}`,sL=`shown${Po}`,oL="fade",T0="hide",Tf="show",If="showing",aL={animation:"boolean",autohide:"boolean",delay:"number"},lL={animation:!0,autohide:!0,delay:5e3};class Uh extends gi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return lL}static get DefaultType(){return aL}static get NAME(){return Yx}show(){if(de.trigger(this._element,iL).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(oL);const t=()=>{this._element.classList.remove(If),de.trigger(this._element,sL),this._maybeScheduleHide()};this._element.classList.remove(T0),Vc(this._element),this._element.classList.add(Tf,If),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||de.trigger(this._element,nL).defaultPrevented)return;const t=()=>{this._element.classList.add(T0),this._element.classList.remove(If,Tf),de.trigger(this._element,rL)};this._element.classList.add(If),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tf),super.dispose()}isShown(){return this._element.classList.contains(Tf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,Jx,e=>this._onInteraction(e,!0)),de.on(this._element,Zx,e=>this._onInteraction(e,!1)),de.on(this._element,eL,e=>this._onInteraction(e,!0)),de.on(this._element,tL,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Uh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Mh(Uh);Jr(Uh);var cg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var I0;function uL(){return I0||(I0=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=i(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=i(l,c));return l}function i(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(cg)),cg.exports}var cL=uL();const ye=xc(cL);function Wg(){return Wg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wg.apply(null,arguments)}function dC(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function S0(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function dL(n){var e=fL(n,"string");return typeof e=="symbol"?e:String(e)}function fL(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function fC(n,e,t){var r=w.useRef(n!==void 0),i=w.useState(e),a=i[0],l=i[1],c=n!==void 0,f=r.current;return r.current=c,!c&&f&&a!==e&&l(e),[c?n:a,w.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),T=1;T<g;T++)_[T-1]=arguments[T];t&&t.apply(void 0,[p].concat(_)),l(p)},[t])]}function Ra(n,e){return Object.keys(e).reduce(function(t,r){var i,a=t,l=a[S0(r)],c=a[r],f=dC(a,[S0(r),r].map(dL)),p=e[r],g=fC(c,l,n[p]),_=g[0],T=g[1];return Wg({},f,(i={},i[r]=_,i[p]=T,i))},n)}function qg(n,e){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},qg(n,e)}function hL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qg(n,e)}var dg={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function pL(){if(C0)return Qu;C0=1;var n=My(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var g,_={},T=null,R=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(R=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:c,key:T,ref:R,props:_,_owner:i.current}}return Qu.Fragment=t,Qu.jsx=l,Qu.jsxs=l,Qu}var A0;function mL(){return A0||(A0=1,dg.exports=pL()),dg.exports}var rv=mL();const I=rv.jsx,re=rv.jsxs,on=rv.Fragment,gL=["xxl","xl","lg","md","sm","xs"],yL="xs",jc=w.createContext({prefixes:{},breakpoints:gL,minBreakpoint:yL}),{Consumer:mH,Provider:gH}=jc;function we(n,e){const{prefixes:t}=w.useContext(jc);return n||t[e]||e}function hC(){const{breakpoints:n}=w.useContext(jc);return n}function pC(){const{minBreakpoint:n}=w.useContext(jc);return n}function Fc(){const{dir:n}=w.useContext(jc);return n==="rtl"}function iu(n){return n&&n.ownerDocument||document}function vL(n){var e=iu(n);return e&&e.defaultView||window}function _L(n,e){return vL(n).getComputedStyle(n,e)}var wL=/([A-Z])/g;function EL(n){return n.replace(wL,"-$1").toLowerCase()}var TL=/^ms-/;function Sf(n){return EL(n).replace(TL,"-ms-")}var IL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function SL(n){return!!(n&&IL.test(n))}function ds(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Sf(e))||_L(n).getPropertyValue(Sf(e));Object.keys(e).forEach(function(i){var a=e[i];!a&&a!==0?n.style.removeProperty(Sf(i)):SL(i)?r+=i+"("+a+") ":t+=Sf(i)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var fg={exports:{}},hg,R0;function CL(){if(R0)return hg;R0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hg=n,hg}var pg,b0;function AL(){if(b0)return pg;b0=1;var n=CL();function e(){}function t(){}return t.resetWarningCache=e,pg=function(){function r(l,c,f,p,g,_){if(_!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},pg}var N0;function RL(){return N0||(N0=1,fg.exports=AL()()),fg.exports}var bL=RL();const Jn=xc(bL);var mC=sS();const ao=xc(mC),NL=iS({__proto__:null,default:ao},[mC]),k0={disabled:!1},gC=fn.createContext(null);var kL=function(e){return e.scrollTop},nc="unmounted",no="exited",hi="entering",is="entered",vc="exiting",Ss=function(n){hL(e,n);function e(r,i){var a;a=n.call(this,r,i)||this;var l=i,c=l&&!l.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?c?(f=no,a.appearStatus=hi):f=is:r.unmountOnExit||r.mountOnEnter?f=nc:f=no,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var l=i.in;return l&&a.status===nc?{status:no}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var a=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==hi&&l!==is&&(a=hi):(l===hi||l===is)&&(a=vc)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,a,l,c;return a=l=c=i,i!=null&&typeof i!="number"&&(a=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:a,enter:l,appear:c}},t.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===hi){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:ao.findDOMNode(this);l&&kL(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===no&&this.setState({status:nc})},t.performEnter=function(i){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:i,f=this.props.nodeRef?[c]:[ao.findDOMNode(this),c],p=f[0],g=f[1],_=this.getTimeouts(),T=c?_.appear:_.enter;if(!i&&!l||k0.disabled){this.safeSetState({status:is},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:hi},function(){a.props.onEntering(p,g),a.onTransitionEnd(T,function(){a.safeSetState({status:is},function(){a.props.onEntered(p,g)})})})},t.performExit=function(){var i=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:ao.findDOMNode(this);if(!a||k0.disabled){this.safeSetState({status:no},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:vc},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:no},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},t.setNextCallback=function(i){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:ao.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===nc)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=dC(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(gC.Provider,{value:null},typeof l=="function"?l(i,c):fn.cloneElement(fn.Children.only(l),c))},e}(fn.Component);Ss.contextType=gC;Ss.propTypes={};function pl(){}Ss.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pl,onEntering:pl,onEntered:pl,onExit:pl,onExiting:pl,onExited:pl};Ss.UNMOUNTED=nc;Ss.EXITED=no;Ss.ENTERING=hi;Ss.ENTERED=is;Ss.EXITING=vc;function yC(n){return n.code==="Escape"||n.keyCode===27}function PL(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function ba(n){if(!n||typeof n=="function")return null;const{major:e}=PL();return e>=19?n.props.ref:n.ref}const su=!!(typeof window<"u"&&window.document&&window.document.createElement);var Kg=!1,Gg=!1;try{var mg={get passive(){return Kg=!0},get once(){return Gg=Kg=!0}};su&&(window.addEventListener("test",mg,mg),window.removeEventListener("test",mg,!0))}catch{}function iv(n,e,t,r){if(r&&typeof r!="boolean"&&!Gg){var i=r.once,a=r.capture,l=t;!Gg&&i&&(l=t.__once||function c(f){this.removeEventListener(e,c,a),t.call(this,f)},t.__once=l),n.addEventListener(e,l,Kg?r:a)}n.addEventListener(e,t,r)}function Qg(n,e,t,r){var i=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,i),t.__once&&n.removeEventListener(e,t.__once,i)}function ss(n,e,t,r){return iv(n,e,t,r),function(){Qg(n,e,t,r)}}function DL(n,e,t,r){if(r===void 0&&(r=!0),n){var i=document.createEvent("HTMLEvents");i.initEvent(e,t,r),n.dispatchEvent(i)}}function OL(n){var e=ds(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function xL(n,e,t){t===void 0&&(t=5);var r=!1,i=setTimeout(function(){r||DL(n,"transitionend",!0)},e+t),a=ss(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function vC(n,e,t,r){t==null&&(t=OL(n)||0);var i=xL(n,t,r),a=ss(n,"transitionend",e);return function(){i(),a()}}function P0(n,e){const t=ds(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function jh(n,e){const t=P0(n,"transitionDuration"),r=P0(n,"transitionDelay"),i=vC(n,a=>{a.target===n&&(i(),e(a))},t+r)}function Yu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...i){e.apply(this,i),t.apply(this,i)}},null)}function sv(n){n.offsetHeight}const D0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function LL(n,e){const t=D0(n),r=D0(e);return i=>{t&&t(i),r&&r(i)}}function ou(n,e){return w.useMemo(()=>LL(n,e),[n,e])}function ih(n){return n&&"setState"in n?ao.findDOMNode(n):n??null}const Fh=fn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,onExited:a,addEndListener:l,children:c,childRef:f,...p},g)=>{const _=w.useRef(null),T=ou(_,f),R=Y=>{T(ih(Y))},P=Y=>S=>{Y&&_.current&&Y(_.current,S)},x=w.useCallback(P(n),[n]),k=w.useCallback(P(e),[e]),W=w.useCallback(P(t),[t]),V=w.useCallback(P(r),[r]),H=w.useCallback(P(i),[i]),B=w.useCallback(P(a),[a]),K=w.useCallback(P(l),[l]);return I(Ss,{ref:g,...p,onEnter:x,onEntered:W,onEntering:k,onExit:V,onExited:B,onExiting:H,addEndListener:K,nodeRef:_,children:typeof c=="function"?(Y,S)=>c(Y,{...S,ref:R}):fn.cloneElement(c,{ref:R})})}),ML={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function VL(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],i=ML[n];return r+parseInt(ds(e,i[0]),10)+parseInt(ds(e,i[1]),10)}const $L={[no]:"collapse",[vc]:"collapsing",[hi]:"collapsing",[is]:"collapse show"},_C=fn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:i,className:a,children:l,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:T=!1,getDimensionValue:R=VL,...P},x)=>{const k=typeof c=="function"?c():c,W=w.useMemo(()=>Yu(Y=>{Y.style[k]="0"},n),[k,n]),V=w.useMemo(()=>Yu(Y=>{const S=`scroll${k[0].toUpperCase()}${k.slice(1)}`;Y.style[k]=`${Y[S]}px`},e),[k,e]),H=w.useMemo(()=>Yu(Y=>{Y.style[k]=null},t),[k,t]),B=w.useMemo(()=>Yu(Y=>{Y.style[k]=`${R(k,Y)}px`,sv(Y)},r),[r,R,k]),K=w.useMemo(()=>Yu(Y=>{Y.style[k]=null},i),[k,i]);return I(Fh,{ref:x,addEndListener:jh,...P,"aria-expanded":P.role?f:null,onEnter:W,onEntering:V,onEntered:H,onExit:B,onExiting:K,childRef:ba(l),in:f,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:T,children:(Y,S)=>fn.cloneElement(l,{...S,className:ye(a,l.props.className,$L[Y],k==="width"&&"collapse-horizontal")})})});function wC(n,e){return Array.isArray(n)?n.includes(e):n===e}const Bc=w.createContext({});Bc.displayName="AccordionContext";const ov=w.forwardRef(({as:n="div",bsPrefix:e,className:t,children:r,eventKey:i,...a},l)=>{const{activeEventKey:c}=w.useContext(Bc);return e=we(e,"accordion-collapse"),I(_C,{ref:l,in:wC(c,i),...a,className:ye(t,e),children:I(n,{children:w.Children.only(r)})})});ov.displayName="AccordionCollapse";const Bh=w.createContext({eventKey:""});Bh.displayName="AccordionItemContext";const EC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,...p},g)=>{e=we(e,"accordion-body");const{eventKey:_}=w.useContext(Bh);return I(ov,{eventKey:_,onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,onExited:f,children:I(n,{ref:g,...p,className:ye(t,e)})})});EC.displayName="AccordionBody";function UL(n,e){const{activeEventKey:t,onSelect:r,alwaysOpen:i}=w.useContext(Bc);return a=>{let l=n===t?null:n;i&&(Array.isArray(t)?t.includes(n)?l=t.filter(c=>c!==n):l=[...t,n]:l=[n]),r==null||r(l,a),e==null||e(a)}}const av=w.forwardRef(({as:n="button",bsPrefix:e,className:t,onClick:r,...i},a)=>{e=we(e,"accordion-button");const{eventKey:l}=w.useContext(Bh),c=UL(l,r),{activeEventKey:f}=w.useContext(Bc);return n==="button"&&(i.type="button"),I(n,{ref:a,onClick:c,...i,"aria-expanded":Array.isArray(f)?f.includes(l):l===f,className:ye(t,e,!wC(f,l)&&"collapsed")})});av.displayName="AccordionButton";const TC=w.forwardRef(({as:n="h2","aria-controls":e,bsPrefix:t,className:r,children:i,onClick:a,...l},c)=>(t=we(t,"accordion-header"),I(n,{ref:c,...l,className:ye(r,t),children:I(av,{onClick:a,"aria-controls":e,children:i})})));TC.displayName="AccordionHeader";const IC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,eventKey:r,...i},a)=>{e=we(e,"accordion-item");const l=w.useMemo(()=>({eventKey:r}),[r]);return I(Bh.Provider,{value:l,children:I(n,{ref:a,...i,className:ye(t,e)})})});IC.displayName="AccordionItem";const SC=w.forwardRef((n,e)=>{const{as:t="div",activeKey:r,bsPrefix:i,className:a,onSelect:l,flush:c,alwaysOpen:f,...p}=Ra(n,{activeKey:"onSelect"}),g=we(i,"accordion"),_=w.useMemo(()=>({activeEventKey:r,onSelect:l,alwaysOpen:f}),[r,l,f]);return I(Bc.Provider,{value:_,children:I(t,{ref:e,...p,className:ye(a,g,c&&`${g}-flush`)})})});SC.displayName="Accordion";const lo=Object.assign(SC,{Button:av,Collapse:ov,Item:IC,Header:TC,Body:EC});function CC(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Xr(n){const e=CC(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Hc=n=>w.forwardRef((e,t)=>I("div",{...e,ref:t,className:ye(e.className,n)})),AC=Hc("h4");AC.displayName="DivStyledAsH4";const RC=w.forwardRef(({className:n,bsPrefix:e,as:t=AC,...r},i)=>(e=we(e,"alert-heading"),I(t,{ref:i,className:ye(n,e),...r})));RC.displayName="AlertHeading";function Yg(){return w.useState(null)}function jL(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Nn(n){const e=jL(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function FL(n,e,t,r=!1){const i=Nn(t);w.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,i,r),()=>a.removeEventListener(e,i,r)},[n])}function bC(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function NC(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const BL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",HL=typeof document<"u",O0=HL||BL?w.useLayoutEffect:w.useEffect,zL=["as","disabled"];function WL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function qL(n){return!n||n.trim()==="#"}function lv({tagName:n,disabled:e,href:t,target:r,rel:i,role:a,onClick:l,tabIndex:c=0,type:f}){n||(t!=null||r!=null||i!=null?n="a":n="button");const p={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},p];const g=T=>{if((e||n==="a"&&qL(t))&&T.preventDefault(),e){T.stopPropagation();return}l==null||l(T)},_=T=>{T.key===" "&&(T.preventDefault(),g(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?i:void 0,onClick:g,onKeyDown:_},p]}const uv=w.forwardRef((n,e)=>{let{as:t,disabled:r}=n,i=WL(n,zL);const[a,{tagName:l}]=lv(Object.assign({tagName:t,disabled:r},i));return I(l,Object.assign({},i,a,{ref:e}))});uv.displayName="Button";const KL=["onKeyDown"];function GL(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function QL(n){return!n||n.trim()==="#"}const Ul=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=GL(n,KL);const[i]=lv(Object.assign({tagName:"a"},r)),a=Nn(l=>{i.onKeyDown(l),t==null||t(l)});return QL(r.href)||r.role==="button"?I("a",Object.assign({ref:e},r,i,{onKeyDown:a})):I("a",Object.assign({ref:e},r,{onKeyDown:t}))});Ul.displayName="Anchor";const kC=w.forwardRef(({className:n,bsPrefix:e,as:t=Ul,...r},i)=>(e=we(e,"alert-link"),I(t,{ref:i,className:ye(n,e),...r})));kC.displayName="AlertLink";const YL={[hi]:"show",[is]:"show"},Eo=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...i},a)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},c=w.useCallback((f,p)=>{sv(f),r==null||r(f,p)},[r]);return I(Fh,{ref:a,addEndListener:jh,...l,onEnter:c,childRef:ba(e),children:(f,p)=>w.cloneElement(e,{...p,className:ye("fade",n,e.props.className,YL[f],t[f])})})});Eo.displayName="Fade";const XL={"aria-label":Jn.string,onClick:Jn.func,variant:Jn.oneOf(["white"])},zc=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},i)=>I("button",{ref:i,type:"button",className:ye("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));zc.displayName="CloseButton";zc.propTypes=XL;const PC=w.forwardRef((n,e)=>{const{bsPrefix:t,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:l,children:c,variant:f="primary",onClose:p,dismissible:g,transition:_=Eo,...T}=Ra(n,{show:"onClose"}),R=we(t,"alert"),P=Xr(W=>{p&&p(!1,W)}),x=_===!0?Eo:_,k=re("div",{role:"alert",...x?void 0:T,ref:e,className:ye(l,R,f&&`${R}-${f}`,g&&`${R}-dismissible`),children:[g&&I(zc,{onClick:P,"aria-label":i,variant:a}),c]});return x?I(x,{unmountOnExit:!0,...T,ref:void 0,in:r,children:k}):r?k:null});PC.displayName="Alert";const _c=Object.assign(PC,{Link:kC,Heading:RC}),dn=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:i=!1,disabled:a=!1,className:l,...c},f)=>{const p=we(e,"btn"),[g,{tagName:_}]=lv({tagName:n,disabled:a,...c});return I(_,{...g,...c,ref:f,disabled:a,className:ye(l,p,i&&"active",t&&`${p}-${t}`,r&&`${p}-${r}`,c.href&&a&&"disabled")})});dn.displayName="Button";const cv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-body"),I(t,{ref:i,className:ye(n,e),...r})));cv.displayName="CardBody";const DC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-footer"),I(t,{ref:i,className:ye(n,e),...r})));DC.displayName="CardFooter";const dv=w.createContext(null);dv.displayName="CardHeaderContext";const OC=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=we(n,"card-header"),l=w.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return I(dv.Provider,{value:l,children:I(t,{ref:i,...r,className:ye(e,a)})})});OC.displayName="CardHeader";const xC=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...i},a)=>{const l=we(n,"card-img");return I(r,{ref:a,className:ye(t?`${l}-${t}`:l,e),...i})});xC.displayName="CardImg";const LC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"card-img-overlay"),I(t,{ref:i,className:ye(n,e),...r})));LC.displayName="CardImgOverlay";const MC=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},i)=>(e=we(e,"card-link"),I(t,{ref:i,className:ye(n,e),...r})));MC.displayName="CardLink";const JL=Hc("h6"),VC=w.forwardRef(({className:n,bsPrefix:e,as:t=JL,...r},i)=>(e=we(e,"card-subtitle"),I(t,{ref:i,className:ye(n,e),...r})));VC.displayName="CardSubtitle";const $C=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},i)=>(e=we(e,"card-text"),I(t,{ref:i,className:ye(n,e),...r})));$C.displayName="CardText";const ZL=Hc("h5"),UC=w.forwardRef(({className:n,bsPrefix:e,as:t=ZL,...r},i)=>(e=we(e,"card-title"),I(t,{ref:i,className:ye(n,e),...r})));UC.displayName="CardTitle";const jC=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:i,body:a=!1,children:l,as:c="div",...f},p)=>{const g=we(n,"card");return I(c,{ref:p,...f,className:ye(e,g,t&&`bg-${t}`,r&&`text-${r}`,i&&`border-${i}`),children:a?I(cv,{children:l}):l})});jC.displayName="Card";const Pr=Object.assign(jC,{Img:xC,Title:UC,Subtitle:VC,Body:cv,Link:MC,Text:$C,Header:OC,Footer:DC,ImgOverlay:LC});function eM(n,e){const t=w.useRef(!0);w.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function tM(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function nM(n){const e=w.useRef(n);return e.current=n,e}function FC(n){const e=nM(n);w.useEffect(()=>()=>e.current(),[])}const Xg=2**31-1;function BC(n,e,t){const r=t-Date.now();n.current=r<=Xg?setTimeout(e,r):setTimeout(()=>BC(n,e,t),Xg)}function HC(){const n=tM(),e=w.useRef();return FC(()=>clearTimeout(e.current)),w.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(i,a=0){n()&&(t(),a<=Xg?e.current=setTimeout(i,a):BC(e,i,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const zC=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"carousel-caption"),I(t,{ref:i,className:ye(n,e),...r})));zC.displayName="CarouselCaption";const WC=w.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},i)=>{const a=ye(t,we(e,"carousel-item"));return I(n,{ref:i,...r,className:a})});WC.displayName="CarouselItem";function x0(n,e){let t=0;return w.Children.map(n,r=>w.isValidElement(r)?e(r,t++):r)}function rM(n,e){let t=0;w.Children.forEach(n,r=>{w.isValidElement(r)&&e(r,t++)})}function iM(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}const sM=40;function oM(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const qC=w.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:i,slide:a=!0,fade:l=!1,controls:c=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:g,onSelect:_,onSlide:T,onSlid:R,interval:P=5e3,keyboard:x=!0,onKeyDown:k,pause:W="hover",onMouseOver:V,onMouseOut:H,wrap:B=!0,touch:K=!0,onTouchStart:Y,onTouchMove:S,onTouchEnd:C,prevIcon:b=I("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:O="Previous",nextIcon:L=I("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:$="Next",variant:D,className:Ee,children:Le,...He}=Ra({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),Ne=we(i,"carousel"),ne=Fc(),me=w.useRef(null),[ue,F]=w.useState("next"),[ee,pe]=w.useState(!1),[ve,Ie]=w.useState(!1),[Ae,Ge]=w.useState(g||0);w.useEffect(()=>{!ve&&g!==Ae&&(me.current?F(me.current):F((g||0)>Ae?"next":"prev"),a&&Ie(!0),Ge(g||0))},[g,ve,Ae,a]),w.useEffect(()=>{me.current&&(me.current=null)});let Fe=0,st;rM(Le,(ze,ot)=>{++Fe,ot===g&&(st=ze.props.interval)});const Et=CC(st),St=w.useCallback(ze=>{if(ve)return;let ot=Ae-1;if(ot<0){if(!B)return;ot=Fe-1}me.current="prev",_==null||_(ot,ze)},[ve,Ae,_,B,Fe]),it=Xr(ze=>{if(ve)return;let ot=Ae+1;if(ot>=Fe){if(!B)return;ot=0}me.current="next",_==null||_(ot,ze)}),kt=w.useRef();w.useImperativeHandle(t,()=>({element:kt.current,prev:St,next:it}));const Kt=Xr(()=>{!document.hidden&&oM(kt.current)&&(ne?St():it())}),rt=ue==="next"?"start":"end";eM(()=>{a||(T==null||T(Ae,rt),R==null||R(Ae,rt))},[Ae]);const Ft=`${Ne}-item-${ue}`,mn=`${Ne}-item-${rt}`,Mr=w.useCallback(ze=>{sv(ze),T==null||T(Ae,rt)},[T,Ae,rt]),Wn=w.useCallback(()=>{Ie(!1),R==null||R(Ae,rt)},[R,Ae,rt]),Bt=w.useCallback(ze=>{if(x&&!/input|textarea/i.test(ze.target.tagName))switch(ze.key){case"ArrowLeft":ze.preventDefault(),ne?it(ze):St(ze);return;case"ArrowRight":ze.preventDefault(),ne?St(ze):it(ze);return}k==null||k(ze)},[x,k,St,it,ne]),Jt=w.useCallback(ze=>{W==="hover"&&pe(!0),V==null||V(ze)},[W,V]),rr=w.useCallback(ze=>{pe(!1),H==null||H(ze)},[H]),Dn=w.useRef(0),Dt=w.useRef(0),an=HC(),Ue=w.useCallback(ze=>{Dn.current=ze.touches[0].clientX,Dt.current=0,W==="hover"&&pe(!0),Y==null||Y(ze)},[W,Y]),mt=w.useCallback(ze=>{ze.touches&&ze.touches.length>1?Dt.current=0:Dt.current=ze.touches[0].clientX-Dn.current,S==null||S(ze)},[S]),Ot=w.useCallback(ze=>{if(K){const ot=Dt.current;Math.abs(ot)>sM&&(ot>0?St(ze):it(ze))}W==="hover"&&an.set(()=>{pe(!1)},P||void 0),C==null||C(ze)},[K,W,St,it,an,P,C]),gn=P!=null&&!ee&&!ve,qn=w.useRef();w.useEffect(()=>{var ze,ot;if(!gn)return;const yn=ne?St:it;return qn.current=window.setInterval(document.visibilityState?Kt:yn,(ze=(ot=Et.current)!=null?ot:P)!=null?ze:void 0),()=>{qn.current!==null&&clearInterval(qn.current)}},[gn,St,it,Et,P,Kt,ne]);const Kn=w.useMemo(()=>f&&Array.from({length:Fe},(ze,ot)=>yn=>{_==null||_(ot,yn)}),[f,Fe,_]);return re(r,{ref:kt,...He,onKeyDown:Bt,onMouseOver:Jt,onMouseOut:rr,onTouchStart:Ue,onTouchMove:mt,onTouchEnd:Ot,className:ye(Ee,Ne,a&&"slide",l&&`${Ne}-fade`,D&&`${Ne}-${D}`),children:[f&&I("div",{className:`${Ne}-indicators`,children:x0(Le,(ze,ot)=>I("button",{type:"button","data-bs-target":"","aria-label":p!=null&&p.length?p[ot]:`Slide ${ot+1}`,className:ot===Ae?"active":void 0,onClick:Kn?Kn[ot]:void 0,"aria-current":ot===Ae},ot))}),I("div",{className:`${Ne}-inner`,children:x0(Le,(ze,ot)=>{const yn=ot===Ae;return a?I(Fh,{in:yn,onEnter:yn?Mr:void 0,onEntered:yn?Wn:void 0,addEndListener:jh,children:(ir,yi)=>w.cloneElement(ze,{...yi,className:ye(ze.props.className,yn&&ir!=="entered"&&Ft,(ir==="entered"||ir==="exiting")&&"active",(ir==="entering"||ir==="exiting")&&mn)})}):w.cloneElement(ze,{className:ye(ze.props.className,yn&&"active")})})}),c&&re(on,{children:[(B||g!==0)&&re(Ul,{className:`${Ne}-control-prev`,onClick:St,children:[b,O&&I("span",{className:"visually-hidden",children:O})]}),(B||g!==Fe-1)&&re(Ul,{className:`${Ne}-control-next`,onClick:it,children:[L,$&&I("span",{className:"visually-hidden",children:$})]})]})]})});qC.displayName="Carousel";const L0=Object.assign(qC,{Caption:zC,Item:WC});function aM({as:n,bsPrefix:e,className:t,...r}){e=we(e,"col");const i=hC(),a=pC(),l=[],c=[];return i.forEach(f=>{const p=r[f];delete r[f];let g,_,T;typeof p=="object"&&p!=null?{span:g,offset:_,order:T}=p:g=p;const R=f!==a?`-${f}`:"";g&&l.push(g===!0?`${e}${R}`:`${e}${R}-${g}`),T!=null&&c.push(`order${R}-${T}`),_!=null&&c.push(`offset${R}-${_}`)}),[{...r,className:ye(t,...l,...c)},{as:n,bsPrefix:e,spans:l}]}const _r=w.forwardRef((n,e)=>{const[{className:t,...r},{as:i="div",bsPrefix:a,spans:l}]=aM(n);return I(i,{...r,ref:e,className:ye(t,!l.length&&a)})});_r.displayName="Col";const Do=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...i},a)=>{const l=we(n,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return I(t,{ref:a,...i,className:ye(r,e?`${l}${c}`:l)})});Do.displayName="Container";var lM=Function.prototype.bind.call(Function.prototype.call,[].slice);function rs(n,e){return lM(n.querySelectorAll(e))}function uM(n,e,t){const r=w.useRef(n!==void 0),[i,a]=w.useState(e),l=n!==void 0,c=r.current;return r.current=l,!l&&c&&i!==e&&a(e),[l?n:i,w.useCallback((...f)=>{const[p,...g]=f;let _=t==null?void 0:t(p,...g);return a(p),_},[t])]}function KC(){const[,n]=w.useReducer(e=>e+1,0);return n}const Hh=w.createContext(null);var M0=Object.prototype.hasOwnProperty;function V0(n,e,t){for(t of n.keys())if(fc(t,e))return t}function fc(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&fc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=V0(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=V0(e,i),!i)||!fc(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(M0.call(n,t)&&++r&&!M0.call(e,t)||!(t in e)||!fc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function cM(n){const e=bC();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}const dM=Mc({defaultModifiers:[Gy,Lh,Oh,xh,Qy,Ky,Yy,Hy]}),fM=["enabled","placement","strategy","modifiers"];function hM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const pM={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},mM={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,i=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&i==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},gM=[];function GC(n,e,t={}){let{enabled:r=!0,placement:i="bottom",strategy:a="absolute",modifiers:l=gM}=t,c=hM(t,fM);const f=w.useRef(l),p=w.useRef(),g=w.useCallback(()=>{var k;(k=p.current)==null||k.update()},[]),_=w.useCallback(()=>{var k;(k=p.current)==null||k.forceUpdate()},[]),[T,R]=cM(w.useState({placement:i,update:g,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),P=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:k})=>{const W={},V={};Object.keys(k.elements).forEach(H=>{W[H]=k.styles[H],V[H]=k.attributes[H]}),R({state:k,styles:W,attributes:V,update:g,forceUpdate:_,placement:k.placement})}}),[g,_,R]),x=w.useMemo(()=>(fc(f.current,l)||(f.current=l),f.current),[l]);return w.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:i,strategy:a,modifiers:[...x,P,pM]})},[a,i,P,r,x]),w.useEffect(()=>{if(!(!r||n==null||e==null))return p.current=dM(n,e,Object.assign({},c,{placement:i,strategy:a,modifiers:[...x,mM,P]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,R(k=>Object.assign({},k,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),T}function wc(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var gg,$0;function yM(){if($0)return gg;$0=1;var n=function(){};return gg=n,gg}var vM=yM();const _M=xc(vM),U0=()=>{};function wM(n){return n.button===0}function EM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const jf=n=>n&&("current"in n?n.current:n),j0={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function QC(n,e=U0,{disabled:t,clickTrigger:r="click"}={}){const i=w.useRef(!1),a=w.useRef(!1),l=w.useCallback(p=>{const g=jf(n);_M(!!g,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!g||EM(p)||!wM(p)||!!wc(g,p.target)||a.current,a.current=!1},[n]),c=Nn(p=>{const g=jf(n);g&&wc(g,p.target)?a.current=!0:a.current=!1}),f=Nn(p=>{i.current||e(p)});w.useEffect(()=>{var p,g;if(t||n==null)return;const _=iu(jf(n)),T=_.defaultView||window;let R=(p=T.event)!=null?p:(g=T.parent)==null?void 0:g.event,P=null;j0[r]&&(P=ss(_,j0[r],c,!0));const x=ss(_,r,l,!0),k=ss(_,r,V=>{if(V===R){R=void 0;return}f(V)});let W=[];return"ontouchstart"in _.documentElement&&(W=[].slice.call(_.body.children).map(V=>ss(V,"mousemove",U0))),()=>{P==null||P(),x(),k(),W.forEach(V=>V())}},[n,t,r,l,c,f])}function TM(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function IM(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function YC({enabled:n,enableEvents:e,placement:t,flip:r,offset:i,fixed:a,containerPadding:l,arrowElement:c,popperConfig:f={}}){var p,g,_,T,R;const P=TM(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:IM(Object.assign({},P,{eventListeners:{enabled:e,options:(p=P.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},P.preventOverflow,{options:l?Object.assign({padding:l},(g=P.preventOverflow)==null?void 0:g.options):(_=P.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:i},(T=P.offset)==null?void 0:T.options)},arrow:Object.assign({},P.arrow,{enabled:!!c,options:Object.assign({},(R=P.arrow)==null?void 0:R.options,{element:c})}),flip:Object.assign({enabled:!!r},P.flip)}))})}const SM=["children","usePopper"];function CM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const AM=()=>{};function XC(n={}){const e=w.useContext(Hh),[t,r]=Yg(),i=w.useRef(!1),{flip:a,offset:l,rootCloseEvent:c,fixed:f=!1,placement:p,popperConfig:g={},enableEventListeners:_=!0,usePopper:T=!!e}=n,R=(e==null?void 0:e.show)==null?!!n.show:e.show;R&&!i.current&&(i.current=!0);const P=Y=>{e==null||e.toggle(!1,Y)},{placement:x,setMenu:k,menuElement:W,toggleElement:V}=e||{},H=GC(V,W,YC({placement:p||x||"bottom-start",enabled:T,enableEvents:_??R,offset:l,flip:a,fixed:f,arrowElement:t,popperConfig:g})),B=Object.assign({ref:k||AM,"aria-labelledby":V==null?void 0:V.id},H.attributes.popper,{style:H.styles.popper}),K={show:R,placement:x,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:T?H:null,arrowProps:T?Object.assign({ref:r},H.attributes.arrow,{style:H.styles.arrow}):{}};return QC(W,P,{clickTrigger:c,disabled:!R}),[B,K]}function JC(n){let{children:e,usePopper:t=!0}=n,r=CM(n,SM);const[i,a]=XC(Object.assign({},r,{usePopper:t}));return I(on,{children:e(i,a)})}JC.displayName="DropdownMenu";const fv={prefix:String(Math.round(Math.random()*1e10)),current:0},ZC=fn.createContext(fv),RM=fn.createContext(!1);let bM=!!(typeof window<"u"&&window.document&&window.document.createElement),yg=new WeakMap;function NM(n=!1){let e=w.useContext(ZC),t=w.useRef(null);if(t.current===null&&!n){var r,i;let a=(i=fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let l=yg.get(a);l==null?yg.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==l.state&&(e.current=l.id,yg.delete(a))}t.current=++e.current}return t.current}function kM(n){let e=w.useContext(ZC);e===fv&&!bM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=NM(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function PM(n){let e=fn.useId(),[t]=w.useState(MM()),r=t?"react-aria":`react-aria${fv.prefix}`;return n||`${r}-${e}`}const DM=typeof fn.useId=="function"?PM:kM;function OM(){return!1}function xM(){return!0}function LM(n){return()=>{}}function MM(){return typeof fn.useSyncExternalStore=="function"?fn.useSyncExternalStore(LM,OM,xM):w.useContext(RM)}const eA=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},F0=()=>{};function tA(){const n=DM(),{show:e=!1,toggle:t=F0,setToggle:r,menuElement:i}=w.useContext(Hh)||{},a=w.useCallback(c=>{t(!e,c)},[e,t]),l={id:n,ref:r||F0,onClick:a,"aria-expanded":!!e};return i&&eA(i)&&(l["aria-haspopup"]=!0),[l,{show:e,toggle:t}]}function nA({children:n}){const[e,t]=tA();return I(on,{children:n(e,t)})}nA.displayName="DropdownToggle";const ya=w.createContext(null),jl=(n,e=null)=>n!=null?String(n):e||null,zh=w.createContext(null);zh.displayName="NavContext";const VM="data-rr-ui-",$M="rrUi";function au(n){return`${VM}${n}`}function UM(n){return`${$M}${n}`}const jM=["eventKey","disabled","onClick","active","as"];function FM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function rA({key:n,href:e,active:t,disabled:r,onClick:i}){const a=w.useContext(ya),l=w.useContext(zh),{activeKey:c}=l||{},f=jl(n,e),p=t==null&&n!=null?jl(c)===f:t;return[{onClick:Nn(_=>{r||(i==null||i(_),a&&!_.isPropagationStopped()&&a(f,_))}),"aria-disabled":r||void 0,"aria-selected":p,[au("dropdown-item")]:""},{isActive:p}]}const iA=w.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:i,active:a,as:l=uv}=n,c=FM(n,jM);const[f]=rA({key:t,href:c.href,disabled:r,onClick:i,active:a});return I(l,Object.assign({},c,{ref:e},f))});iA.displayName="DropdownItem";const sA=w.createContext(su?window:void 0);sA.Provider;function Wh(){return w.useContext(sA)}function B0(){const n=KC(),e=w.useRef(null),t=w.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function Wc({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:i=`* [${au("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}){const f=Wh(),[p,g]=uM(e,n,r),[_,T]=B0(),R=_.current,[P,x]=B0(),k=P.current,W=NC(p),V=w.useRef(null),H=w.useRef(!1),B=w.useContext(ya),K=w.useCallback((L,$,D=$==null?void 0:$.type)=>{g(L,{originalEvent:$,source:D})},[g]),Y=Nn((L,$)=>{t==null||t(L,$),K(!1,$,"select"),$.isPropagationStopped()||B==null||B(L,$)}),S=w.useMemo(()=>({toggle:K,placement:l,show:p,menuElement:R,toggleElement:k,setMenu:T,setToggle:x}),[K,l,p,R,k,T,x]);R&&W&&!p&&(H.current=R.contains(R.ownerDocument.activeElement));const C=Nn(()=>{k&&k.focus&&k.focus()}),b=Nn(()=>{const L=V.current;let $=a;if($==null&&($=_.current&&eA(_.current)?"keyboard":!1),$===!1||$==="keyboard"&&!/^key.+$/.test(L))return;const D=rs(_.current,i)[0];D&&D.focus&&D.focus()});w.useEffect(()=>{p?b():H.current&&(H.current=!1,C())},[p,H,C,b]),w.useEffect(()=>{V.current=null});const O=(L,$)=>{if(!_.current)return null;const D=rs(_.current,i);let Ee=D.indexOf(L)+$;return Ee=Math.max(0,Math.min(Ee,D.length)),D[Ee]};return FL(w.useCallback(()=>f.document,[f]),"keydown",L=>{var $,D;const{key:Ee}=L,Le=L.target,He=($=_.current)==null?void 0:$.contains(Le),Ne=(D=P.current)==null?void 0:D.contains(Le);if(/input|textarea/i.test(Le.tagName)&&(Ee===" "||Ee!=="Escape"&&He||Ee==="Escape"&&Le.type==="search")||!He&&!Ne||Ee==="Tab"&&(!_.current||!p))return;V.current=L.type;const me={originalEvent:L,source:L.type};switch(Ee){case"ArrowUp":{const ue=O(Le,-1);ue&&ue.focus&&ue.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!p)g(!0,me);else{const ue=O(Le,1);ue&&ue.focus&&ue.focus()}return;case"Tab":iv(Le.ownerDocument,"keyup",ue=>{var F;(ue.key==="Tab"&&!ue.target||!((F=_.current)!=null&&F.contains(ue.target)))&&g(!1,me)},{once:!0});break;case"Escape":Ee==="Escape"&&(L.preventDefault(),L.stopPropagation()),g(!1,me);break}}),I(ya.Provider,{value:Y,children:I(Hh.Provider,{value:S,children:c})})}Wc.displayName="Dropdown";Wc.Menu=JC;Wc.Toggle=nA;Wc.Item=iA;const hv=w.createContext({});hv.displayName="DropdownContext";const oA=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...i},a)=>(e=we(e,"dropdown-divider"),I(t,{ref:a,className:ye(n,e),role:r,...i})));oA.displayName="DropdownDivider";const aA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...i},a)=>(e=we(e,"dropdown-header"),I(t,{ref:a,className:ye(n,e),role:r,...i})));aA.displayName="DropdownHeader";const lA=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:i,active:a,as:l=Ul,...c},f)=>{const p=we(n,"dropdown-item"),[g,_]=rA({key:t,href:c.href,disabled:r,onClick:i,active:a});return I(l,{...c,...g,ref:f,className:ye(e,p,_.isActive&&"active",r&&"disabled")})});lA.displayName="DropdownItem";const uA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=we(e,"dropdown-item-text"),I(t,{ref:i,className:ye(n,e),...r})));uA.displayName="DropdownItemText";const BM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",HM=typeof document<"u",pv=HM||BM?w.useLayoutEffect:w.useEffect,mv=w.createContext(null);mv.displayName="InputGroupContext";const Na=w.createContext(null);Na.displayName="NavbarContext";function cA(n,e){return n}function dA(n,e,t){const r=t?"top-end":"top-start",i=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",l=t?"bottom-start":"bottom-end",c=t?"right-start":"left-start",f=t?"right-end":"left-end",p=t?"left-start":"right-start",g=t?"left-end":"right-end";let _=n?l:a;return e==="up"?_=n?i:r:e==="end"?_=n?g:p:e==="start"?_=n?f:c:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const fA=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:i=!0,show:a,renderOnMount:l,as:c="div",popperConfig:f,variant:p,...g},_)=>{let T=!1;const R=w.useContext(Na),P=we(n,"dropdown-menu"),{align:x,drop:k,isRTL:W}=w.useContext(hv);t=t||x;const V=w.useContext(mv),H=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const $=L[0],D=t[$];T=D==="start",H.push(`${P}-${$}-${D}`)}}else t==="end"&&(T=!0);const B=dA(T,k,W),[K,{hasShown:Y,popper:S,show:C,toggle:b}]=XC({flip:i,rootCloseEvent:r,show:a,usePopper:!R&&H.length===0,offset:[0,2],popperConfig:f,placement:B});if(K.ref=ou(cA(_),K.ref),pv(()=>{C&&(S==null||S.update())},[C]),!Y&&!l&&!V)return null;typeof c!="string"&&(K.show=C,K.close=()=>b==null?void 0:b(!1),K.align=t);let O=g.style;return S!=null&&S.placement&&(O={...g.style,...K.style},g["x-placement"]=S.placement),I(c,{...g,...K,style:O,...(H.length||R)&&{"data-bs-popper":"static"},className:ye(e,P,C&&"show",T&&`${P}-end`,p&&`${P}-${p}`,...H)})});fA.displayName="DropdownMenu";const hA=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:i=dn,...a},l)=>{const c=we(n,"dropdown-toggle"),f=w.useContext(Hh);r!==void 0&&(a.bsPrefix=r);const[p]=tA();return p.ref=ou(p.ref,cA(l)),I(i,{className:ye(t,c,e&&`${c}-split`,(f==null?void 0:f.show)&&"show"),...p,...a})});hA.displayName="DropdownToggle";const pA=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:i,className:a,align:l="start",onSelect:c,onToggle:f,focusFirstItemOnShow:p,as:g="div",navbar:_,autoClose:T=!0,...R}=Ra(n,{show:"onToggle"}),P=w.useContext(mv),x=we(t,"dropdown"),k=Fc(),W=S=>T===!1?S==="click":T==="inside"?S!=="rootClose":T==="outside"?S!=="select":!0,V=Xr((S,C)=>{var b;!((b=C.originalEvent)==null||(b=b.target)==null)&&b.classList.contains("dropdown-toggle")&&C.source==="mousedown"||(C.originalEvent.currentTarget===document&&(C.source!=="keydown"||C.originalEvent.key==="Escape")&&(C.source="rootClose"),W(C.source)&&(f==null||f(S,C)))}),B=dA(l==="end",r,k),K=w.useMemo(()=>({align:l,drop:r,isRTL:k}),[l,r,k]),Y={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return I(hv.Provider,{value:K,children:I(Wc,{placement:B,show:i,onSelect:c,onToggle:V,focusFirstItemOnShow:p,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:P?R.children:I(g,{...R,ref:e,className:ye(a,i&&"show",Y[r])})})})});pA.displayName="Dropdown";const ca=Object.assign(pA,{Toggle:hA,Menu:fA,Item:lA,ItemText:uA,Divider:oA,Header:aA});Jn.string,Jn.bool,Jn.bool,Jn.bool,Jn.bool;const sh=w.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:a=!1,...l},c)=>(n=we(n,"img"),I("img",{ref:c,...l,className:ye(e,t&&`${n}-fluid`,r&&"rounded",i&&"rounded-circle",a&&`${n}-thumbnail`)})));sh.displayName="Image";const zM={type:Jn.string,tooltip:Jn.bool,as:Jn.elementType},qh=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...i},a)=>I(n,{...i,ref:a,className:ye(e,`${t}-${r?"tooltip":"feedback"}`)}));qh.displayName="Feedback";qh.propTypes=zM;const ms=w.createContext({}),gv=w.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:l="input",...c},f)=>{const{controlId:p}=w.useContext(ms);return e=we(e,"form-check-input"),I(l,{...c,ref:f,type:r,id:n||p,className:ye(t,e,i&&"is-valid",a&&"is-invalid")})});gv.displayName="FormCheckInput";const oh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},i)=>{const{controlId:a}=w.useContext(ms);return n=we(n,"form-check-label"),I("label",{...r,ref:i,htmlFor:t||a,className:ye(e,n)})});oh.displayName="FormCheckLabel";const mA=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:p,feedbackType:g,className:_,style:T,title:R="",type:P="checkbox",label:x,children:k,as:W="input",...V},H)=>{e=we(e,"form-check"),t=we(t,"form-switch");const{controlId:B}=w.useContext(ms),K=w.useMemo(()=>({controlId:n||B}),[B,n]),Y=!k&&x!=null&&x!==!1||iM(k,oh),S=I(gv,{...V,type:P==="switch"?"checkbox":P,ref:H,isValid:l,isInvalid:c,disabled:a,as:W});return I(ms.Provider,{value:K,children:I("div",{style:T,className:ye(_,Y&&e,r&&`${e}-inline`,i&&`${e}-reverse`,P==="switch"&&t),children:k||re(on,{children:[S,Y&&I(oh,{title:R,children:x}),p&&I(qh,{type:g,tooltip:f,children:p})]})})})});mA.displayName="FormCheck";const ah=Object.assign(mA,{Input:gv,Label:oh}),gA=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:i,className:a,isValid:l=!1,isInvalid:c=!1,plaintext:f,readOnly:p,as:g="input",..._},T)=>{const{controlId:R}=w.useContext(ms);return n=we(n,"form-control"),I(g,{..._,type:e,size:r,ref:T,readOnly:p,id:i||R,className:ye(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,l&&"is-valid",c&&"is-invalid")})});gA.displayName="FormControl";const WM=Object.assign(gA,{Feedback:qh}),yA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"form-floating"),I(t,{ref:i,className:ye(n,e),...r})));yA.displayName="FormFloating";const yv=w.forwardRef(({controlId:n,as:e="div",...t},r)=>{const i=w.useMemo(()=>({controlId:n}),[n]);return I(ms.Provider,{value:i,children:I(e,{...t,ref:r})})});yv.displayName="FormGroup";const vA=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...l},c)=>{const{controlId:f}=w.useContext(ms);e=we(e,"form-label");let p="col-form-label";typeof t=="string"&&(p=`${p} ${p}-${t}`);const g=ye(i,e,r&&"visually-hidden",t&&p);return a=a||f,t?I(_r,{ref:c,as:"label",className:g,htmlFor:a,...l}):I(n,{ref:c,className:g,htmlFor:a,...l})});vA.displayName="FormLabel";const _A=w.forwardRef(({bsPrefix:n,className:e,id:t,...r},i)=>{const{controlId:a}=w.useContext(ms);return n=we(n,"form-range"),I("input",{...r,type:"range",ref:i,className:ye(e,n),id:t||a})});_A.displayName="FormRange";const wA=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:i=!1,isInvalid:a=!1,id:l,...c},f)=>{const{controlId:p}=w.useContext(ms);return n=we(n,"form-select"),I("select",{...c,size:t,ref:f,className:ye(r,n,e&&`${n}-${e}`,i&&"is-valid",a&&"is-invalid"),id:l||p})});wA.displayName="FormSelect";const EA=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...i},a)=>(n=we(n,"form-text"),I(t,{...i,ref:a,className:ye(e,n,r&&"text-muted")})));EA.displayName="FormText";const TA=w.forwardRef((n,e)=>I(ah,{...n,ref:e,type:"switch"}));TA.displayName="Switch";const qM=Object.assign(TA,{Input:ah.Input,Label:ah.Label}),Kh=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:i,...a},l)=>(n=we(n,"form-floating"),re(yv,{ref:l,className:ye(e,n),controlId:r,...a,children:[t,I("label",{htmlFor:r,children:i})]})));Kh.displayName="FloatingLabel";const KM={_ref:Jn.any,validated:Jn.bool,as:Jn.elementType},vv=w.forwardRef(({className:n,validated:e,as:t="form",...r},i)=>I(t,{...r,ref:i,className:ye(n,e&&"was-validated")}));vv.displayName="Form";vv.propTypes=KM;const Xn=Object.assign(vv,{Group:yv,Control:WM,Floating:yA,Check:ah,Switch:qM,Label:vA,Text:EA,Range:_A,Select:wA,FloatingLabel:Kh}),H0=n=>!n||typeof n=="function"?n:e=>{n.current=e};function GM(n,e){const t=H0(n),r=H0(e);return i=>{t&&t(i),r&&r(i)}}function qc(n,e){return w.useMemo(()=>GM(n,e),[n,e])}const IA=w.createContext(null),QM=["as","active","eventKey"];function YM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _v({key:n,onClick:e,active:t,id:r,role:i,disabled:a}){const l=w.useContext(ya),c=w.useContext(zh),f=w.useContext(IA);let p=t;const g={role:i};if(c){!i&&c.role==="tablist"&&(g.role="tab");const _=c.getControllerId(n??null),T=c.getControlledId(n??null);g[au("event-key")]=n,g.id=_||r,p=t==null&&n!=null?c.activeKey===n:t,(p||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(g["aria-controls"]=T)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),a&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=Nn(_=>{a||(e==null||e(_),n!=null&&l&&!_.isPropagationStopped()&&l(n,_))}),[g,{isActive:p}]}const SA=w.forwardRef((n,e)=>{let{as:t=uv,active:r,eventKey:i}=n,a=YM(n,QM);const[l,c]=_v(Object.assign({key:jl(i,a.href),active:r},a));return l[au("active")]=c.isActive,I(t,Object.assign({},a,l,{ref:e}))});SA.displayName="NavItem";const XM=["as","onSelect","activeKey","role","onKeyDown"];function JM(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const z0=()=>{},W0=au("event-key"),CA=w.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:i,role:a,onKeyDown:l}=n,c=JM(n,XM);const f=KC(),p=w.useRef(!1),g=w.useContext(ya),_=w.useContext(IA);let T,R;_&&(a=a||"tablist",i=_.activeKey,T=_.getControlledId,R=_.getControllerId);const P=w.useRef(null),x=H=>{const B=P.current;if(!B)return null;const K=rs(B,`[${W0}]:not([aria-disabled=true])`),Y=B.querySelector("[aria-selected=true]");if(!Y||Y!==document.activeElement)return null;const S=K.indexOf(Y);if(S===-1)return null;let C=S+H;return C>=K.length&&(C=0),C<0&&(C=K.length-1),K[C]},k=(H,B)=>{H!=null&&(r==null||r(H,B),g==null||g(H,B))},W=H=>{if(l==null||l(H),!_)return;let B;switch(H.key){case"ArrowLeft":case"ArrowUp":B=x(-1);break;case"ArrowRight":case"ArrowDown":B=x(1);break;default:return}B&&(H.preventDefault(),k(B.dataset[UM("EventKey")]||null,H),p.current=!0,f())};w.useEffect(()=>{if(P.current&&p.current){const H=P.current.querySelector(`[${W0}][aria-selected=true]`);H==null||H.focus()}p.current=!1});const V=qc(e,P);return I(ya.Provider,{value:k,children:I(zh.Provider,{value:{role:a,activeKey:jl(i),getControlledId:T||z0,getControllerId:R||z0},children:I(t,Object.assign({},c,{onKeyDown:W,ref:V,role:a}))})})});CA.displayName="Nav";const AA=Object.assign(CA,{Item:SA}),RA=w.forwardRef(({bsPrefix:n,active:e,disabled:t,eventKey:r,className:i,variant:a,action:l,as:c,...f},p)=>{n=we(n,"list-group-item");const[g,_]=_v({key:jl(r,f.href),active:e,...f}),T=Xr(P=>{if(t){P.preventDefault(),P.stopPropagation();return}g.onClick(P)});t&&f.tabIndex===void 0&&(f.tabIndex=-1,f["aria-disabled"]=!0);const R=c||(l?f.href?"a":"button":"div");return I(R,{ref:p,...f,...g,onClick:T,className:ye(i,n,_.isActive&&"active",t&&"disabled",a&&`${n}-${a}`,l&&`${n}-action`)})});RA.displayName="ListGroupItem";const bA=w.forwardRef((n,e)=>{const{className:t,bsPrefix:r,variant:i,horizontal:a,numbered:l,as:c="div",...f}=Ra(n,{activeKey:"onSelect"}),p=we(r,"list-group");let g;return a&&(g=a===!0?"horizontal":`horizontal-${a}`),I(AA,{ref:e,...f,as:c,className:ye(t,p,i&&`${p}-${i}`,g&&`${p}-${g}`,l&&`${p}-numbered`)})});bA.displayName="ListGroup";const Nr=Object.assign(bA,{Item:RA});var Cf;function q0(n){if((!Cf&&Cf!==0||n)&&su){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Cf=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Cf}function ZM(){return w.useState(null)}function vg(n){n===void 0&&(n=iu());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function eV(n){const e=w.useRef(n);return e.current=n,e}function tV(n){const e=eV(n);w.useEffect(()=>()=>e.current(),[])}function nV(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const K0=au("modal-open");class wv{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return nV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(ds(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(K0,""),ds(i,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(K0),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const _g=(n,e)=>su?n==null?(e||iu()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Jg(n,e){const t=Wh(),[r,i]=w.useState(()=>_g(n,t==null?void 0:t.document));if(!r){const a=_g(n);a&&i(a)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const a=_g(n);a!==r&&i(a)},[n,r]),r}function rV({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:i}){const a=w.useRef(null),l=w.useRef(e),c=Nn(t);w.useEffect(()=>{e?l.current=!0:c(a.current)},[e,c]);const f=qc(a,ba(n)),p=w.cloneElement(n,{ref:f});return e?p:i||!l.current&&r?null:p}const iV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function sV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function oV(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:f}=n,p=sV(n,iV);const g=w.useRef(null),_=qc(g,ba(f)),T=B=>K=>{B&&g.current&&B(g.current,K)},R=w.useCallback(T(e),[e]),P=w.useCallback(T(t),[t]),x=w.useCallback(T(r),[r]),k=w.useCallback(T(i),[i]),W=w.useCallback(T(a),[a]),V=w.useCallback(T(l),[l]),H=w.useCallback(T(c),[c]);return Object.assign({},p,{nodeRef:g},e&&{onEnter:R},t&&{onEntering:P},r&&{onEntered:x},i&&{onExit:k},a&&{onExiting:W},l&&{onExited:V},c&&{addEndListener:H},{children:typeof f=="function"?(B,K)=>f(B,Object.assign({},K,{ref:_})):w.cloneElement(f,{ref:_})})}const aV=["component"];function lV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const uV=w.forwardRef((n,e)=>{let{component:t}=n,r=lV(n,aV);const i=oV(r);return I(t,Object.assign({ref:e},i))});function cV({in:n,onTransition:e}){const t=w.useRef(null),r=w.useRef(!0),i=Nn(e);return O0(()=>{if(!t.current)return;let a=!1;return i({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,i]),O0(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function dV({children:n,in:e,onExited:t,onEntered:r,transition:i}){const[a,l]=w.useState(!e);e&&a&&l(!1);const c=cV({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?r==null||r(p.element,p.initial):(l(!0),t==null||t(p.element)))};Promise.resolve(i(p)).then(g,_=>{throw p.in||l(!0),_})}}),f=qc(c,ba(n));return a&&!e?null:w.cloneElement(n,{ref:f})}function Zg(n,e,t){return n?I(uV,Object.assign({},t,{component:n})):e?I(dV,Object.assign({},t,{transition:e})):I(rV,Object.assign({},t))}const fV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function hV(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let wg;function pV(n){return wg||(wg=new wv({ownerDocument:n==null?void 0:n.document})),wg}function mV(n){const e=Wh(),t=n||pV(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const NA=w.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:i,style:a,children:l,backdrop:c=!0,keyboard:f=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:T,backdropTransition:R,runBackdropTransition:P,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:W=!0,restoreFocusOptions:V,renderDialog:H,renderBackdrop:B=rt=>I("div",Object.assign({},rt)),manager:K,container:Y,onShow:S,onHide:C=()=>{},onExit:b,onExited:O,onExiting:L,onEnter:$,onEntering:D,onEntered:Ee}=n,Le=hV(n,fV);const He=Wh(),Ne=Jg(Y),ne=mV(K),me=bC(),ue=NC(t),[F,ee]=w.useState(!t),pe=w.useRef(null);w.useImperativeHandle(e,()=>ne,[ne]),su&&!ue&&t&&(pe.current=vg(He==null?void 0:He.document)),t&&F&&ee(!1);const ve=Nn(()=>{if(ne.add(),Et.current=ss(document,"keydown",Fe),st.current=ss(document,"focus",()=>setTimeout(Ae),!0),S&&S(),x){var rt,Ft;const mn=vg((rt=(Ft=ne.dialog)==null?void 0:Ft.ownerDocument)!=null?rt:He==null?void 0:He.document);ne.dialog&&mn&&!wc(ne.dialog,mn)&&(pe.current=mn,ne.dialog.focus())}}),Ie=Nn(()=>{if(ne.remove(),Et.current==null||Et.current(),st.current==null||st.current(),W){var rt;(rt=pe.current)==null||rt.focus==null||rt.focus(V),pe.current=null}});w.useEffect(()=>{!t||!Ne||ve()},[t,Ne,ve]),w.useEffect(()=>{F&&Ie()},[F,Ie]),tV(()=>{Ie()});const Ae=Nn(()=>{if(!k||!me()||!ne.isTopModal())return;const rt=vg(He==null?void 0:He.document);ne.dialog&&rt&&!wc(ne.dialog,rt)&&ne.dialog.focus()}),Ge=Nn(rt=>{rt.target===rt.currentTarget&&(p==null||p(rt),c===!0&&C())}),Fe=Nn(rt=>{f&&yC(rt)&&ne.isTopModal()&&(g==null||g(rt),rt.defaultPrevented||C())}),st=w.useRef(),Et=w.useRef(),St=(...rt)=>{ee(!0),O==null||O(...rt)};if(!Ne)return null;const it=Object.assign({role:r,ref:ne.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Le,{style:a,className:i,tabIndex:-1});let kt=H?H(it):I("div",Object.assign({},it,{children:w.cloneElement(l,{role:"document"})}));kt=Zg(_,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:b,onExiting:L,onExited:St,onEnter:$,onEntering:D,onEntered:Ee,children:kt});let Kt=null;return c&&(Kt=B({ref:ne.setBackdropRef,onClick:Ge}),Kt=Zg(R,P,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Kt})),I(on,{children:ao.createPortal(re(on,{children:[Kt,kt]}),Ne)})});NA.displayName="Modal";const kA=Object.assign(NA,{Manager:wv});function ey(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function gV(n,e){n.classList?n.classList.add(e):ey(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function G0(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yV(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=G0(n.className,e):n.setAttribute("class",G0(n.className&&n.className.baseVal||"",e))}const ml={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class PA extends wv{adjustAndStore(e,t,r){const i=t.style[e];t.dataset[e]=i,ds(t,{[e]:`${parseFloat(ds(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],ds(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(gV(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";rs(t,ml.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),rs(t,ml.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-e.scrollBarWidth)),rs(t,ml.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();yV(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";rs(t,ml.FIXED_CONTENT).forEach(a=>this.restore(r,a)),rs(t,ml.STICKY_CONTENT).forEach(a=>this.restore(i,a)),rs(t,ml.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let Eg;function DA(n){return Eg||(Eg=new PA(n)),Eg}const OA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"modal-body"),I(t,{ref:i,className:ye(n,e),...r})));OA.displayName="ModalBody";const Ev=w.createContext({onHide(){}}),Tv=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:r,size:i,fullscreen:a,children:l,scrollable:c,...f},p)=>{n=we(n,"modal");const g=`${n}-dialog`,_=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return I("div",{...f,ref:p,className:ye(g,e,i&&`${n}-${i}`,r&&`${g}-centered`,c&&`${g}-scrollable`,a&&_),children:I("div",{className:ye(`${n}-content`,t),children:l})})});Tv.displayName="ModalDialog";const xA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"modal-footer"),I(t,{ref:i,className:ye(n,e),...r})));xA.displayName="ModalFooter";const LA=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:i,...a},l)=>{const c=w.useContext(Ev),f=Xr(()=>{c==null||c.onHide(),r==null||r()});return re("div",{ref:l,...a,children:[i,t&&I(zc,{"aria-label":n,variant:e,onClick:f})]})}),MA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=we(n,"modal-header"),I(LA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));MA.displayName="ModalHeader";const vV=Hc("h4"),VA=w.forwardRef(({className:n,bsPrefix:e,as:t=vV,...r},i)=>(e=we(e,"modal-title"),I(t,{ref:i,className:ye(n,e),...r})));VA.displayName="ModalTitle";function _V(n){return I(Eo,{...n,timeout:null})}function wV(n){return I(Eo,{...n,timeout:null})}const $A=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:r,contentClassName:i,children:a,dialogAs:l=Tv,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:_=!1,animation:T=!0,backdrop:R=!0,keyboard:P=!0,onEscapeKeyDown:x,onShow:k,onHide:W,container:V,autoFocus:H=!0,enforceFocus:B=!0,restoreFocus:K=!0,restoreFocusOptions:Y,onEntered:S,onExit:C,onExiting:b,onEnter:O,onEntering:L,onExited:$,backdropClassName:D,manager:Ee,...Le},He)=>{const[Ne,ne]=w.useState({}),[me,ue]=w.useState(!1),F=w.useRef(!1),ee=w.useRef(!1),pe=w.useRef(null),[ve,Ie]=ZM(),Ae=ou(He,Ie),Ge=Xr(W),Fe=Fc();n=we(n,"modal");const st=w.useMemo(()=>({onHide:Ge}),[Ge]);function Et(){return Ee||DA({isRTL:Fe})}function St(Ue){if(!su)return;const mt=Et().getScrollbarWidth()>0,Ot=Ue.scrollHeight>iu(Ue).documentElement.clientHeight;ne({paddingRight:mt&&!Ot?q0():void 0,paddingLeft:!mt&&Ot?q0():void 0})}const it=Xr(()=>{ve&&St(ve.dialog)});FC(()=>{Qg(window,"resize",it),pe.current==null||pe.current()});const kt=()=>{F.current=!0},Kt=Ue=>{F.current&&ve&&Ue.target===ve.dialog&&(ee.current=!0),F.current=!1},rt=()=>{ue(!0),pe.current=vC(ve.dialog,()=>{ue(!1)})},Ft=Ue=>{Ue.target===Ue.currentTarget&&rt()},mn=Ue=>{if(R==="static"){Ft(Ue);return}if(ee.current||Ue.target!==Ue.currentTarget){ee.current=!1;return}W==null||W()},Mr=Ue=>{P?x==null||x(Ue):(Ue.preventDefault(),R==="static"&&rt())},Wn=(Ue,mt)=>{Ue&&St(Ue),O==null||O(Ue,mt)},Bt=Ue=>{pe.current==null||pe.current(),C==null||C(Ue)},Jt=(Ue,mt)=>{L==null||L(Ue,mt),iv(window,"resize",it)},rr=Ue=>{Ue&&(Ue.style.display=""),$==null||$(Ue),Qg(window,"resize",it)},Dn=w.useCallback(Ue=>I("div",{...Ue,className:ye(`${n}-backdrop`,D,!T&&"show")}),[T,D,n]),Dt={...t,...Ne};Dt.display="block";const an=Ue=>I("div",{role:"dialog",...Ue,style:Dt,className:ye(e,n,me&&`${n}-static`,!T&&"show"),onClick:R?mn:void 0,onMouseUp:Kt,"data-bs-theme":c,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:I(l,{...Le,onMouseDown:kt,className:r,contentClassName:i,children:a})});return I(Ev.Provider,{value:st,children:I(kA,{show:_,ref:Ae,backdrop:R,container:V,keyboard:!0,autoFocus:H,enforceFocus:B,restoreFocus:K,restoreFocusOptions:Y,onEscapeKeyDown:Mr,onShow:k,onHide:W,onEnter:Wn,onEntering:Jt,onEntered:S,onExit:Bt,onExiting:b,onExited:rr,manager:Et(),transition:T?_V:void 0,backdropTransition:T?wV:void 0,renderBackdrop:Dn,renderDialog:an})})});$A.displayName="Modal";const Fn=Object.assign($A,{Body:OA,Header:MA,Title:VA,Footer:xA,Dialog:Tv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),UA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"nav-item"),I(t,{ref:i,className:ye(n,e),...r})));UA.displayName="NavItem";const Iv=w.forwardRef(({bsPrefix:n,className:e,as:t=Ul,active:r,eventKey:i,disabled:a=!1,...l},c)=>{n=we(n,"nav-link");const[f,p]=_v({key:jl(i,l.href),active:r,disabled:a,...l});return I(t,{...l,...f,ref:c,disabled:a,className:ye(e,n,a&&"disabled",p.isActive&&"active")})});Iv.displayName="NavLink";const jA=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:i,fill:a=!1,justify:l=!1,navbar:c,navbarScroll:f,className:p,activeKey:g,..._}=Ra(n,{activeKey:"onSelect"}),T=we(r,"nav");let R,P,x=!1;const k=w.useContext(Na),W=w.useContext(dv);return k?(R=k.bsPrefix,x=c??!0):W&&({cardHeaderBsPrefix:P}=W),I(AA,{as:t,ref:e,activeKey:g,className:ye(p,{[T]:!x,[`${R}-nav`]:x,[`${R}-nav-scroll`]:x&&f,[`${P}-${i}`]:!!P,[`${T}-${i}`]:!!i,[`${T}-fill`]:a,[`${T}-justified`]:l}),..._})});jA.displayName="Nav";const di=Object.assign(jA,{Item:UA,Link:Iv}),FA=w.forwardRef(({bsPrefix:n,className:e,as:t,...r},i)=>{n=we(n,"navbar-brand");const a=t||(r.href?"a":"span");return I(a,{...r,ref:i,className:ye(e,n)})});FA.displayName="NavbarBrand";const BA=w.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=we(e,"navbar-collapse");const i=w.useContext(Na);return I(_C,{in:!!(i&&i.expanded),...t,children:I("div",{ref:r,className:e,children:n})})});BA.displayName="NavbarCollapse";const HA=w.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:i="button",onClick:a,...l},c)=>{n=we(n,"navbar-toggler");const{onToggle:f,expanded:p}=w.useContext(Na)||{},g=Xr(_=>{a&&a(_),f&&f()});return i==="button"&&(l.type="button"),I(i,{...l,ref:c,onClick:g,"aria-label":r,className:ye(e,n,!p&&"collapsed"),children:t||I("span",{className:`${n}-icon`})})});HA.displayName="NavbarToggle";const ty=new WeakMap,Q0=(n,e)=>{if(!n||!e)return;const t=ty.get(e)||new Map;ty.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function EV(n,e=typeof window>"u"?void 0:window){const t=Q0(n,e),[r,i]=w.useState(()=>t?t.matches:!1);return pv(()=>{let a=Q0(n,e);if(!a)return i(!1);let l=ty.get(e);const c=()=>{i(a.matches)};return a.refCount++,a.addListener(c),c(),()=>{a.removeListener(c),a.refCount--,a.refCount<=0&&(l==null||l.delete(a.media)),a=void 0}},[n]),r}function TV(n){const e=Object.keys(n);function t(c,f){return c===f?f:c?`${c} and ${f}`:f}function r(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function i(c){const f=r(c);let p=n[f];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function a(c){let f=n[c];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function l(c,f,p){let g;typeof c=="object"?(g=c,p=f,f=!0):(f=f||!0,g={[c]:f});let _=w.useMemo(()=>Object.entries(g).reduce((T,[R,P])=>((P==="up"||P===!0)&&(T=t(T,a(R))),(P==="down"||P===!0)&&(T=t(T,i(R))),T),""),[JSON.stringify(g)]);return EV(_,p)}return l}const IV=TV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),zA=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"offcanvas-body"),I(t,{ref:i,className:ye(n,e),...r})));zA.displayName="OffcanvasBody";const SV={[hi]:"show",[is]:"show"},WA=w.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:i=!1,unmountOnExit:a=!1,appear:l=!1,...c},f)=>(n=we(n,"offcanvas"),I(Fh,{ref:f,addEndListener:jh,in:r,mountOnEnter:i,unmountOnExit:a,appear:l,...c,childRef:ba(t),children:(p,g)=>w.cloneElement(t,{...g,className:ye(e,t.props.className,(p===hi||p===vc)&&`${n}-toggling`,SV[p])})})));WA.displayName="OffcanvasToggling";const qA=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...i},a)=>(n=we(n,"offcanvas-header"),I(LA,{ref:a,...i,className:ye(e,n),closeLabel:t,closeButton:r})));qA.displayName="OffcanvasHeader";const CV=Hc("h5"),KA=w.forwardRef(({className:n,bsPrefix:e,as:t=CV,...r},i)=>(e=we(e,"offcanvas-title"),I(t,{ref:i,className:ye(n,e),...r})));KA.displayName="OffcanvasTitle";function AV(n){return I(WA,{...n})}function RV(n){return I(Eo,{...n})}const GA=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:i="start",responsive:a,show:l=!1,backdrop:c=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:T,container:R,autoFocus:P=!0,enforceFocus:x=!0,restoreFocus:k=!0,restoreFocusOptions:W,onEntered:V,onExit:H,onExiting:B,onEnter:K,onEntering:Y,onExited:S,backdropClassName:C,manager:b,renderStaticNode:O=!1,...L},$)=>{const D=w.useRef();n=we(n,"offcanvas");const[Ee,Le]=w.useState(!1),He=Xr(T),Ne=IV(a||"xs","up");w.useEffect(()=>{Le(a?l&&!Ne:l)},[l,a,Ne]);const ne=w.useMemo(()=>({onHide:He}),[He]);function me(){return b||(p?(D.current||(D.current=new PA({handleContainerOverflow:!1})),D.current):DA())}const ue=(ve,...Ie)=>{ve&&(ve.style.visibility="visible"),K==null||K(ve,...Ie)},F=(ve,...Ie)=>{ve&&(ve.style.visibility=""),S==null||S(...Ie)},ee=w.useCallback(ve=>I("div",{...ve,className:ye(`${n}-backdrop`,C)}),[C,n]),pe=ve=>I("div",{...ve,...L,className:ye(e,a?`${n}-${a}`:n,`${n}-${i}`),"aria-labelledby":r,children:t});return re(on,{children:[!Ee&&(a||O)&&pe({}),I(Ev.Provider,{value:ne,children:I(kA,{show:Ee,ref:$,backdrop:c,container:R,keyboard:f,autoFocus:P,enforceFocus:x&&!p,restoreFocus:k,restoreFocusOptions:W,onEscapeKeyDown:g,onShow:_,onHide:He,onEnter:ue,onEntering:Y,onEntered:V,onExit:H,onExiting:B,onExited:F,manager:me(),transition:AV,backdropTransition:RV,renderBackdrop:ee,renderDialog:pe})})]})});GA.displayName="Offcanvas";const bV=Object.assign(GA,{Body:zA,Header:qA,Title:KA}),QA=w.forwardRef(({onHide:n,...e},t)=>{const r=w.useContext(Na),i=Xr(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return I(bV,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});QA.displayName="NavbarOffcanvas";const YA=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},i)=>(e=we(e,"navbar-text"),I(t,{ref:i,className:ye(n,e),...r})));YA.displayName="NavbarText";const XA=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:i="light",bg:a,fixed:l,sticky:c,className:f,as:p="nav",expanded:g,onToggle:_,onSelect:T,collapseOnSelect:R=!1,...P}=Ra(n,{expanded:"onToggle"}),x=we(t,"navbar"),k=w.useCallback((...H)=>{T==null||T(...H),R&&g&&(_==null||_(!1))},[T,R,g,_]);P.role===void 0&&p!=="nav"&&(P.role="navigation");let W=`${x}-expand`;typeof r=="string"&&(W=`${W}-${r}`);const V=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:x,expanded:!!g,expand:r}),[x,g,r,_]);return I(Na.Provider,{value:V,children:I(ya.Provider,{value:k,children:I(p,{ref:e,...P,className:ye(f,x,r&&W,i&&`${x}-${i}`,a&&`bg-${a}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});XA.displayName="Navbar";const Af=Object.assign(XA,{Brand:FA,Collapse:BA,Offcanvas:QA,Text:YA,Toggle:HA}),JA=w.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:i,rootCloseEvent:a,menuRole:l,disabled:c,active:f,renderMenuOnMount:p,menuVariant:g,..._},T)=>{const R=we(void 0,"nav-item");return re(ca,{ref:T,..._,className:ye(i,R),children:[I(ca.Toggle,{id:n,eventKey:null,active:f,disabled:c,childBsPrefix:r,as:Iv,children:e}),I(ca.Menu,{role:l,renderOnMount:p,rootCloseEvent:a,variant:g,children:t})]})});JA.displayName="NavDropdown";const Xu=Object.assign(JA,{Item:ca.Item,ItemText:ca.ItemText,Divider:ca.Divider,Header:ca.Header}),NV=()=>{};function kV(n,e,{disabled:t,clickTrigger:r}={}){const i=e||NV;QC(n,i,{disabled:t,clickTrigger:r});const a=Nn(l=>{yC(l)&&i(l)});w.useEffect(()=>{if(t||n==null)return;const l=iu(jf(n));let c=(l.defaultView||window).event;const f=ss(l,"keyup",p=>{if(p===c){c=void 0;return}a(p)});return()=>{f()}},[n,t,a])}const ZA=w.forwardRef((n,e)=>{const{flip:t,offset:r,placement:i,containerPadding:a,popperConfig:l={},transition:c,runTransition:f}=n,[p,g]=Yg(),[_,T]=Yg(),R=qc(g,e),P=Jg(n.container),x=Jg(n.target),[k,W]=w.useState(!n.show),V=GC(x,p,YC({placement:i,enableEvents:!!n.show,containerPadding:a||5,flip:t,offset:r,arrowElement:_,popperConfig:l}));n.show&&k&&W(!1);const H=(...L)=>{W(!0),n.onExited&&n.onExited(...L)},B=n.show||!k;if(kV(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!B)return null;const{onExit:K,onExiting:Y,onEnter:S,onEntering:C,onEntered:b}=n;let O=n.children(Object.assign({},V.attributes.popper,{style:V.styles.popper,ref:R}),{popper:V,placement:i,show:!!n.show,arrowProps:Object.assign({},V.attributes.arrow,{style:V.styles.arrow,ref:T})});return O=Zg(c,f,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:O,onExit:K,onExiting:Y,onExited:H,onEnter:S,onEntering:C,onEntered:b}),P?ao.createPortal(O,P):null});ZA.displayName="Overlay";const eR=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"popover-header"),I(t,{ref:i,className:ye(n,e),...r})));eR.displayName="PopoverHeader";const Sv=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},i)=>(e=we(e,"popover-body"),I(t,{ref:i,className:ye(n,e),...r})));Sv.displayName="PopoverBody";function tR(n,e){let t=n;return n==="left"?t=e?"end":"start":n==="right"&&(t=e?"start":"end"),t}function nR(n="absolute"){return{position:n,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const PV=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,body:a,arrowProps:l,hasDoneInitialMeasure:c,popper:f,show:p,...g},_)=>{const T=we(n,"popover"),R=Fc(),[P]=(e==null?void 0:e.split("-"))||[],x=tR(P,R);let k=r;return p&&!c&&(k={...r,...nR(f==null?void 0:f.strategy)}),re("div",{ref:_,role:"tooltip",style:k,"x-placement":P,className:ye(t,T,P&&`bs-popover-${x}`),...g,children:[I("div",{className:"popover-arrow",...l}),a?I(Sv,{children:i}):i]})}),DV=Object.assign(PV,{Header:eR,Body:Sv,POPPER_OFFSET:[0,8]}),rR=w.forwardRef(({bsPrefix:n,placement:e="right",className:t,style:r,children:i,arrowProps:a,hasDoneInitialMeasure:l,popper:c,show:f,...p},g)=>{n=we(n,"tooltip");const _=Fc(),[T]=(e==null?void 0:e.split("-"))||[],R=tR(T,_);let P=r;return f&&!l&&(P={...r,...nR(c==null?void 0:c.strategy)}),re("div",{ref:g,style:P,role:"tooltip","x-placement":T,className:ye(t,n,`bs-tooltip-${R}`),...p,children:[I("div",{className:"tooltip-arrow",...a}),I("div",{className:`${n}-inner`,children:i})]})});rR.displayName="Tooltip";const Gh=Object.assign(rR,{TOOLTIP_OFFSET:[0,6]});function OV(n){const e=w.useRef(null),t=we(void 0,"popover"),r=we(void 0,"tooltip"),i=w.useMemo(()=>({name:"offset",options:{offset:()=>{if(n)return n;if(e.current){if(ey(e.current,t))return DV.POPPER_OFFSET;if(ey(e.current,r))return Gh.TOOLTIP_OFFSET}return[0,0]}}}),[n,t,r]);return[e,[i]]}function xV(n,e){const{ref:t}=n,{ref:r}=e;n.ref=t.__wrapped||(t.__wrapped=i=>t(ih(i))),e.ref=r.__wrapped||(r.__wrapped=i=>r(ih(i)))}const iR=w.forwardRef(({children:n,transition:e=Eo,popperConfig:t={},rootClose:r=!1,placement:i="top",show:a=!1,...l},c)=>{const f=w.useRef({}),[p,g]=w.useState(null),[_,T]=OV(l.offset),R=ou(c,_),P=e===!0?Eo:e||void 0,x=Xr(k=>{g(k),t==null||t.onFirstUpdate==null||t.onFirstUpdate(k)});return pv(()=>{p&&l.target&&(f.current.scheduleUpdate==null||f.current.scheduleUpdate())},[p,l.target]),w.useEffect(()=>{a||g(null)},[a]),I(ZA,{...l,ref:R,popperConfig:{...t,modifiers:T.concat(t.modifiers||[]),onFirstUpdate:x},transition:P,rootClose:r,placement:i,show:a,children:(k,{arrowProps:W,popper:V,show:H})=>{var B;xV(k,W);const K=V==null?void 0:V.placement,Y=Object.assign(f.current,{state:V==null?void 0:V.state,scheduleUpdate:V==null?void 0:V.update,placement:K,outOfBoundaries:(V==null||(B=V.state)==null||(B=B.modifiersData.hide)==null?void 0:B.isReferenceHidden)||!1,strategy:t.strategy}),S=!!p;return typeof n=="function"?n({...k,placement:K,show:H,...!e&&H&&{className:"show"},popper:Y,arrowProps:W,hasDoneInitialMeasure:S}):w.cloneElement(n,{...k,placement:K,arrowProps:W,popper:Y,hasDoneInitialMeasure:S,className:ye(n.props.className,!e&&H&&"show"),style:{...n.props.style,...k.style}})}})});iR.displayName="Overlay";function LV(n){return n&&typeof n=="object"?n:{show:n,hide:n}}function Y0(n,e,t){const[r]=e,i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[t];(!a||a!==i)&&!wc(i,a)&&n(...e)}Jn.oneOf(["click","hover","focus"]);const Cv=({trigger:n=["hover","focus"],overlay:e,children:t,popperConfig:r={},show:i,defaultShow:a=!1,onToggle:l,delay:c,placement:f,flip:p=f&&f.indexOf("auto")!==-1,...g})=>{const _=w.useRef(null),T=ou(_,ba(t)),R=HC(),P=w.useRef(""),[x,k]=fC(i,a,l),W=LV(c),{onFocus:V,onBlur:H,onClick:B}=typeof t!="function"?w.Children.only(t).props:{},K=Le=>{T(ih(Le))},Y=w.useCallback(()=>{if(R.clear(),P.current="show",!W.show){k(!0);return}R.set(()=>{P.current==="show"&&k(!0)},W.show)},[W.show,k,R]),S=w.useCallback(()=>{if(R.clear(),P.current="hide",!W.hide){k(!1);return}R.set(()=>{P.current==="hide"&&k(!1)},W.hide)},[W.hide,k,R]),C=w.useCallback((...Le)=>{Y(),V==null||V(...Le)},[Y,V]),b=w.useCallback((...Le)=>{S(),H==null||H(...Le)},[S,H]),O=w.useCallback((...Le)=>{k(!x),B==null||B(...Le)},[B,k,x]),L=w.useCallback((...Le)=>{Y0(Y,Le,"fromElement")},[Y]),$=w.useCallback((...Le)=>{Y0(S,Le,"toElement")},[S]),D=n==null?[]:[].concat(n),Ee={ref:K};return D.indexOf("click")!==-1&&(Ee.onClick=O),D.indexOf("focus")!==-1&&(Ee.onFocus=C,Ee.onBlur=b),D.indexOf("hover")!==-1&&(Ee.onMouseOver=L,Ee.onMouseOut=$),re(on,{children:[typeof t=="function"?t(Ee):w.cloneElement(t,Ee),I(iR,{...g,show:x,onHide:S,flip:p,placement:f,popperConfig:r,target:_.current,children:e})]})},pi=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},i)=>{const a=we(n,"row"),l=hC(),c=pC(),f=`${a}-cols`,p=[];return l.forEach(g=>{const _=r[g];delete r[g];let T;_!=null&&typeof _=="object"?{cols:T}=_:T=_;const R=g!==c?`-${g}`:"";T!=null&&p.push(`${f}${R}-${T}`)}),I(t,{ref:i,...r,className:ye(e,a,...p)})});pi.displayName="Row";const Qh=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:r,as:i="div",className:a,...l},c)=>{n=we(n,"spinner");const f=`${n}-${t}`;return I(i,{ref:c,...l,className:ye(a,f,r&&`${f}-${r}`,e&&`text-${e}`)})});Qh.displayName="Spinner";function Te(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(g){try{p(r.next(g))}catch(_){l(_)}}function f(g){try{p(r.throw(g))}catch(_){l(_)}}function p(g){g.done?a(g.value):i(g.value).then(c,f)}p((r=r.apply(n,[])).next())})}function MV(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}let je=class{constructor(e,t,r){this.method=e,this.attribute=t,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}};je.equal=(n,e)=>new je("equal",n,e).toString();je.notEqual=(n,e)=>new je("notEqual",n,e).toString();je.lessThan=(n,e)=>new je("lessThan",n,e).toString();je.lessThanEqual=(n,e)=>new je("lessThanEqual",n,e).toString();je.greaterThan=(n,e)=>new je("greaterThan",n,e).toString();je.greaterThanEqual=(n,e)=>new je("greaterThanEqual",n,e).toString();je.isNull=n=>new je("isNull",n).toString();je.isNotNull=n=>new je("isNotNull",n).toString();je.between=(n,e,t)=>new je("between",n,[e,t]).toString();je.startsWith=(n,e)=>new je("startsWith",n,e).toString();je.endsWith=(n,e)=>new je("endsWith",n,e).toString();je.select=n=>new je("select",void 0,n).toString();je.search=(n,e)=>new je("search",n,e).toString();je.orderDesc=n=>new je("orderDesc",n).toString();je.orderAsc=n=>new je("orderAsc",n).toString();je.cursorAfter=n=>new je("cursorAfter",void 0,n).toString();je.cursorBefore=n=>new je("cursorBefore",void 0,n).toString();je.limit=n=>new je("limit",void 0,n).toString();je.offset=n=>new je("offset",void 0,n).toString();je.contains=(n,e)=>new je("contains",n,e).toString();je.or=n=>new je("or",void 0,n.map(e=>JSON.parse(e))).toString();je.and=n=>new je("and",void 0,n.map(e=>JSON.parse(e))).toString();class ae extends Error{constructor(e,t=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=r,this.response=i}}class Kr{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"16.1.0","X-Appwrite-Response-Format":"1.6.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window==null?void 0:window.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,t,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(l=>{i.append("channels[]",l)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",l=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",l=>{var c,f,p;if(!this.realtime.reconnect||((f=(c=this.realtime)===null||c===void 0?void 0:c.lastMessage)===null||f===void 0?void 0:f.type)==="error"&&((p=this.realtime)===null||p===void 0?void 0:p.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const g=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${g/1e3} seconds.`,l.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},g)}))},onMessage:e=>{var t,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),l=a==null?void 0:a[`a_session_${this.config.project}`],c=i.data;l&&!c.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:l}})));break;case"event":let f=i.data;if(f!=null&&f.channels){if(!f.channels.some(g=>this.realtime.channels.has(g)))return;this.realtime.subscriptions.forEach(g=>{f.channels.some(_=>g.channels.includes(_))&&setTimeout(()=>g.callback(f))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}subscribe(e,t){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,t,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("cookieFallback");l&&(r["X-Fallback-Cookies"]=l)}let a={method:e,headers:r,credentials:"include"};if(e==="GET")for(const[l,c]of Object.entries(Kr.flatten(i)))t.searchParams.append(l,c);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const l=new FormData;for(const[c,f]of Object.entries(i))if(f instanceof File)l.append(c,f,f.name);else if(Array.isArray(f))for(const p of f)l.append(`${c}[]`,p);else l.append(c,f);a.body=l,delete r["content-type"];break}return{uri:t.toString(),options:a}}chunkedUpload(e,t,r={},i={},a){return Te(this,void 0,void 0,function*(){const l=Object.values(i).find(p=>p instanceof File);if(l.size<=Kr.CHUNK_SIZE)return yield this.call(e,t,r,i);let c=0,f=null;for(;c<l.size;){let p=c+Kr.CHUNK_SIZE;p>=l.size&&(p=l.size),r["content-range"]=`bytes ${c}-${p-1}/${l.size}`;const g=l.slice(c,p);let _=Object.assign(Object.assign({},i),{file:new File([g],l.name)});f=yield this.call(e,t,r,_),a&&typeof a=="function"&&a({$id:f.$id,progress:Math.round(p/l.size*100),sizeUploaded:p,chunksTotal:Math.ceil(l.size/Kr.CHUNK_SIZE),chunksUploaded:Math.ceil(p/Kr.CHUNK_SIZE)}),f&&f.$id&&(r["x-appwrite-id"]=f.$id),c=p}return f})}ping(){return Te(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,t,r={},i={},a="json"){var l;return Te(this,void 0,void 0,function*(){const{uri:c,options:f}=this.prepareRequest(e,t,r,i);let p=null;const g=yield fetch(c,f),_=g.headers.get("x-appwrite-warning");if(_&&_.split(";").forEach(R=>console.warn("Warning: "+R)),!((l=g.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")?p=yield g.json():a==="arrayBuffer"?p=yield g.arrayBuffer():p={message:yield g.text()},400<=g.status)throw new ae(p==null?void 0:p.message,g.status,p==null?void 0:p.type,p);const T=g.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&T&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",T)),p})}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Kr.flatten(a,l)):r[l]=a}return r}}Kr.CHUNK_SIZE=1024*1024*5;class ho{constructor(e){this.client=e}static flatten(e,t=""){let r={};for(const[i,a]of Object.entries(e)){let l=t?t+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),ho.flatten(a,l)):r[l]=a}return r}}ho.CHUNK_SIZE=5*1024*1024;class VV{constructor(e){this.client=e}get(){return Te(this,void 0,void 0,function*(){const e="/account",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}create(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const a="/account",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.password=r),typeof i<"u"&&(l.name=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}updateEmail(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}listIdentities(e){return Te(this,void 0,void 0,function*(){const t="/account/identities",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}deleteIdentity(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "identityId"');const t="/account/identities/{identityId}".replace("{identityId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createJWT(){return Te(this,void 0,void 0,function*(){const e="/account/jwts",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}listLogs(e){return Te(this,void 0,void 0,function*(){const t="/account/logs",r={};typeof e<"u"&&(r.queries=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateMFA(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "mfa"');const t="/account/mfa",r={};typeof e<"u"&&(r.mfa=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaAuthenticator(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/authenticators/{type}".replace("{type}",e),i={};typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deleteMfaAuthenticator(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "type"');const t="/account/mfa/authenticators/{type}".replace("{type}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createMfaChallenge(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "factor"');const t="/account/mfa/challenge",r={};typeof e<"u"&&(r.factor=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateMfaChallenge(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "challengeId"');if(typeof t>"u")throw new ae('Missing required parameter: "otp"');const r="/account/mfa/challenge",i={};typeof e<"u"&&(i.challengeId=e),typeof t<"u"&&(i.otp=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}listMfaFactors(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/factors",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}getMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}createMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updateMfaRecoveryCodes(){return Te(this,void 0,void 0,function*(){const e="/account/mfa/recovery-codes",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}updateName(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "name"');const t="/account/name",r={};typeof e<"u"&&(r.name=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}updatePassword(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "password"');const r="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}updatePhone(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "phone"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("patch",a,l,i)})}getPrefs(){return Te(this,void 0,void 0,function*(){const e="/account/prefs",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}updatePrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "prefs"');const t="/account/prefs",r={};typeof e<"u"&&(r.prefs=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}createRecovery(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "url"');const r="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateRecovery(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');if(typeof r>"u")throw new ae('Missing required parameter: "password"');const i="/account/recovery",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.secret=t),typeof r<"u"&&(a.password=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("put",l,c,a)})}listSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("get",r,i,t)})}deleteSessions(){return Te(this,void 0,void 0,function*(){const e="/account/sessions",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("delete",r,i,t)})}createAnonymousSession(){return Te(this,void 0,void 0,function*(){const e="/account/sessions/anonymous",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}createEmailPasswordSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "email"');if(typeof t>"u")throw new ae('Missing required parameter: "password"');const r="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}updateMagicURLSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createOAuth2Session(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const a="/account/sessions/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(ho.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}updatePhoneSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createSession(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/sessions/token",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}getSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("patch",i,a,r)})}deleteSession(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "sessionId"');const t="/account/sessions/{sessionId}".replace("{sessionId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}updateStatus(){return Te(this,void 0,void 0,function*(){const e="/account/status",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("patch",r,i,t)})}createPushTarget(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const i="/account/targets/push",a={};typeof e<"u"&&(a.targetId=e),typeof t<"u"&&(a.identifier=t),typeof r<"u"&&(a.providerId=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}updatePushTarget(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');if(typeof t>"u")throw new ae('Missing required parameter: "identifier"');const r="/account/targets/{targetId}/push".replace("{targetId}",e),i={};typeof t<"u"&&(i.identifier=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}deletePushTarget(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "targetId"');const t="/account/targets/{targetId}/push".replace("{targetId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}createEmailToken(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const i="/account/tokens/email",a={};typeof e<"u"&&(a.userId=e),typeof t<"u"&&(a.email=t),typeof r<"u"&&(a.phrase=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}createMagicURLToken(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "email"');const a="/account/tokens/magic-url",l={};typeof e<"u"&&(l.userId=e),typeof t<"u"&&(l.email=t),typeof r<"u"&&(l.url=r),typeof i<"u"&&(l.phrase=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("post",c,f,l)})}createOAuth2Token(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "provider"');const a="/account/tokens/oauth2/{provider}".replace("{provider}",e),l={};typeof t<"u"&&(l.success=t),typeof r<"u"&&(l.failure=r),typeof i<"u"&&(l.scopes=i);const c=new URL(this.client.config.endpoint+a);l.project=this.client.config.project;for(const[f,p]of Object.entries(ho.flatten(l)))c.searchParams.append(f,p);if(typeof window<"u"&&(window!=null&&window.location)){window.location.href=c.toString();return}else return c.toString()})}createPhoneToken(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "phone"');const r="/account/tokens/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("post",a,l,i)})}createVerification(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "url"');const t="/account/verification",r={};typeof e<"u"&&(r.url=e);const i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("post",i,a,r)})}updateVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}createPhoneVerification(){return Te(this,void 0,void 0,function*(){const e="/account/verification/phone",t={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return yield this.client.call("post",r,i,t)})}updatePhoneVerification(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "userId"');if(typeof t>"u")throw new ae('Missing required parameter: "secret"');const r="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}class $V{constructor(e){this.client=e}listDocuments(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');const i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),a={};typeof r<"u"&&(a.queries=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');if(typeof i>"u")throw new ae('Missing required parameter: "data"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),c={};typeof r<"u"&&(c.documentId=r),typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("post",f,p,c)})}getDocument(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const a="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),l={};typeof i<"u"&&(l.queries=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("get",c,f,l)})}updateDocument(e,t,r,i,a){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),c={};typeof i<"u"&&(c.data=i),typeof a<"u"&&(c.permissions=a);const f=new URL(this.client.config.endpoint+l),p={"content-type":"application/json"};return yield this.client.call("patch",f,p,c)})}deleteDocument(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "databaseId"');if(typeof t>"u")throw new ae('Missing required parameter: "collectionId"');if(typeof r>"u")throw new ae('Missing required parameter: "documentId"');const i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",r),a={},l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("delete",l,c,a)})}}class UV{constructor(e){this.client=e}listFiles(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');const i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createFile(e,t,r,i,a=l=>{}){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');if(typeof r>"u")throw new ae('Missing required parameter: "file"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),c={};typeof t<"u"&&(c.fileId=t),typeof r<"u"&&(c.file=r),typeof i<"u"&&(c.permissions=i);const f=new URL(this.client.config.endpoint+l),p={"content-type":"multipart/form-data"};return yield this.client.chunkedUpload("post",f,p,c,a)})}getFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateFile(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const a="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),l={};typeof r<"u"&&(l.name=r),typeof i<"u"&&(l.permissions=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("put",c,f,l)})}deleteFile(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}getFileDownload(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(ho.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Kr.flatten(i)))a.searchParams.append(l,c);return a.toString()}getFilePreview(e,t,r,i,a,l,c,f,p,g,_,T,R){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const P="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),x={};typeof r<"u"&&(x.width=r),typeof i<"u"&&(x.height=i),typeof a<"u"&&(x.gravity=a),typeof l<"u"&&(x.quality=l),typeof c<"u"&&(x.borderWidth=c),typeof f<"u"&&(x.borderColor=f),typeof p<"u"&&(x.borderRadius=p),typeof g<"u"&&(x.opacity=g),typeof _<"u"&&(x.rotation=_),typeof T<"u"&&(x.background=T),typeof R<"u"&&(x.output=R);const k=new URL(this.client.config.endpoint+P);x.project=this.client.config.project;for(const[W,V]of Object.entries(ho.flatten(x)))k.searchParams.append(W,V);x.project=this.client.config.project;for(const[W,V]of Object.entries(Kr.flatten(x)))k.searchParams.append(W,V);return k.toString()}getFileView(e,t){if(typeof e>"u")throw new ae('Missing required parameter: "bucketId"');if(typeof t>"u")throw new ae('Missing required parameter: "fileId"');const r="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={},a=new URL(this.client.config.endpoint+r);i.project=this.client.config.project;for(const[l,c]of Object.entries(ho.flatten(i)))a.searchParams.append(l,c);i.project=this.client.config.project;for(const[l,c]of Object.entries(Kr.flatten(i)))a.searchParams.append(l,c);return a.toString()}}class jV{constructor(e){this.client=e}list(e,t){return Te(this,void 0,void 0,function*(){const r="/teams",i={};typeof e<"u"&&(i.queries=e),typeof t<"u"&&(i.search=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}create(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const i="/teams",a={};typeof e<"u"&&(a.teamId=e),typeof t<"u"&&(a.name=t),typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("post",l,c,a)})}get(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updateName(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "name"');const r="/teams/{teamId}".replace("{teamId}",e),i={};typeof t<"u"&&(i.name=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}delete(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("delete",i,a,r)})}listMemberships(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const i="/teams/{teamId}/memberships".replace("{teamId}",e),a={};typeof t<"u"&&(a.queries=t),typeof r<"u"&&(a.search=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("get",l,c,a)})}createMembership(e,t,r,i,a,l,c){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "roles"');const f="/teams/{teamId}/memberships".replace("{teamId}",e),p={};typeof r<"u"&&(p.email=r),typeof i<"u"&&(p.userId=i),typeof a<"u"&&(p.phone=a),typeof t<"u"&&(p.roles=t),typeof l<"u"&&(p.url=l),typeof c<"u"&&(p.name=c);const g=new URL(this.client.config.endpoint+f),_={"content-type":"application/json"};return yield this.client.call("post",g,_,p)})}getMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("get",a,l,i)})}updateMembership(e,t,r){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "roles"');const i="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),a={};typeof r<"u"&&(a.roles=r);const l=new URL(this.client.config.endpoint+i),c={"content-type":"application/json"};return yield this.client.call("patch",l,c,a)})}deleteMembership(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');const r="/teams/{teamId}/memberships/{membershipId}".replace("{teamId}",e).replace("{membershipId}",t),i={},a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("delete",a,l,i)})}updateMembershipStatus(e,t,r,i){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "membershipId"');if(typeof r>"u")throw new ae('Missing required parameter: "userId"');if(typeof i>"u")throw new ae('Missing required parameter: "secret"');const a="/teams/{teamId}/memberships/{membershipId}/status".replace("{teamId}",e).replace("{membershipId}",t),l={};typeof r<"u"&&(l.userId=r),typeof i<"u"&&(l.secret=i);const c=new URL(this.client.config.endpoint+a),f={"content-type":"application/json"};return yield this.client.call("patch",c,f,l)})}getPrefs(e){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');const t="/teams/{teamId}/prefs".replace("{teamId}",e),r={},i=new URL(this.client.config.endpoint+t),a={"content-type":"application/json"};return yield this.client.call("get",i,a,r)})}updatePrefs(e,t){return Te(this,void 0,void 0,function*(){if(typeof e>"u")throw new ae('Missing required parameter: "teamId"');if(typeof t>"u")throw new ae('Missing required parameter: "prefs"');const r="/teams/{teamId}/prefs".replace("{teamId}",e),i={};typeof t<"u"&&(i.prefs=t);const a=new URL(this.client.config.endpoint+r),l={"content-type":"application/json"};return yield this.client.call("put",a,l,i)})}}var sR,oR;class Fl{static custom(e){return e}static unique(e=7){const t=MV(Fl,sR,"m",oR).call(Fl);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return t+r}}sR=Fl,oR=function(){const e=new Date,t=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return t.toString(16)+r.toString(16).padStart(5,"0")};var X0;(function(n){n.Totp="totp"})(X0||(X0={}));var J0;(function(n){n.Email="email",n.Phone="phone",n.Totp="totp",n.Recoverycode="recoverycode"})(J0||(J0={}));var ny;(function(n){n.Amazon="amazon",n.Apple="apple",n.Auth0="auth0",n.Authentik="authentik",n.Autodesk="autodesk",n.Bitbucket="bitbucket",n.Bitly="bitly",n.Box="box",n.Dailymotion="dailymotion",n.Discord="discord",n.Disqus="disqus",n.Dropbox="dropbox",n.Etsy="etsy",n.Facebook="facebook",n.Github="github",n.Gitlab="gitlab",n.Google="google",n.Linkedin="linkedin",n.Microsoft="microsoft",n.Notion="notion",n.Oidc="oidc",n.Okta="okta",n.Paypal="paypal",n.PaypalSandbox="paypalSandbox",n.Podio="podio",n.Salesforce="salesforce",n.Slack="slack",n.Spotify="spotify",n.Stripe="stripe",n.Tradeshift="tradeshift",n.TradeshiftBox="tradeshiftBox",n.Twitch="twitch",n.Wordpress="wordpress",n.Yahoo="yahoo",n.Yammer="yammer",n.Yandex="yandex",n.Zoho="zoho",n.Zoom="zoom",n.Mock="mock"})(ny||(ny={}));var Z0;(function(n){n.AvantBrowser="aa",n.AndroidWebViewBeta="an",n.GoogleChrome="ch",n.GoogleChromeIOS="ci",n.GoogleChromeMobile="cm",n.Chromium="cr",n.MozillaFirefox="ff",n.Safari="sf",n.MobileSafari="mf",n.MicrosoftEdge="ps",n.MicrosoftEdgeIOS="oi",n.OperaMini="om",n.Opera="op",n.OperaNext="on"})(Z0||(Z0={}));var eT;(function(n){n.AmericanExpress="amex",n.Argencard="argencard",n.Cabal="cabal",n.Cencosud="cencosud",n.DinersClub="diners",n.Discover="discover",n.Elo="elo",n.Hipercard="hipercard",n.JCB="jcb",n.Mastercard="mastercard",n.Naranja="naranja",n.TarjetaShopping="targeta-shopping",n.UnionChinaPay="union-china-pay",n.Visa="visa",n.MIR="mir",n.Maestro="maestro"})(eT||(eT={}));var tT;(function(n){n.Afghanistan="af",n.Angola="ao",n.Albania="al",n.Andorra="ad",n.UnitedArabEmirates="ae",n.Argentina="ar",n.Armenia="am",n.AntiguaAndBarbuda="ag",n.Australia="au",n.Austria="at",n.Azerbaijan="az",n.Burundi="bi",n.Belgium="be",n.Benin="bj",n.BurkinaFaso="bf",n.Bangladesh="bd",n.Bulgaria="bg",n.Bahrain="bh",n.Bahamas="bs",n.BosniaAndHerzegovina="ba",n.Belarus="by",n.Belize="bz",n.Bolivia="bo",n.Brazil="br",n.Barbados="bb",n.BruneiDarussalam="bn",n.Bhutan="bt",n.Botswana="bw",n.CentralAfricanRepublic="cf",n.Canada="ca",n.Switzerland="ch",n.Chile="cl",n.China="cn",n.CoteDIvoire="ci",n.Cameroon="cm",n.DemocraticRepublicOfTheCongo="cd",n.RepublicOfTheCongo="cg",n.Colombia="co",n.Comoros="km",n.CapeVerde="cv",n.CostaRica="cr",n.Cuba="cu",n.Cyprus="cy",n.CzechRepublic="cz",n.Germany="de",n.Djibouti="dj",n.Dominica="dm",n.Denmark="dk",n.DominicanRepublic="do",n.Algeria="dz",n.Ecuador="ec",n.Egypt="eg",n.Eritrea="er",n.Spain="es",n.Estonia="ee",n.Ethiopia="et",n.Finland="fi",n.Fiji="fj",n.France="fr",n.MicronesiaFederatedStatesOf="fm",n.Gabon="ga",n.UnitedKingdom="gb",n.Georgia="ge",n.Ghana="gh",n.Guinea="gn",n.Gambia="gm",n.GuineaBissau="gw",n.EquatorialGuinea="gq",n.Greece="gr",n.Grenada="gd",n.Guatemala="gt",n.Guyana="gy",n.Honduras="hn",n.Croatia="hr",n.Haiti="ht",n.Hungary="hu",n.Indonesia="id",n.India="in",n.Ireland="ie",n.IranIslamicRepublicOf="ir",n.Iraq="iq",n.Iceland="is",n.Israel="il",n.Italy="it",n.Jamaica="jm",n.Jordan="jo",n.Japan="jp",n.Kazakhstan="kz",n.Kenya="ke",n.Kyrgyzstan="kg",n.Cambodia="kh",n.Kiribati="ki",n.SaintKittsAndNevis="kn",n.SouthKorea="kr",n.Kuwait="kw",n.LaoPeopleSDemocraticRepublic="la",n.Lebanon="lb",n.Liberia="lr",n.Libya="ly",n.SaintLucia="lc",n.Liechtenstein="li",n.SriLanka="lk",n.Lesotho="ls",n.Lithuania="lt",n.Luxembourg="lu",n.Latvia="lv",n.Morocco="ma",n.Monaco="mc",n.Moldova="md",n.Madagascar="mg",n.Maldives="mv",n.Mexico="mx",n.MarshallIslands="mh",n.NorthMacedonia="mk",n.Mali="ml",n.Malta="mt",n.Myanmar="mm",n.Montenegro="me",n.Mongolia="mn",n.Mozambique="mz",n.Mauritania="mr",n.Mauritius="mu",n.Malawi="mw",n.Malaysia="my",n.Namibia="na",n.Niger="ne",n.Nigeria="ng",n.Nicaragua="ni",n.Netherlands="nl",n.Norway="no",n.Nepal="np",n.Nauru="nr",n.NewZealand="nz",n.Oman="om",n.Pakistan="pk",n.Panama="pa",n.Peru="pe",n.Philippines="ph",n.Palau="pw",n.PapuaNewGuinea="pg",n.Poland="pl",n.FrenchPolynesia="pf",n.NorthKorea="kp",n.Portugal="pt",n.Paraguay="py",n.Qatar="qa",n.Romania="ro",n.Russia="ru",n.Rwanda="rw",n.SaudiArabia="sa",n.Sudan="sd",n.Senegal="sn",n.Singapore="sg",n.SolomonIslands="sb",n.SierraLeone="sl",n.ElSalvador="sv",n.SanMarino="sm",n.Somalia="so",n.Serbia="rs",n.SouthSudan="ss",n.SaoTomeAndPrincipe="st",n.Suriname="sr",n.Slovakia="sk",n.Slovenia="si",n.Sweden="se",n.Eswatini="sz",n.Seychelles="sc",n.Syria="sy",n.Chad="td",n.Togo="tg",n.Thailand="th",n.Tajikistan="tj",n.Turkmenistan="tm",n.TimorLeste="tl",n.Tonga="to",n.TrinidadAndTobago="tt",n.Tunisia="tn",n.Turkey="tr",n.Tuvalu="tv",n.Tanzania="tz",n.Uganda="ug",n.Ukraine="ua",n.Uruguay="uy",n.UnitedStates="us",n.Uzbekistan="uz",n.VaticanCity="va",n.SaintVincentAndTheGrenadines="vc",n.Venezuela="ve",n.Vietnam="vn",n.Vanuatu="vu",n.Samoa="ws",n.Yemen="ye",n.SouthAfrica="za",n.Zambia="zm",n.Zimbabwe="zw"})(tT||(tT={}));var nT;(function(n){n.GET="GET",n.POST="POST",n.PUT="PUT",n.PATCH="PATCH",n.DELETE="DELETE",n.OPTIONS="OPTIONS"})(nT||(nT={}));var rT;(function(n){n.Center="center",n.Topleft="top-left",n.Top="top",n.Topright="top-right",n.Left="left",n.Right="right",n.Bottomleft="bottom-left",n.Bottom="bottom",n.Bottomright="bottom-right"})(rT||(rT={}));var iT;(function(n){n.Jpg="jpg",n.Jpeg="jpeg",n.Gif="gif",n.Png="png",n.Webp="webp",n.Avif="avif"})(iT||(iT={}));const Kc=new Kr;Kc.setEndpoint("https://cloud.appwrite.io/v1").setProject("678ba12f001dce105c6a");const lu=new UV(Kc),Ec=new VV(Kc),zn=new $V(Kc),FV=new jV(Kc);async function BV(){return{session:await Ec.getSession("current")}}const Yh=async()=>{try{return await Ec.get()}catch(n){console.error(n)}};async function HV(){await Ec.deleteSession("current"),console.log("log out")}async function uo(){const n=await Yh();return n?zV(n):(console.error("User data is undefined"),null)}function zV(n){return{name:n.name,$id:n.$id,email:n.email}}async function WV(){return{teams:(await FV.list()).teams}}const aR=w.createContext(void 0),qV=({children:n})=>{const e=KV();return I(aR.Provider,{value:e,children:n})};function KV(){const[n,e]=w.useState(),[t,r]=w.useState();w.useEffect(()=>{(async function(){const f=await BV();e(f.session)})()},[]),w.useEffect(()=>{n!=null&&n.$id&&async function(){const{teams:f}=await WV(),p=!!f.find(g=>g.$id==="67b334b6001a8aeca566");r(p)}()},[n==null?void 0:n.$id]);async function i(){await Ec.createOAuth2Session(ny.Google,"https://sonny4546.github.io/Tradery/#/Home","https://sonny4546.github.io/Tradery")}async function a(c,f){try{await Ec.createEmailPasswordSession(c,f)}catch(p){console.error(p)}}async function l(){await HV(),e(void 0)}return{session:n,isAdmin:t,logOut:l,logIn:i,logInAdmin:a}}function To(){const n=w.useContext(aR);if(!n)throw new Error("useAuth cant be used outside");return n}/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jt.apply(this,arguments)}var rn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(rn||(rn={}));const sT="popstate";function GV(n){n===void 0&&(n={});function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=Cs(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Tc("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");c=p===-1?f:f.slice(0,p)}return c+"#"+(typeof a=="string"?a:_a(a))}function r(i,a){va(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return YV(e,t,r,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function va(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QV(){return Math.random().toString(36).substr(2,8)}function oT(n,e){return{usr:n.state,key:n.key,idx:e}}function Tc(n,e,t,r){return t===void 0&&(t=null),jt({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Cs(e):e,{state:t,key:e&&e.key||r||QV()})}function _a(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function YV(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=rn.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(jt({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){c=rn.Pop;let k=g(),W=k==null?null:k-p;p=k,f&&f({action:c,location:x.location,delta:W})}function T(k,W){c=rn.Push;let V=Tc(x.location,k,W);t&&t(V,k),p=g()+1;let H=oT(V,p),B=x.createHref(V);try{l.pushState(H,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(B)}a&&f&&f({action:c,location:x.location,delta:1})}function R(k,W){c=rn.Replace;let V=Tc(x.location,k,W);t&&t(V,k),p=g();let H=oT(V,p),B=x.createHref(V);l.replaceState(H,"",B),a&&f&&f({action:c,location:x.location,delta:0})}function P(k){let W=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof k=="string"?k:_a(k);return V=V.replace(/ $/,"%20"),ut(W,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,W)}let x={get action(){return c},get location(){return n(i,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(sT,_),f=k,()=>{i.removeEventListener(sT,_),f=null}},createHref(k){return e(i,k)},createURL:P,encodeLocation(k){let W=P(k);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:R,go(k){return l.go(k)}};return x}var Nt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Nt||(Nt={}));const XV=new Set(["lazy","caseSensitive","path","id","index","children"]);function JV(n){return n.index===!0}function lh(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,a)=>{let l=[...t,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(ut(i.index!==!0||!i.children,"Cannot specify children on an index route"),ut(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),JV(i)){let f=jt({},i,e(i),{id:c});return r[c]=f,f}else{let f=jt({},i,e(i),{id:c,children:void 0});return r[c]=f,i.children&&(f.children=lh(i.children,e,l,r)),f}})}function oa(n,e,t){return t===void 0&&(t="/"),Ff(n,e,t,!1)}function Ff(n,e,t,r){let i=typeof e=="string"?Cs(e):e,a=gs(i.pathname||"/",t);if(a==null)return null;let l=lR(n);e2(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=d2(a);c=u2(l[f],p,r)}return c}function ZV(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function lR(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=fs([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),lR(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:a2(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of uR(a.path))i(a,l,f)}),e}function uR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=uR(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function e2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:l2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const t2=/^:[\w-]+$/,n2=3,r2=2,i2=1,s2=10,o2=-2,aT=n=>n==="*";function a2(n,e){let t=n.split("/"),r=t.length;return t.some(aT)&&(r+=o2),e&&(r+=r2),t.filter(i=>!aT(i)).reduce((i,a)=>i+(t2.test(a)?n2:a===""?i2:s2),r)}function l2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function u2(n,e,t){t===void 0&&(t=!1);let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),T=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=uh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:fs([a,_.pathname]),pathnameBase:p2(fs([a,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(a=fs([a,_.pathnameBase]))}return l}function uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=c2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,g,_)=>{let{paramName:T,isOptional:R}=g;if(T==="*"){let x=c[_]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const P=c[_];return R&&!P?p[T]=void 0:p[T]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function c2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),va(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f2(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cs(n):n;return{pathname:t?t.startsWith("/")?t:h2(t,e):e,search:m2(r),hash:g2(i)}}function h2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Tg(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Av(n,e){let t=cR(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Rv(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Cs(n):(i=jt({},n),ut(!i.pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let T=l.split("/");for(;T[0]==="..";)T.shift(),_-=1;i.pathname=T.join("/")}c=_>=0?e[_]:"/"}let f=f2(i,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const fs=n=>n.join("/").replace(/\/\/+/g,"/"),p2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),m2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class ch{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ic(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const dR=["post","put","patch","delete"],y2=new Set(dR),v2=["get",...dR],_2=new Set(v2),w2=new Set([301,302,303,307,308]),E2=new Set([307,308]),Ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},T2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),fR="remix-router-transitions";function S2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;ut(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let U=n.detectErrorBoundary;i=q=>({hasErrorBoundary:U(q)})}else i=I2;let a={},l=lh(n.routes,i,void 0,a),c,f=n.basename||"/",p=n.dataStrategy||b2,g=n.patchRoutesOnNavigation,_=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},n.future),T=null,R=new Set,P=null,x=null,k=null,W=n.hydrationData!=null,V=oa(l,n.history.location,f),H=!1,B=null;if(V==null&&!g){let U=mr(404,{pathname:n.history.location.pathname}),{matches:q,route:J}=vT(l);V=q,B={[J.id]:U}}V&&!n.hydrationData&&wi(V,l,n.history.location.pathname).active&&(V=null);let K;if(V)if(V.some(U=>U.route.lazy))K=!1;else if(!V.some(U=>U.route.loader))K=!0;else if(_.v7_partialHydration){let U=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let J=V.findIndex(ie=>q[ie.route.id]!==void 0);K=V.slice(0,J+1).every(ie=>!iy(ie.route,U,q))}else K=V.every(J=>!iy(J.route,U,q))}else K=n.hydrationData!=null;else if(K=!1,V=[],_.v7_partialHydration){let U=wi(null,l,n.history.location.pathname);U.active&&U.matches&&(H=!0,V=U.matches)}let Y,S={historyAction:n.history.action,location:n.history.location,matches:V,initialized:K,navigation:Ig,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||B,fetchers:new Map,blockers:new Map},C=rn.Pop,b=!1,O,L=!1,$=new Map,D=null,Ee=!1,Le=!1,He=[],Ne=new Set,ne=new Map,me=0,ue=-1,F=new Map,ee=new Set,pe=new Map,ve=new Map,Ie=new Set,Ae=new Map,Ge=new Map,Fe;function st(){if(T=n.history.listen(U=>{let{action:q,location:J,delta:ie}=U;if(Fe){Fe(),Fe=void 0;return}va(Ge.size===0||ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=Hi({currentLocation:S.location,nextLocation:J,historyAction:q});if(_e&&ie!=null){let ke=new Promise(Qe=>{Fe=Qe});n.history.go(ie*-1),Zr(_e,{state:"blocked",location:J,proceed(){Zr(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),ke.then(()=>n.history.go(ie))},reset(){let Qe=new Map(S.blockers);Qe.set(_e,Ju),it({blockers:Qe})}});return}return Ft(q,J)}),t){B2(e,$);let U=()=>H2(e,$);e.addEventListener("pagehide",U),D=()=>e.removeEventListener("pagehide",U)}return S.initialized||Ft(rn.Pop,S.location,{initialHydration:!0}),Y}function Et(){T&&T(),D&&D(),R.clear(),O&&O.abort(),S.fetchers.forEach((U,q)=>Kn(q)),S.blockers.forEach((U,q)=>vi(q))}function St(U){return R.add(U),()=>R.delete(U)}function it(U,q){q===void 0&&(q={}),S=jt({},S,U);let J=[],ie=[];_.v7_fetcherPersist&&S.fetchers.forEach((_e,ke)=>{_e.state==="idle"&&(Ie.has(ke)?ie.push(ke):J.push(ke))}),Ie.forEach(_e=>{!S.fetchers.has(_e)&&!ne.has(_e)&&ie.push(_e)}),[...R].forEach(_e=>_e(S,{deletedFetchers:ie,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),_.v7_fetcherPersist?(J.forEach(_e=>S.fetchers.delete(_e)),ie.forEach(_e=>Kn(_e))):ie.forEach(_e=>Ie.delete(_e))}function kt(U,q,J){var ie,_e;let{flushSync:ke}=J===void 0?{}:J,Qe=S.actionData!=null&&S.navigation.formMethod!=null&&fi(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ie=U.state)==null?void 0:ie._isRedirect)!==!0,Pe;q.actionData?Object.keys(q.actionData).length>0?Pe=q.actionData:Pe=null:Qe?Pe=S.actionData:Pe=null;let Re=q.loaderData?gT(S.loaderData,q.loaderData,q.matches||[],q.errors):S.loaderData,Se=S.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Je,Gt)=>Se.set(Gt,Ju)));let De=b===!0||S.navigation.formMethod!=null&&fi(S.navigation.formMethod)&&((_e=U.state)==null?void 0:_e._isRedirect)!==!0;c&&(l=c,c=void 0),Ee||C===rn.Pop||(C===rn.Push?n.history.push(U,U.state):C===rn.Replace&&n.history.replace(U,U.state));let et;if(C===rn.Pop){let Je=$.get(S.location.pathname);Je&&Je.has(U.pathname)?et={currentLocation:S.location,nextLocation:U}:$.has(U.pathname)&&(et={currentLocation:U,nextLocation:S.location})}else if(L){let Je=$.get(S.location.pathname);Je?Je.add(U.pathname):(Je=new Set([U.pathname]),$.set(S.location.pathname,Je)),et={currentLocation:S.location,nextLocation:U}}it(jt({},q,{actionData:Pe,loaderData:Re,historyAction:C,location:U,initialized:!0,navigation:Ig,revalidation:"idle",restoreScrollPosition:_i(U,q.matches||S.matches),preventScrollReset:De,blockers:Se}),{viewTransitionOpts:et,flushSync:ke===!0}),C=rn.Pop,b=!1,L=!1,Ee=!1,Le=!1,He=[]}async function Kt(U,q){if(typeof U=="number"){n.history.go(U);return}let J=ry(S.location,S.matches,f,_.v7_prependBasename,U,_.v7_relativeSplatPath,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:ie,submission:_e,error:ke}=lT(_.v7_normalizeFormMethod,!1,J,q),Qe=S.location,Pe=Tc(S.location,ie,q&&q.state);Pe=jt({},Pe,n.history.encodeLocation(Pe));let Re=q&&q.replace!=null?q.replace:void 0,Se=rn.Push;Re===!0?Se=rn.Replace:Re===!1||_e!=null&&fi(_e.formMethod)&&_e.formAction===S.location.pathname+S.location.search&&(Se=rn.Replace);let De=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,et=(q&&q.flushSync)===!0,Je=Hi({currentLocation:Qe,nextLocation:Pe,historyAction:Se});if(Je){Zr(Je,{state:"blocked",location:Pe,proceed(){Zr(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Kt(U,q)},reset(){let Gt=new Map(S.blockers);Gt.set(Je,Ju),it({blockers:Gt})}});return}return await Ft(Se,Pe,{submission:_e,pendingError:ke,preventScrollReset:De,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:et})}function rt(){if(mt(),it({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Ft(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Ft(C||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:L===!0})}}async function Ft(U,q,J){O&&O.abort(),O=null,C=U,Ee=(J&&J.startUninterruptedRevalidation)===!0,$o(S.location,S.matches),b=(J&&J.preventScrollReset)===!0,L=(J&&J.enableViewTransition)===!0;let ie=c||l,_e=J&&J.overrideNavigation,ke=J!=null&&J.initialHydration&&S.matches&&S.matches.length>0&&!H?S.matches:oa(ie,q,f),Qe=(J&&J.flushSync)===!0,Pe=wi(ke,ie,q.pathname);if(Pe.active&&Pe.matches&&(ke=Pe.matches),!ke){let{error:Tt,notFoundMatches:at,route:Rt}=On(q.pathname);kt(q,{matches:at,loaderData:{},errors:{[Rt.id]:Tt}},{flushSync:Qe});return}if(S.initialized&&!Le&&x2(S.location,q)&&!(J&&J.submission&&fi(J.submission.formMethod))){kt(q,{matches:ke},{flushSync:Qe});return}O=new AbortController;let Re=gl(n.history,q,O.signal,J&&J.submission),Se;if(J&&J.pendingError)Se=[aa(ke).route.id,{type:Nt.error,error:J.pendingError}];else if(J&&J.submission&&fi(J.submission.formMethod)){let Tt=await mn(Re,q,J.submission,ke,Pe.active,{replace:J.replace,flushSync:Qe});if(Tt.shortCircuited)return;if(Tt.pendingActionResult){let[at,Rt]=Tt.pendingActionResult;if(kr(Rt)&&Ic(Rt.error)&&Rt.error.status===404){O=null,kt(q,{matches:Tt.matches,loaderData:{},errors:{[at]:Rt.error}});return}}ke=Tt.matches||ke,Se=Tt.pendingActionResult,_e=Sg(q,J.submission),Qe=!1,Pe.active=!1,Re=gl(n.history,Re.url,Re.signal)}let{shortCircuited:De,matches:et,loaderData:Je,errors:Gt}=await Mr(Re,q,ke,Pe.active,_e,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Qe,Se);De||(O=null,kt(q,jt({matches:et||ke},yT(Se),{loaderData:Je,errors:Gt})))}async function mn(U,q,J,ie,_e,ke){ke===void 0&&(ke={}),mt();let Qe=j2(q,J);if(it({navigation:Qe},{flushSync:ke.flushSync===!0}),_e){let Se=await or(ie,q.pathname,U.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let De=aa(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[De,{type:Nt.error,error:Se.error}]}}else if(Se.matches)ie=Se.matches;else{let{notFoundMatches:De,error:et,route:Je}=On(q.pathname);return{matches:De,pendingActionResult:[Je.id,{type:Nt.error,error:et}]}}}let Pe,Re=rc(ie,q);if(!Re.route.action&&!Re.route.lazy)Pe={type:Nt.error,error:mr(405,{method:U.method,pathname:q.pathname,routeId:Re.route.id})};else if(Pe=(await an("action",S,U,[Re],ie,null))[Re.route.id],U.signal.aborted)return{shortCircuited:!0};if(da(Pe)){let Se;return ke&&ke.replace!=null?Se=ke.replace:Se=hT(Pe.response.headers.get("Location"),new URL(U.url),f)===S.location.pathname+S.location.search,await Dt(U,Pe,!0,{submission:J,replace:Se}),{shortCircuited:!0}}if(co(Pe))throw mr(400,{type:"defer-action"});if(kr(Pe)){let Se=aa(ie,Re.route.id);return(ke&&ke.replace)!==!0&&(C=rn.Push),{matches:ie,pendingActionResult:[Se.route.id,Pe]}}return{matches:ie,pendingActionResult:[Re.route.id,Pe]}}async function Mr(U,q,J,ie,_e,ke,Qe,Pe,Re,Se,De){let et=_e||Sg(q,ke),Je=ke||Qe||wT(et),Gt=!Ee&&(!_.v7_partialHydration||!Re);if(ie){if(Gt){let Ct=Wn(De);it(jt({navigation:et},Ct!==void 0?{actionData:Ct}:{}),{flushSync:Se})}let dt=await or(J,q.pathname,U.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){let Ct=aa(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[Ct]:dt.error}}}else if(dt.matches)J=dt.matches;else{let{error:Ct,notFoundMatches:Zt,route:Ii}=On(q.pathname);return{matches:Zt,loaderData:{},errors:{[Ii.id]:Ct}}}}let Tt=c||l,[at,Rt]=cT(n.history,S,J,Je,q,_.v7_partialHydration&&Re===!0,_.v7_skipActionErrorRevalidation,Le,He,Ne,Ie,pe,ee,Tt,f,De);if(sr(dt=>!(J&&J.some(Ct=>Ct.route.id===dt))||at&&at.some(Ct=>Ct.route.id===dt)),ue=++me,at.length===0&&Rt.length===0){let dt=ir();return kt(q,jt({matches:J,loaderData:{},errors:De&&kr(De[1])?{[De[0]]:De[1].error}:null},yT(De),dt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Se}),{shortCircuited:!0}}if(Gt){let dt={};if(!ie){dt.navigation=et;let Ct=Wn(De);Ct!==void 0&&(dt.actionData=Ct)}Rt.length>0&&(dt.fetchers=Bt(Rt)),it(dt,{flushSync:Se})}Rt.forEach(dt=>{ot(dt.key),dt.controller&&ne.set(dt.key,dt.controller)});let Vr=()=>Rt.forEach(dt=>ot(dt.key));O&&O.signal.addEventListener("abort",Vr);let{loaderResults:Ei,fetcherResults:Er}=await Ue(S,J,at,Rt,U);if(U.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Vr),Rt.forEach(dt=>ne.delete(dt.key));let ct=Rf(Ei);if(ct)return await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};if(ct=Rf(Er),ct)return ee.add(ct.key),await Dt(U,ct.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:ks,errors:Tr}=mT(S,J,Ei,De,Rt,Er,Ae);Ae.forEach((dt,Ct)=>{dt.subscribe(Zt=>{(Zt||dt.done)&&Ae.delete(Ct)})}),_.v7_partialHydration&&Re&&S.errors&&(Tr=jt({},S.errors,Tr));let xn=ir(),In=yi(ue),Ti=xn||In||Rt.length>0;return jt({matches:J,loaderData:ks,errors:Tr},Ti?{fetchers:new Map(S.fetchers)}:{})}function Wn(U){if(U&&!kr(U[1]))return{[U[0]]:U[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Bt(U){return U.forEach(q=>{let J=S.fetchers.get(q.key),ie=Zu(void 0,J?J.data:void 0);S.fetchers.set(q.key,ie)}),new Map(S.fetchers)}function Jt(U,q,J,ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ot(U);let _e=(ie&&ie.flushSync)===!0,ke=c||l,Qe=ry(S.location,S.matches,f,_.v7_prependBasename,J,_.v7_relativeSplatPath,q,ie==null?void 0:ie.relative),Pe=oa(ke,Qe,f),Re=wi(Pe,ke,Qe);if(Re.active&&Re.matches&&(Pe=Re.matches),!Pe){gn(U,q,mr(404,{pathname:Qe}),{flushSync:_e});return}let{path:Se,submission:De,error:et}=lT(_.v7_normalizeFormMethod,!0,Qe,ie);if(et){gn(U,q,et,{flushSync:_e});return}let Je=rc(Pe,Se),Gt=(ie&&ie.preventScrollReset)===!0;if(De&&fi(De.formMethod)){rr(U,q,Se,Je,Pe,Re.active,_e,Gt,De);return}pe.set(U,{routeId:q,path:Se}),Dn(U,q,Se,Je,Pe,Re.active,_e,Gt,De)}async function rr(U,q,J,ie,_e,ke,Qe,Pe,Re){mt(),pe.delete(U);function Se(ft){if(!ft.route.action&&!ft.route.lazy){let $r=mr(405,{method:Re.formMethod,pathname:J,routeId:q});return gn(U,q,$r,{flushSync:Qe}),!0}return!1}if(!ke&&Se(ie))return;let De=S.fetchers.get(U);Ot(U,F2(Re,De),{flushSync:Qe});let et=new AbortController,Je=gl(n.history,J,et.signal,Re);if(ke){let ft=await or(_e,new URL(Je.url).pathname,Je.signal);if(ft.type==="aborted")return;if(ft.type==="error"){gn(U,q,ft.error,{flushSync:Qe});return}else if(ft.matches){if(_e=ft.matches,ie=rc(_e,J),Se(ie))return}else{gn(U,q,mr(404,{pathname:J}),{flushSync:Qe});return}}ne.set(U,et);let Gt=me,at=(await an("action",S,Je,[ie],_e,U))[ie.route.id];if(Je.signal.aborted){ne.get(U)===et&&ne.delete(U);return}if(_.v7_fetcherPersist&&Ie.has(U)){if(da(at)||kr(at)){Ot(U,to(void 0));return}}else{if(da(at))if(ne.delete(U),ue>Gt){Ot(U,to(void 0));return}else return ee.add(U),Ot(U,Zu(Re)),Dt(Je,at,!1,{fetcherSubmission:Re,preventScrollReset:Pe});if(kr(at)){gn(U,q,at.error);return}}if(co(at))throw mr(400,{type:"defer-action"});let Rt=S.navigation.location||S.location,Vr=gl(n.history,Rt,et.signal),Ei=c||l,Er=S.navigation.state!=="idle"?oa(Ei,S.navigation.location,f):S.matches;ut(Er,"Didn't find any matches after fetcher action");let ct=++me;F.set(U,ct);let ks=Zu(Re,at.data);S.fetchers.set(U,ks);let[Tr,xn]=cT(n.history,S,Er,Re,Rt,!1,_.v7_skipActionErrorRevalidation,Le,He,Ne,Ie,pe,ee,Ei,f,[ie.route.id,at]);xn.filter(ft=>ft.key!==U).forEach(ft=>{let $r=ft.key,jo=S.fetchers.get($r),Da=Zu(void 0,jo?jo.data:void 0);S.fetchers.set($r,Da),ot($r),ft.controller&&ne.set($r,ft.controller)}),it({fetchers:new Map(S.fetchers)});let In=()=>xn.forEach(ft=>ot(ft.key));et.signal.addEventListener("abort",In);let{loaderResults:Ti,fetcherResults:dt}=await Ue(S,Er,Tr,xn,Vr);if(et.signal.aborted)return;et.signal.removeEventListener("abort",In),F.delete(U),ne.delete(U),xn.forEach(ft=>ne.delete(ft.key));let Ct=Rf(Ti);if(Ct)return Dt(Vr,Ct.result,!1,{preventScrollReset:Pe});if(Ct=Rf(dt),Ct)return ee.add(Ct.key),Dt(Vr,Ct.result,!1,{preventScrollReset:Pe});let{loaderData:Zt,errors:Ii}=mT(S,Er,Ti,void 0,xn,dt,Ae);if(S.fetchers.has(U)){let ft=to(at.data);S.fetchers.set(U,ft)}yi(ct),S.navigation.state==="loading"&&ct>ue?(ut(C,"Expected pending action"),O&&O.abort(),kt(S.navigation.location,{matches:Er,loaderData:Zt,errors:Ii,fetchers:new Map(S.fetchers)})):(it({errors:Ii,loaderData:gT(S.loaderData,Zt,Er,Ii),fetchers:new Map(S.fetchers)}),Le=!1)}async function Dn(U,q,J,ie,_e,ke,Qe,Pe,Re){let Se=S.fetchers.get(U);Ot(U,Zu(Re,Se?Se.data:void 0),{flushSync:Qe});let De=new AbortController,et=gl(n.history,J,De.signal);if(ke){let at=await or(_e,new URL(et.url).pathname,et.signal);if(at.type==="aborted")return;if(at.type==="error"){gn(U,q,at.error,{flushSync:Qe});return}else if(at.matches)_e=at.matches,ie=rc(_e,J);else{gn(U,q,mr(404,{pathname:J}),{flushSync:Qe});return}}ne.set(U,De);let Je=me,Tt=(await an("loader",S,et,[ie],_e,U))[ie.route.id];if(co(Tt)&&(Tt=await Nv(Tt,et.signal,!0)||Tt),ne.get(U)===De&&ne.delete(U),!et.signal.aborted){if(Ie.has(U)){Ot(U,to(void 0));return}if(da(Tt))if(ue>Je){Ot(U,to(void 0));return}else{ee.add(U),await Dt(et,Tt,!1,{preventScrollReset:Pe});return}if(kr(Tt)){gn(U,q,Tt.error);return}ut(!co(Tt),"Unhandled fetcher deferred data"),Ot(U,to(Tt.data))}}async function Dt(U,q,J,ie){let{submission:_e,fetcherSubmission:ke,preventScrollReset:Qe,replace:Pe}=ie===void 0?{}:ie;q.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let Re=q.response.headers.get("Location");ut(Re,"Expected a Location header on the redirect Response"),Re=hT(Re,new URL(U.url),f);let Se=Tc(S.location,Re,{_isRedirect:!0});if(t){let at=!1;if(q.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(bv.test(Re)){const Rt=n.history.createURL(Re);at=Rt.origin!==e.location.origin||gs(Rt.pathname,f)==null}if(at){Pe?e.location.replace(Re):e.location.assign(Re);return}}O=null;let De=Pe===!0||q.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:et,formAction:Je,formEncType:Gt}=S.navigation;!_e&&!ke&&et&&Je&&Gt&&(_e=wT(S.navigation));let Tt=_e||ke;if(E2.has(q.response.status)&&Tt&&fi(Tt.formMethod))await Ft(De,Se,{submission:jt({},Tt,{formAction:Re}),preventScrollReset:Qe||b,enableViewTransition:J?L:void 0});else{let at=Sg(Se,_e);await Ft(De,Se,{overrideNavigation:at,fetcherSubmission:ke,preventScrollReset:Qe||b,enableViewTransition:J?L:void 0})}}async function an(U,q,J,ie,_e,ke){let Qe,Pe={};try{Qe=await N2(p,U,q,J,ie,_e,ke,a,i)}catch(Re){return ie.forEach(Se=>{Pe[Se.route.id]={type:Nt.error,error:Re}}),Pe}for(let[Re,Se]of Object.entries(Qe))if(L2(Se)){let De=Se.result;Pe[Re]={type:Nt.redirect,response:D2(De,J,Re,_e,f,_.v7_relativeSplatPath)}}else Pe[Re]=await P2(Se);return Pe}async function Ue(U,q,J,ie,_e){let ke=U.matches,Qe=an("loader",U,_e,J,q,null),Pe=Promise.all(ie.map(async De=>{if(De.matches&&De.match&&De.controller){let Je=(await an("loader",U,gl(n.history,De.path,De.controller.signal),[De.match],De.matches,De.key))[De.match.route.id];return{[De.key]:Je}}else return Promise.resolve({[De.key]:{type:Nt.error,error:mr(404,{pathname:De.path})}})})),Re=await Qe,Se=(await Pe).reduce((De,et)=>Object.assign(De,et),{});return await Promise.all([$2(q,Re,_e.signal,ke,U.loaderData),U2(q,Se,ie)]),{loaderResults:Re,fetcherResults:Se}}function mt(){Le=!0,He.push(...sr()),pe.forEach((U,q)=>{ne.has(q)&&Ne.add(q),ot(q)})}function Ot(U,q,J){J===void 0&&(J={}),S.fetchers.set(U,q),it({fetchers:new Map(S.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function gn(U,q,J,ie){ie===void 0&&(ie={});let _e=aa(S.matches,q);Kn(U),it({errors:{[_e.route.id]:J},fetchers:new Map(S.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function qn(U){return ve.set(U,(ve.get(U)||0)+1),Ie.has(U)&&Ie.delete(U),S.fetchers.get(U)||T2}function Kn(U){let q=S.fetchers.get(U);ne.has(U)&&!(q&&q.state==="loading"&&F.has(U))&&ot(U),pe.delete(U),F.delete(U),ee.delete(U),_.v7_fetcherPersist&&Ie.delete(U),Ne.delete(U),S.fetchers.delete(U)}function ze(U){let q=(ve.get(U)||0)-1;q<=0?(ve.delete(U),Ie.add(U),_.v7_fetcherPersist||Kn(U)):ve.set(U,q),it({fetchers:new Map(S.fetchers)})}function ot(U){let q=ne.get(U);q&&(q.abort(),ne.delete(U))}function yn(U){for(let q of U){let J=qn(q),ie=to(J.data);S.fetchers.set(q,ie)}}function ir(){let U=[],q=!1;for(let J of ee){let ie=S.fetchers.get(J);ut(ie,"Expected fetcher: "+J),ie.state==="loading"&&(ee.delete(J),U.push(J),q=!0)}return yn(U),q}function yi(U){let q=[];for(let[J,ie]of F)if(ie<U){let _e=S.fetchers.get(J);ut(_e,"Expected fetcher: "+J),_e.state==="loading"&&(ot(J),F.delete(J),q.push(J))}return yn(q),q.length>0}function Vo(U,q){let J=S.blockers.get(U)||Ju;return Ge.get(U)!==q&&Ge.set(U,q),J}function vi(U){S.blockers.delete(U),Ge.delete(U)}function Zr(U,q){let J=S.blockers.get(U)||Ju;ut(J.state==="unblocked"&&q.state==="blocked"||J.state==="blocked"&&q.state==="blocked"||J.state==="blocked"&&q.state==="proceeding"||J.state==="blocked"&&q.state==="unblocked"||J.state==="proceeding"&&q.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+q.state);let ie=new Map(S.blockers);ie.set(U,q),it({blockers:ie})}function Hi(U){let{currentLocation:q,nextLocation:J,historyAction:ie}=U;if(Ge.size===0)return;Ge.size>1&&va(!1,"A router only supports one blocker at a time");let _e=Array.from(Ge.entries()),[ke,Qe]=_e[_e.length-1],Pe=S.blockers.get(ke);if(!(Pe&&Pe.state==="proceeding")&&Qe({currentLocation:q,nextLocation:J,historyAction:ie}))return ke}function On(U){let q=mr(404,{pathname:U}),J=c||l,{matches:ie,route:_e}=vT(J);return sr(),{notFoundMatches:ie,route:_e,error:q}}function sr(U){let q=[];return Ae.forEach((J,ie)=>{(!U||U(ie))&&(J.cancel(),q.push(ie),Ae.delete(ie))}),q}function Ns(U,q,J){if(P=U,k=q,x=J||null,!W&&S.navigation===Ig){W=!0;let ie=_i(S.location,S.matches);ie!=null&&it({restoreScrollPosition:ie})}return()=>{P=null,k=null,x=null}}function wr(U,q){return x&&x(U,q.map(ie=>ZV(ie,S.loaderData)))||U.key}function $o(U,q){if(P&&k){let J=wr(U,q);P[J]=k()}}function _i(U,q){if(P){let J=wr(U,q),ie=P[J];if(typeof ie=="number")return ie}return null}function wi(U,q,J){if(g)if(U){if(Object.keys(U[0].params).length>0)return{active:!0,matches:Ff(q,J,f,!0)}}else return{active:!0,matches:Ff(q,J,f,!0)||[]};return{active:!1,matches:null}}async function or(U,q,J){if(!g)return{type:"success",matches:U};let ie=U;for(;;){let _e=c==null,ke=c||l,Qe=a;try{await g({signal:J,path:q,matches:ie,patch:(Se,De)=>{J.aborted||fT(Se,De,ke,Qe,i)}})}catch(Se){return{type:"error",error:Se,partialMatches:ie}}finally{_e&&!J.aborted&&(l=[...l])}if(J.aborted)return{type:"aborted"};let Pe=oa(ke,q,f);if(Pe)return{type:"success",matches:Pe};let Re=Ff(ke,q,f,!0);if(!Re||ie.length===Re.length&&ie.every((Se,De)=>Se.route.id===Re[De].route.id))return{type:"success",matches:null};ie=Re}}function Uo(U){a={},c=lh(U,i,void 0,a)}function Ht(U,q){let J=c==null;fT(U,q,c||l,a,i),J&&(l=[...l],it({}))}return Y={get basename(){return f},get future(){return _},get state(){return S},get routes(){return l},get window(){return e},initialize:st,subscribe:St,enableScrollRestoration:Ns,navigate:Kt,fetch:Jt,revalidate:rt,createHref:U=>n.history.createHref(U),encodeLocation:U=>n.history.encodeLocation(U),getFetcher:qn,deleteFetcher:ze,dispose:Et,getBlocker:Vo,deleteBlocker:vi,patchRoutes:Ht,_internalFetchControllers:ne,_internalActiveDeferreds:Ae,_internalSetRoutes:Uo},Y}function C2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ry(n,e,t,r,i,a,l,c){let f,p;if(l){f=[];for(let _ of e)if(f.push(_),_.route.id===l){p=_;break}}else f=e,p=e[e.length-1];let g=Rv(i||".",Av(f,a),gs(n.pathname,t)||n.pathname,c==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&p){let _=kv(g.search);if(p.route.index&&!_)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&_){let T=new URLSearchParams(g.search),R=T.getAll("index");T.delete("index"),R.filter(x=>x).forEach(x=>T.append("index",x));let P=T.toString();g.search=P?"?"+P:""}}return r&&t!=="/"&&(g.pathname=g.pathname==="/"?t:fs([t,g.pathname])),_a(g)}function lT(n,e,t,r){if(!r||!C2(r))return{path:t};if(r.formMethod&&!V2(r.formMethod))return{path:t,error:mr(405,{method:r.formMethod})};let i=()=>({path:t,error:mr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=n?a.toUpperCase():a.toLowerCase(),c=mR(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!fi(l))return i();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,P)=>{let[x,k]=P;return""+R+x+"="+k+`
`},""):String(r.body);return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!fi(l))return i();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}ut(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=sy(r.formData),p=r.formData;else if(r.body instanceof FormData)f=sy(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=pT(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=pT(f)}catch{return i()}let g={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(fi(g.formMethod))return{path:t,submission:g};let _=Cs(t);return e&&_.search&&kv(_.search)&&f.append("index",""),_.search="?"+f,{path:_a(_),submission:g}}function uT(n,e,t){t===void 0&&(t=!1);let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function cT(n,e,t,r,i,a,l,c,f,p,g,_,T,R,P,x){let k=x?kr(x[1])?x[1].error:x[1].data:void 0,W=n.createURL(e.location),V=n.createURL(i),H=t;a&&e.errors?H=uT(t,Object.keys(e.errors)[0],!0):x&&kr(x[1])&&(H=uT(t,x[0]));let B=x?x[1].statusCode:void 0,K=l&&B&&B>=400,Y=H.filter((C,b)=>{let{route:O}=C;if(O.lazy)return!0;if(O.loader==null)return!1;if(a)return iy(O,e.loaderData,e.errors);if(A2(e.loaderData,e.matches[b],C)||f.some(D=>D===C.route.id))return!0;let L=e.matches[b],$=C;return dT(C,jt({currentUrl:W,currentParams:L.params,nextUrl:V,nextParams:$.params},r,{actionResult:k,actionStatus:B,defaultShouldRevalidate:K?!1:c||W.pathname+W.search===V.pathname+V.search||W.search!==V.search||hR(L,$)}))}),S=[];return _.forEach((C,b)=>{if(a||!t.some(Ee=>Ee.route.id===C.routeId)||g.has(b))return;let O=oa(R,C.path,P);if(!O){S.push({key:b,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(b),$=rc(O,C.path),D=!1;T.has(b)?D=!1:p.has(b)?(p.delete(b),D=!0):L&&L.state!=="idle"&&L.data===void 0?D=c:D=dT($,jt({currentUrl:W,currentParams:e.matches[e.matches.length-1].params,nextUrl:V,nextParams:t[t.length-1].params},r,{actionResult:k,actionStatus:B,defaultShouldRevalidate:K?!1:c})),D&&S.push({key:b,routeId:C.routeId,path:C.path,matches:O,match:$,controller:new AbortController})}),[Y,S]}function iy(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function A2(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function hR(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function dT(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function fT(n,e,t,r,i){var a;let l;if(n){let p=r[n];ut(p,"No route found to patch children into: routeId = "+n),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(g=>pR(p,g))),f=lh(c,i,[n||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function pR(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>pR(t,a))}):!1}async function R2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];ut(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";va(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!XV.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function b2(n){let{matches:e}=n,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[t[l].route.id]:a}),{})}async function N2(n,e,t,r,i,a,l,c,f,p){let g=a.map(R=>R.route.lazy?R2(R.route,f,c):void 0),_=a.map((R,P)=>{let x=g[P],k=i.some(V=>V.route.id===R.route.id);return jt({},R,{shouldLoad:k,resolve:async V=>(V&&r.method==="GET"&&(R.route.lazy||R.route.loader)&&(k=!0),k?k2(e,r,R,x,V,p):Promise.resolve({type:Nt.data,result:void 0}))})}),T=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return T}async function k2(n,e,t,r,i,a){let l,c,f=p=>{let g,_=new Promise((P,x)=>g=x);c=()=>g(),e.signal.addEventListener("abort",c);let T=P=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):p({request:e,params:t.params,context:a},...P!==void 0?[P]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(x=>T(x)):T())}}catch(P){return{type:"error",result:P}}})();return Promise.race([R,_])};try{let p=t.route[n];if(r)if(p){let g,[_]=await Promise.all([f(p).catch(T=>{g=T}),r]);if(g!==void 0)throw g;l=_}else if(await r,p=t.route[n],p)l=await f(p);else if(n==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw mr(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:Nt.data,result:void 0};else if(p)l=await f(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw mr(404,{pathname:_})}ut(l.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Nt.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function P2(n){let{result:e,type:t}=n;if(gR(e)){let _;try{let T=e.headers.get("Content-Type");T&&/\bapplication\/json\b/.test(T)?e.body==null?_=null:_=await e.json():_=await e.text()}catch(T){return{type:Nt.error,error:T}}return t===Nt.error?{type:Nt.error,error:new ch(e.status,e.statusText,_),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:_,statusCode:e.status,headers:e.headers}}if(t===Nt.error){if(_T(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:Nt.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:new ch(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ic(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Nt.error,error:e,statusCode:Ic(e)?e.status:void 0}}if(M2(e)){var c,f;return{type:Nt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(_T(e)){var p,g;return{type:Nt.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function D2(n,e,t,r,i,a){let l=n.headers.get("Location");if(ut(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!bv.test(l)){let c=r.slice(0,r.findIndex(f=>f.route.id===t)+1);l=ry(new URL(e.url),c,i,!0,l,a),n.headers.set("Location",l)}return n}function hT(n,e,t){if(bv.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=gs(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function gl(n,e,t,r){let i=n.createURL(mR(e)).toString(),a={signal:t};if(r&&fi(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=sy(r.formData):a.body=r.formData}return new Request(i,a)}function sy(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function pT(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function O2(n,e,t,r,i){let a={},l=null,c,f=!1,p={},g=t&&kr(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let T=_.route.id,R=e[T];if(ut(!da(R),"Cannot handle redirect results in processLoaderData"),kr(R)){let P=R.error;g!==void 0&&(P=g,g=void 0),l=l||{};{let x=aa(n,T);l[x.route.id]==null&&(l[x.route.id]=P)}a[T]=void 0,f||(f=!0,c=Ic(R.error)?R.error.status:500),R.headers&&(p[T]=R.headers)}else co(R)?(r.set(T,R.deferredData),a[T]=R.deferredData.data,R.statusCode!=null&&R.statusCode!==200&&!f&&(c=R.statusCode),R.headers&&(p[T]=R.headers)):(a[T]=R.data,R.statusCode&&R.statusCode!==200&&!f&&(c=R.statusCode),R.headers&&(p[T]=R.headers))}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function mT(n,e,t,r,i,a,l){let{loaderData:c,errors:f}=O2(e,t,r,l);return i.forEach(p=>{let{key:g,match:_,controller:T}=p,R=a[g];if(ut(R,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(kr(R)){let P=aa(n.matches,_==null?void 0:_.route.id);f&&f[P.route.id]||(f=jt({},f,{[P.route.id]:R.error})),n.fetchers.delete(g)}else if(da(R))ut(!1,"Unhandled fetcher revalidation redirect");else if(co(R))ut(!1,"Unhandled fetcher deferred data");else{let P=to(R.data);n.fetchers.set(g,P)}}),{loaderData:c,errors:f}}function gT(n,e,t,r){let i=jt({},e);for(let a of t){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):n[l]!==void 0&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function yT(n){return n?kr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function aa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function vT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(n,e){let{pathname:t,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&t&&r?f="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f='Route "'+r+'" does not match URL "'+t+'"'):n===404?(c="Not Found",f='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",i&&t&&r?f="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new ch(n||500,c,new Error(f),!0)}function Rf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(da(i))return{key:r,result:i}}}function mR(n){let e=typeof n=="string"?Cs(n):n;return _a(jt({},e,{hash:""}))}function x2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function L2(n){return gR(n.result)&&w2.has(n.result.status)}function co(n){return n.type===Nt.deferred}function kr(n){return n.type===Nt.error}function da(n){return(n&&n.type)===Nt.redirect}function _T(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function M2(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function gR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function V2(n){return _2.has(n.toLowerCase())}function fi(n){return y2.has(n.toLowerCase())}async function $2(n,e,t,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[c,f]=a[l],p=n.find(T=>(T==null?void 0:T.route.id)===c);if(!p)continue;let g=r.find(T=>T.route.id===p.route.id),_=g!=null&&!hR(g,p)&&(i&&i[p.route.id])!==void 0;co(f)&&_&&await Nv(f,t,!1).then(T=>{T&&(e[c]=T)})}}async function U2(n,e,t){for(let r=0;r<t.length;r++){let{key:i,routeId:a,controller:l}=t[r],c=e[i];n.find(p=>(p==null?void 0:p.route.id)===a)&&co(c)&&(ut(l,"Expected an AbortController for revalidating fetcher deferred result"),await Nv(c,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function Nv(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Nt.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:n.deferredData.data}}}function kv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function rc(n,e){let t=typeof e=="string"?Cs(e).search:e.search;if(n[n.length-1].route.index&&kv(t||""))return n[n.length-1];let r=cR(n);return r[r.length-1]}function wT(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Sg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function j2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Zu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function to(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function B2(n,e){try{let t=n.sessionStorage.getItem(fR);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function H2(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(fR,JSON.stringify(t))}catch(r){va(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dh.apply(this,arguments)}const Gc=w.createContext(null),Pv=w.createContext(null),Oo=w.createContext(null),Dv=w.createContext(null),As=w.createContext({outlet:null,matches:[],isDataRoute:!1}),yR=w.createContext(null);function z2(n,e){let{relative:t}=e===void 0?{}:e;Qc()||ut(!1);let{basename:r,navigator:i}=w.useContext(Oo),{hash:a,pathname:l,search:c}=Xh(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:fs([r,l])),i.createHref({pathname:f,search:c,hash:a})}function Qc(){return w.useContext(Dv)!=null}function Yc(){return Qc()||ut(!1),w.useContext(Dv).location}function vR(n){w.useContext(Oo).static||w.useLayoutEffect(n)}function xo(){let{isDataRoute:n}=w.useContext(As);return n?r$():W2()}function W2(){Qc()||ut(!1);let n=w.useContext(Gc),{basename:e,future:t,navigator:r}=w.useContext(Oo),{matches:i}=w.useContext(As),{pathname:a}=Yc(),l=JSON.stringify(Av(i,t.v7_relativeSplatPath)),c=w.useRef(!1);return vR(()=>{c.current=!0}),w.useCallback(function(p,g){if(g===void 0&&(g={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let _=Rv(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fs([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,l,a,n])}const q2=w.createContext(null);function K2(n){let e=w.useContext(As).outlet;return e&&w.createElement(q2.Provider,{value:n},e)}function _R(){let{matches:n}=w.useContext(As),e=n[n.length-1];return e?e.params:{}}function Xh(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Oo),{matches:i}=w.useContext(As),{pathname:a}=Yc(),l=JSON.stringify(Av(i,r.v7_relativeSplatPath));return w.useMemo(()=>Rv(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function G2(n,e,t,r){Qc()||ut(!1);let{navigator:i,static:a}=w.useContext(Oo),{matches:l}=w.useContext(As),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=Yc(),_;_=g;let T=_.pathname||"/",R=T;if(p!=="/"){let k=p.replace(/^\//,"").split("/");R="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=!a&&t&&t.matches&&t.matches.length>0?t.matches:oa(n,{pathname:R});return Z2(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:fs([p,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:fs([p,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,r)}function Q2(){let n=IR(),e=Ic(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:i},t):null,null)}const Y2=w.createElement(Q2,null);class X2 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(As.Provider,{value:this.props.routeContext},w.createElement(yR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J2(n){let{routeContext:e,match:t,children:r}=n,i=w.useContext(Gc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(As.Provider,{value:e},r)}function Z2(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=(i=t)==null?void 0:i.errors;if(c!=null){let g=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);g>=0||ut(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:T,errors:R}=t,P=_.route.loader&&T[_.route.id]===void 0&&(!R||R[_.route.id]===void 0);if(_.route.lazy||P){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,T)=>{let R,P=!1,x=null,k=null;t&&(R=c&&_.route.id?c[_.route.id]:void 0,x=_.route.errorElement||Y2,f&&(p<0&&T===0?(i$("route-fallback"),P=!0,k=null):p===T&&(P=!0,k=_.route.hydrateFallbackElement||null)));let W=e.concat(l.slice(0,T+1)),V=()=>{let H;return R?H=x:P?H=k:_.route.Component?H=w.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=g,w.createElement(J2,{match:_,routeContext:{outlet:g,matches:W,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?w.createElement(X2,{location:t.location,revalidation:t.revalidation,component:x,error:R,children:V(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):V()},null)}var wR=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(wR||{}),ER=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ER||{});function e$(n){let e=w.useContext(Gc);return e||ut(!1),e}function t$(n){let e=w.useContext(Pv);return e||ut(!1),e}function n$(n){let e=w.useContext(As);return e||ut(!1),e}function TR(n){let e=n$(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function IR(){var n;let e=w.useContext(yR),t=t$(ER.UseRouteError),r=TR();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function r$(){let{router:n}=e$(wR.UseNavigateStable),e=TR(),t=w.useRef(!1);return vR(()=>{t.current=!0}),w.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,dh({fromRouteId:e},a)))},[n,e])}const ET={};function i$(n,e,t){ET[n]||(ET[n]=!0)}function s$(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function o$(n){return K2(n.context)}function a$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=rn.Pop,navigator:a,static:l=!1,future:c}=n;Qc()&&ut(!1);let f=e.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:a,static:l,future:dh({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=Cs(r));let{pathname:g="/",search:_="",hash:T="",state:R=null,key:P="default"}=r,x=w.useMemo(()=>{let k=gs(g,f);return k==null?null:{location:{pathname:k,search:_,hash:T,state:R,key:P},navigationType:i}},[f,g,_,T,R,P,i]);return x==null?null:w.createElement(Oo.Provider,{value:p},w.createElement(Dv.Provider,{children:t,value:x}))}new Promise(()=>{});function l$(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:w.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bl.apply(this,arguments)}function SR(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function u$(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function c$(n,e){return n.button===0&&(!e||e==="_self")&&!u$(n)}const d$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h$="6";try{window.__reactRouterVersion=h$}catch{}function p$(n,e){return S2({basename:void 0,future:Bl({},void 0,{v7_prependBasename:!0}),history:GV({window:void 0}),hydrationData:m$(),routes:n,mapRouteProperties:l$,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function m$(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Bl({},e,{errors:g$(e.errors)})),e}function g$(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new ch(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}const CR=w.createContext({isTransitioning:!1}),y$=w.createContext(new Map),v$="startTransition",TT=nP[v$],_$="flushSync",IT=NL[_$];function w$(n){TT?TT(n):n()}function ec(n){IT?IT(n):n()}let E$=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function T$(n){let{fallbackElement:e,router:t,future:r}=n,[i,a]=w.useState(t.state),[l,c]=w.useState(),[f,p]=w.useState({isTransitioning:!1}),[g,_]=w.useState(),[T,R]=w.useState(),[P,x]=w.useState(),k=w.useRef(new Map),{v7_startTransition:W}=r||{},V=w.useCallback(C=>{W?w$(C):C()},[W]),H=w.useCallback((C,b)=>{let{deletedFetchers:O,flushSync:L,viewTransitionOpts:$}=b;C.fetchers.forEach((Ee,Le)=>{Ee.data!==void 0&&k.current.set(Le,Ee.data)}),O.forEach(Ee=>k.current.delete(Ee));let D=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!$||D){L?ec(()=>a(C)):V(()=>a(C));return}if(L){ec(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let Ee=t.window.document.startViewTransition(()=>{ec(()=>a(C))});Ee.finished.finally(()=>{ec(()=>{_(void 0),R(void 0),c(void 0),p({isTransitioning:!1})})}),ec(()=>R(Ee));return}T?(g&&g.resolve(),T.skipTransition(),x({state:C,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(c(C),p({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[t.window,T,g,k,V]);w.useLayoutEffect(()=>t.subscribe(H),[t,H]),w.useEffect(()=>{f.isTransitioning&&!f.flushSync&&_(new E$)},[f]),w.useEffect(()=>{if(g&&l&&t.window){let C=l,b=g.promise,O=t.window.document.startViewTransition(async()=>{V(()=>a(C)),await b});O.finished.finally(()=>{_(void 0),R(void 0),c(void 0),p({isTransitioning:!1})}),R(O)}},[V,l,g,t.window]),w.useEffect(()=>{g&&l&&i.location.key===l.location.key&&g.resolve()},[g,T,i.location,l]),w.useEffect(()=>{!f.isTransitioning&&P&&(c(P.state),p({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),x(void 0))},[f.isTransitioning,P]),w.useEffect(()=>{},[]);let B=w.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:C=>t.navigate(C),push:(C,b,O)=>t.navigate(C,{state:b,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(C,b,O)=>t.navigate(C,{replace:!0,state:b,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[t]),K=t.basename||"/",Y=w.useMemo(()=>({router:t,navigator:B,static:!1,basename:K}),[t,B,K]),S=w.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return w.useEffect(()=>s$(r,t.future),[r,t.future]),w.createElement(w.Fragment,null,w.createElement(Gc.Provider,{value:Y},w.createElement(Pv.Provider,{value:i},w.createElement(y$.Provider,{value:k.current},w.createElement(CR.Provider,{value:f},w.createElement(a$,{basename:K,location:i.location,navigationType:i.historyAction,navigator:B,future:S},i.initialized||t.future.v7_partialHydration?w.createElement(I$,{routes:t.routes,future:t.future,state:i}):e))))),null)}const I$=w.memo(S$);function S$(n){let{routes:e,future:t,state:r}=n;return G2(e,void 0,r,t)}const C$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R$=w.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,T=SR(e,d$),{basename:R}=w.useContext(Oo),P,x=!1;if(typeof p=="string"&&A$.test(p)&&(P=p,C$))try{let H=new URL(window.location.href),B=p.startsWith("//")?new URL(H.protocol+p):new URL(p),K=gs(B.pathname,R);B.origin===H.origin&&K!=null?p=K+B.search+B.hash:x=!0}catch{}let k=z2(p,{relative:i}),W=N$(p,{replace:l,state:c,target:f,preventScrollReset:g,relative:i,viewTransition:_});function V(H){r&&r(H),H.defaultPrevented||W(H)}return w.createElement("a",Bl({},T,{href:P||k,onClick:x||a?r:V,ref:t,target:f}))}),tc=w.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:g}=e,_=SR(e,f$),T=Xh(f,{relative:_.relative}),R=Yc(),P=w.useContext(Pv),{navigator:x,basename:k}=w.useContext(Oo),W=P!=null&&k$(T)&&p===!0,V=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,H=R.pathname,B=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(H=H.toLowerCase(),B=B?B.toLowerCase():null,V=V.toLowerCase()),B&&k&&(B=gs(B,k)||B);const K=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let Y=H===V||!l&&H.startsWith(V)&&H.charAt(K)==="/",S=B!=null&&(B===V||!l&&B.startsWith(V)&&B.charAt(V.length)==="/"),C={isActive:Y,isPending:S,isTransitioning:W},b=Y?r:void 0,O;typeof a=="function"?O=a(C):O=[a,Y?"active":null,S?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(C):c;return w.createElement(R$,Bl({},_,{"aria-current":b,className:O,ref:t,style:L,to:f,viewTransition:p}),typeof g=="function"?g(C):g)});var oy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(oy||(oy={}));var ST;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ST||(ST={}));function b$(n){let e=w.useContext(Gc);return e||ut(!1),e}function N$(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=xo(),p=Yc(),g=Xh(n,{relative:l});return w.useCallback(_=>{if(c$(_,t)){_.preventDefault();let T=r!==void 0?r:_a(p)===_a(g);f(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,g,r,i,t,n,a,l,c])}function k$(n,e){e===void 0&&(e={});let t=w.useContext(CR);t==null&&ut(!1);let{basename:r}=b$(oy.useViewTransitionState),i=Xh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uh(i.pathname,l)!=null||uh(i.pathname,a)!=null}function P$(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),i=()=>r(!1),a=()=>r(!0),l=P=>I(Gh,{id:"button-tooltip",...P,children:"Please check the notice below to continue.."}),{session:c}=To(),f=xo();w.useEffect(()=>{c&&f("/Home")},[c,f]);const[p,g]=w.useState(!1);function _(P){switch(P.target.checked){case!0:g(!0);break;case!1:g(!1);break}}const{logIn:T}=To();async function R(){e(!0),await T(),e(!1)}return re(on,{children:[I(Fn,{show:n,centered:!0,backdrop:"static",children:re(Fn.Body,{className:"text-center",children:[I("div",{className:"spinner-border text-primary",role:"status"}),I("p",{className:"mt-3",children:"Logging in, please wait..."})]})}),re(Fn,{show:t,children:[I(Fn.Header,{children:I(Fn.Title,{children:"Terms and Conditions"})}),I(Fn.Body,{children:re("p",{children:["1. User Responsibility ",I("br",{})," By using this platform, you acknowledge that all interactions and transactions between users are conducted at your own risk. We do not take responsibility for any disputes, agreements, or exchanges made between users. It is your responsibility to exercise caution and ensure the legitimacy of the items and users you engage with.",I("br",{}),I("br",{}),"2. Privacy and Message Monitoring ",I("br",{})," We respect your privacy and do not monitor or view private messages exchanged between users during transactions. However, all accounts are recorded in our system for security and compliance purposes.",I("br",{}),I("br",{}),"3. Item Posting and Review",I("br",{}),"All items posted on the platform are subject to review by an administrator. We reserve the right to remove or reject any listings that contain inappropriate, illegal, or prohibited content. Users are encouraged to adhere to ethical and legal guidelines when posting items.",I("br",{}),I("br",{}),"4. Violations and Account Management",I("br",{}),"Users who repeatedly violate our guidelines by posting inappropriate content or engaging in prohibited activities may face account restrictions, suspensions, or permanent deletion. We reserve the right to take appropriate actions to maintain the integrity of the platform.",I("br",{}),I("br",{}),"5. Disclaimer of Liability",I("br",{}),"We do not guarantee the quality, safety, legality, or authenticity of the items listed on the platform. The website serves only as a medium for users to connect and trade, and we do not take responsibility for any losses, damages, or issues arising from trades or interactions.",I("br",{}),I("br",{}),"6. Amendments and Changes",I("br",{}),"We reserve the right to update or modify these Terms and Conditions at any time. Users are responsible for staying informed about any changes. Continued use of the platform signifies your acceptance of the updated terms.",I("br",{}),I("br",{}),"By using this platform, you agree to abide by these Terms and Conditions and ensure that your activities align with our community standards."]})}),I(Fn.Footer,{children:I(dn,{variant:"primary",onClick:i,children:"Okay"})})]}),re("div",{className:"logincontainer",children:[I("div",{className:"circle",children:I("img",{src:"./images/favicon.png"})}),I("p",{className:"LoginWord",children:" USER LOGIN "}),re("div",{className:"google-button",children:[p&&I(dn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},onClick:R,disabled:n,children:"Login with Google"}),!p&&I(Cv,{placement:"right",delay:{show:0,hide:400},overlay:l,children:I("div",{children:I(dn,{className:"login",variant:"primary",size:"lg",id:"btn",style:{margin:0},disabled:!0,children:"Login with Google"})})})]}),re("div",{children:[I("p",{className:"Use",children:"By using this website, you confirm that you are a member of the University of the East and agree to use only a valid UE email address (@ue.edu.ph) for registration and access."}),I("p",{className:"Proc",children:" By proceeding, you acknowledge and accept this condition."}),I("input",{type:"checkbox",id:"cb-login",className:"CheckBox",onChange:_}),I("p",{className:"terms-text text-primary fw-bold",style:{cursor:"pointer",textDecoration:"underline",position:"absolute",bottom:"0%",left:"30%"},onClick:a,children:"Terms and Conditions"})]})]})]})}async function D$(n){return await lu.createFile("678bac020031c1c3ad75",Fl.unique(),n)}async function O$(n){return await lu.deleteFile("678bac020031c1c3ad75",n)}function Hl(n){return lu.getFilePreview("678bac020031c1c3ad75",n)}function ay(n){return lu.getFilePreview("67932f8600176cf1dfdc",n)}async function x$(n,e){return await lu.createFile("67932f8600176cf1dfdc",n,e)}async function L$(n){return await lu.deleteFile("67932f8600176cf1dfdc",n)}async function M$(){const{documents:n}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.equal("isApproved",!0)]);return{items:n.map(Rs)}}async function V$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("name",n),je.equal("isApproved",!0)]);return{items:e.map(Rs)}}async function $$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.orderDesc("date"),je.contains("itemCategory",n),je.equal("isApproved",!0)]);return{items:e.map(Rs)}}async function Ov(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.contains("authorID",n),je.orderDesc("date")]);return{items:e.map(Rs)}}async function U$(){const{documents:n}=await zn.listDocuments("678babec0039e89240df","67932f2e00392d850485",[je.equal("isApproved",!1),je.orderDesc("date")]);return{items:n.map(Rs)}}async function Sc(n){const e=await zn.getDocument("678babec0039e89240df","67932f2e00392d850485",n);return{items:Rs(e)}}async function j$(n){const{items:e}=await Sc(n);await O$(e.imageFileId),await zn.deleteDocument("678babec0039e89240df","67932f2e00392d850485",n)}async function F$(n){const e=await zn.createDocument("678babec0039e89240df","67932f2e00392d850485",Fl.unique(),n);return{items:Rs(e)}}async function AR(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Rs(t)}}async function CT(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f2e00392d850485",n,e);return{items:Rs(t)}}function Rs(n){return{$id:n.$id,name:n.name,authorID:n.authorID,date:n.date,description:n.description,imageFileId:n.imageFileId,imageHeight:n.imageHeight,imageWidth:n.imageWidth,isApproved:!1,requests:n.requests,itemCategory:n.itemCategory,parameters:{Condition:n.Condition,Usefulness:n.Usefulness,BrandValue:n.BrandValue,Demand:n.Demand,Rarity:n.Rarity,AgeDepreciation:n.AgeDepreciation,ResaleValue:n.ResaleValue,ReplacementCost:n.ReplacementCost}}}async function B$(n,e){const t=await zn.createDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Jh(t)}}async function wa(n){const e=await zn.getDocument("678babec0039e89240df","67932f37003021addec1",n);return{userdb:Jh(e)}}async function H$(n){const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f37003021addec1",[je.contains("displayName",n)]);return{userdb:e.map(Jh)}}async function z$(n){try{const{documents:e}=await zn.listDocuments("678babec0039e89240df","67932f37003021addec1",[je.contains("displayName",n)]);return!!e}catch{return!1}}async function W$(n){try{return!!await zn.getDocument("678babec0039e89240df","67932f37003021addec1",n)}catch{return!1}}async function q$(n,e){const t=await zn.updateDocument("678babec0039e89240df","67932f37003021addec1",n,e);return{userdb:Jh(t)}}function Jh(n){return{userId:n.$id,displayName:n.displayName,defaultName:n.defaultName,profileImageId:n.profileImageId,profileSummary:n.profileSummary,profileImageWidth:n.profileImageWidth,profileImageHeight:n.profileImageHeight,userEmail:n.userEmail}}function bf(n){const e=new Date(n);if(!Number.isNaN(e.valueOf()))return e;const t=String(n).match(/\d+/g);if(t==null||t.length<=2)return e;{const[r,i,...a]=t.map(f=>parseInt(f)),l=[r,i-1,...a];return new Date(Date.UTC(...l))}}function AT(n,e,t){const r=n!==1?e+"s":e;return n+" "+r+" "+t}function ly(){return ly=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ly.apply(this,arguments)}const ic=60,sc=ic*60,Rl=sc*24,Nf=Rl*7,RT=Rl*30,bT=Rl*365,K$=()=>Date.now();function G$({date:n,formatter:e=AT,component:t="time",live:r=!0,minPeriod:i=0,maxPeriod:a=Nf,title:l,now:c=K$,...f}){const[p,g]=w.useState(c());w.useEffect(()=>{if(!r)return;const K=(()=>{const Y=bf(n).valueOf();if(!Y)return console.warn("[react-timeago] Invalid Date provided"),0;const S=Math.round(Math.abs(p-Y)/1e3),C=S<ic?1e3:S<sc?1e3*ic:S<Rl?1e3*sc:1e3*Nf,b=Math.min(Math.max(C,i*1e3),a*1e3);return b?setTimeout(()=>{g(c())},b):0})();return()=>{K&&clearTimeout(K)}},[n,r,a,i,c,p]);const _=t,T=bf(n).valueOf();if(!T)return null;const R=Math.round(Math.abs(p-T)/1e3),P=T<p?"ago":"from now",[x,k]=R<ic?[Math.round(R),"second"]:R<sc?[Math.round(R/ic),"minute"]:R<Rl?[Math.round(R/sc),"hour"]:R<Nf?[Math.round(R/Rl),"day"]:R<RT?[Math.round(R/Nf),"week"]:R<bT?[Math.round(R/RT),"month"]:[Math.round(R/bT),"year"],W=typeof l>"u"?typeof n=="string"?n:bf(n).toISOString().substr(0,16).replace("T"," "):l,V=_==="time"?{...f,dateTime:bf(n).toISOString()}:f,H=AT.bind(null,x,k,P);return w.createElement(_,ly({},V,{title:W}),e(x,k,P,T,H,c))}const Q$={Condition:"Is it new or worn out?",Usefulness:"How useful is the item in daily life?",BrandValue:"Is it from a well-known or high-quality brand?",Demand:"Are people currently looking to buy this item?",Rarity:"Is it hard to find or a collector’s item?",AgeDepreciation:"Does it lose value over time? (Higher = holds value)",ResaleValue:"Can you sell it for a good price?",ReplacementCost:"How expensive is a new one?"},Zh=({name:n,date:e,author:t,image:r})=>re(Pr,{className:"itemcontent",style:{width:"100%",height:"100%"},children:[I("div",{style:{height:"200px",overflow:"hidden"},children:(r==null?void 0:r.url)&&re(on,{children:[I(Pr.Img,{className:"Card-Image",variant:"top",width:r.width&&100,height:r.height&&100,src:r.url}),I("img",{className:"Card-ImageBG",width:r.width&&100,height:r.height&&100,src:r.url})]})}),re(Pr.Body,{children:[I(Pr.Title,{children:n}),I(Pr.Text,{children:t}),I(Pr.Text,{children:I(G$,{date:e})})]})]}),Y$=({image:n,name:e,description:t,date:r,parameters:i})=>I(Pr,{className:"mb-3 shadow-sm",children:I(Pr.Body,{children:re(pi,{children:[I(_r,{xs:3,className:"d-flex align-items-center",children:I(Pr.Img,{src:n.url,alt:e,className:"img-fluid rounded",style:{maxHeight:"120px",objectFit:"cover"}})}),re(_r,{xs:5,children:[I(Pr.Title,{className:"fw-bold",children:e}),I(Pr.Text,{className:"text-muted",children:t})]}),re(_r,{xs:4,className:"text-end d-flex flex-column justify-content-center",children:[re("p",{className:"text-muted mb-2",children:["Posted: ",new Date(r).toLocaleDateString()]}),I("div",{className:"d-flex flex-wrap justify-content-end",children:Object.entries(i).map(([a,l])=>I(Cv,{placement:"top",overlay:I(Gh,{children:Q$[a]}),children:re("span",{className:"badge bg-primary m-1",style:{fontSize:"0.9rem",cursor:"pointer"},children:[a,": 0/10"]})},a))})]})]})})}),ep=({children:n})=>{const{session:e,logOut:t}=To(),r=xo(),[i,a]=w.useState(),[l,c]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!e){r("/");return}try{const g=await Yh();a(g)}catch(g){console.error("Error fetching user:",g)}finally{c(!1)}})()},[e,r]);async function f(){await t(),r("/")}return re(on,{children:[I(Fn,{show:l,centered:!0,backdrop:"static",children:re(Fn.Body,{className:"text-center",children:[I(Qh,{animation:"border",role:"status",children:I("span",{className:"visually-hidden",children:"Loading..."})}),I("p",{className:"mt-3",children:"Please wait, loading..."})]})}),re("div",{className:"body",children:[I(Af,{expand:"lg",bg:"primary",sticky:"top",className:"justify-content-between",children:re(Do,{children:[re(Af.Brand,{href:"#/Home",children:[I("img",{alt:"",src:"./images/favicon.png",width:"30",height:"30",className:"d-inline-block align-top"}),"Tradery"]}),I(Af.Toggle,{"aria-controls":"basic-navbar-nav"}),I(Af.Collapse,{className:"justify-content-end flex-grow-1",children:I(pi,{children:re(di,{className:"me-auto",children:[I(di.Link,{href:"#/Dashboard/Messages#view-messages",children:"Messages"}),re(Xu,{title:(i==null?void 0:i.name)||"User",id:"basic-nav-dropdown",align:"end",children:[I(Xu.Item,{href:"#/Dashboard/Profile",children:"User Dashboard"}),I(Xu.Divider,{}),e?I(Xu.Item,{className:"logout-nav",onClick:f,children:"Logout"}):I(Xu.Item,{href:"/Tradery",children:"Login"})]})]})})})]})}),I("main",{children:n})]})]})};function RR({show:n,onHide:e}){const t=w.useRef(null),r=w.useRef(null),i=w.useRef(null),a=w.useRef(null),l=c=>{c.current.scrollIntoView({behavior:"smooth",block:"start"})};return I(on,{children:re(Fn,{show:n,onHide:e,backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[I(Fn.Header,{closeButton:!0,children:I(Fn.Title,{children:"First Time?"})}),I(Fn.Body,{children:re(pi,{className:"mt-2",children:[I(_r,{sm:3,children:re(di,{variant:"pills",className:"flex-column",children:[I(di.Item,{children:I(di.Link,{onClick:()=>l(t),children:"Trading"})}),I(di.Item,{children:I(di.Link,{onClick:()=>l(r),children:"Upload"})}),I(di.Item,{children:I(di.Link,{onClick:()=>l(i),children:"Account Issues"})}),I(di.Item,{children:I(di.Link,{onClick:()=>l(a),children:"Finish"})})]})}),I(_r,{sm:9,children:re(Do,{style:{maxHeight:"400px",overflowY:"auto",border:"1px solid #ccc",padding:"15px",borderRadius:"10px",backgroundColor:"#f8f9fa"},children:[re("div",{ref:t,className:"mb-4",children:[I("h4",{children:"Trading"}),re(Nr,{children:[re(Nr.Item,{children:[I("strong",{children:"How does trading work?"}),I("p",{children:"You can list an item, find a match, and confirm a trade."})]}),re(Nr.Item,{children:[I("strong",{children:"Is trading free?"}),I("p",{children:"Yes! Our platform only facilitates item exchanges without any money involved."})]})]})]}),re("div",{ref:r,className:"mb-4",children:[I("h4",{children:"Upload"}),re(Nr,{children:[re(Nr.Item,{children:[I("strong",{children:"How do I upload an item?"}),I("p",{children:'Go to your dashboard, click "Upload Item," and fill in the details.'})]}),re(Nr.Item,{children:[I("strong",{children:"What types of files are supported?"}),I("p",{children:"We support images in JPG, PNG, and GIF formats."})]})]})]}),re("div",{ref:i,className:"mb-4",children:[I("h4",{children:"FAQ"}),re(Nr,{children:[re(Nr.Item,{children:[I("strong",{children:"How do I reset my password?"}),I("p",{children:'Go to the login page, click "Forgot Password," and follow the instructions.'})]}),re(Nr.Item,{children:[I("strong",{children:"Why was my account suspended?"}),I("p",{children:"Check your email for details or contact support for further assistance."})]}),re(Nr.Item,{children:[I("strong",{children:"Why is my post not showing in the HomePage?"}),I("p",{children:"Your post is probably not yet accepted by Admins."})]})]})]}),re("div",{ref:a,className:"mb-4",children:[I("h4",{children:"You're Done!"}),re(Nr,{children:[re(Nr.Item,{children:[I("strong",{children:"Since you're new to Tradery"}),I("p",{children:"Before you start Trading, We recommend you customize your profile first and change how people will see your profile. By clicking Done, this will redirect you to your profile in your dashboard where you can start editing."})]}),re(Nr.Item,{children:[I("strong",{children:"Wanna read this again?"}),I("p",{children:"You can access this menu by going to the User Dashboard and clicking the Question button on the top right corner of the navigation bar."})]})]})]})]})})]})}),I(Fn.Footer,{children:I(dn,{variant:"primary",onClick:e,children:"Done"})})]})})}const X$=()=>{const[n,e]=w.useState([]),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState({}),[f,p]=w.useState([]),[g,_]=w.useState(null),T=xo(),[R,P]=w.useState(!1),x=()=>{P(!1),T("/Dashboard/Profile")};w.useEffect(()=>{(async function(){const{items:Y}=await M$();e(Y);const S={};await Promise.all(Y.map(async b=>{if(!S[b.authorID])try{const{userdb:O}=await wa(b.authorID);O&&(S[b.authorID]=O)}catch(O){console.error(`Error fetching author data for ${b.authorID}:`,O)}})),c({...S});const C=await Yh();if(r(C),C){const b=await W$(C.$id);console.log("User Exists? ",b);const{items:O}=await Sc(C.$id),L=Array.isArray(O)?O.filter($=>$.status==="approved"):[];p(L),b||(P(!0),await B$(C.$id,{userId:C.$id,profileImageId:"",profileSummary:null,profileImageWidth:100,profileImageHeight:100,displayName:C.name,defaultName:C.name,userEmail:C.email}),console.log("New profile created."))}})()},[]);const k=async K=>{const Y=K.target.value;if(!Y){_(null);return}try{const{items:S}=await Sc(Y);_(S)}catch(S){console.error("Error fetching item data:",S)}};async function W(K){const{items:Y}=await $$(K);e(Y)}async function V(){window.location.reload(),a(!1)}async function H(K){K.preventDefault(),a(!0);const Y=K.target;try{const{items:S}=await V$(Y.ItemSearch.value);e(S)}catch(S){console.error("Error finding Item:",S)}}const B={a:{name:"School Supplies",color:"primary"},b:{name:"Clothing",color:"success"},c:{name:"Entertainment/Hobbies",color:"warning"},d:{name:"Gaming/Technology",color:"danger"},e:{name:"Fashion Accessories",color:"info"},f:{name:"Sports & Outdoor",color:"dark"}};return re(ep,{children:[I(RR,{show:R,onHide:x}),I("div",{className:"home",children:re("div",{className:"container",id:"pagewrap",children:[re("div",{className:"mb-3",children:[I(Kh,{controlId:"floatingSelect",label:"Your Approved Items",children:re(Xn.Select,{onChange:k,className:"itemCategory",required:!0,children:[I("option",{value:"",children:"Select one of your items..."}),f.map(K=>I("option",{value:K.$id,children:K.name},K.$id))]})}),g&&I(Y$,{image:{url:Hl(g.imageFileId),height:g.imageHeight,width:g.imageWidth},name:g.name,description:g.description,date:g.date,parameters:g.parameters||{}})]}),I("div",{className:"searchinput",children:re("form",{className:"search",onSubmit:H,autoComplete:"off",children:[I("input",{id:"ItemSearch",name:"ItemSearch",placeholder:"Search for Items...",required:!0}),i&&I(zc,{className:"clear-btn",onClick:V}),I("button",{className:"submit-btn",type:"submit",children:"Search"})]})}),I("div",{className:"categories",children:I(lo,{defaultActiveKey:"0",children:re(lo.Item,{eventKey:"0",children:[I(lo.Header,{children:"Filter by Categories"}),I(lo.Body,{children:I(pi,{children:re(_r,{children:[I(dn,{variant:"outline-danger",onClick:V,children:"Clear Filter"}),Object.entries(B).map(([K,Y])=>I(dn,{variant:`outline-${Y.color}`,onClick:()=>W(K),children:Y.name},K))]})})})]})})}),I("div",{className:"items container",children:I(pi,{children:n.length>0?n.map(K=>{var b;const S={url:K.imageFileId&&Hl(K.imageFileId),height:K.imageHeight,width:K.imageWidth},C=l[K.authorID];return I(_r,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:re("a",{className:"itemLink",href:`#/Item/${K.$id}`,children:[I("div",{className:"itemLabel",children:I("span",{className:"Label",children:((b=B[K.itemCategory])==null?void 0:b.name)||"Uncategorized"})}),I(Zh,{image:S,name:K.name,date:K.date,author:C?C.displayName||C.defaultName:"Unknown Author"})]})},K.$id)}):I(Do,{children:re(_c,{variant:"warning",children:["No Items are currently posted, ",I(_c.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})]})})]})};function yl(){const n=IR();return console.error(n),I("div",{id:"error-page",children:re("div",{class:"error",children:[re("a",{class:"HomeButton",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{class:"background-wrapper",children:I("h1",{style:{position:"absolute",top:"50%",left:"50%",fontFamily:"Eczar",fontSize:"30vmax",color:"rgb(255 174 174)",letterSpacing:"0.025em",margin:"0",backgroundClip:"text",WebkitBackgroundClip:"text",textShadow:"rgba(255,0,0,0.9) 0px 0px 59px",transition:"750ms ease-in-out"},id:"visual",children:"Error!"})}),I("p",{class:"errorText",children:"The page you’re looking for does not exist."}),I("p",{children:I("i",{children:n.statusText||n.message})})]})})}function J$(){const{session:n}=To(),e=xo(),[t,r]=w.useState(!0),[i,a]=w.useState(!1),l=()=>{a(!1),e("/Dashboard/Profile")},c=()=>a(!0);return w.useEffect(()=>{(async()=>{if(!n){e("/");return}r(!1)})()},[n,e]),re(on,{children:[I(RR,{show:i,onHide:l}),I(Fn,{show:t,centered:!0,backdrop:"static",children:re(Fn.Body,{className:"text-center",children:[I(Qh,{animation:"border",role:"status",children:I("span",{className:"visually-hidden",children:"Loading..."})}),I("p",{className:"mt-3",children:"Verifying session..."})]})}),!t&&re(on,{children:[re("div",{className:"uWholeBox",children:[re("a",{className:"HomeButton",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#ffffff",strokeWidth:"0.1",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{className:"uLooks",children:" Dashboard "})]}),re("div",{className:"NaviBar",children:[re("ul",{children:[I("li",{children:I(tc,{to:"/Dashboard/Post",children:"Post"})}),I("li",{children:I(tc,{to:"/Dashboard/Items",children:"Your Items"})}),I("li",{children:I(tc,{to:"/Dashboard/Requests",children:"Requests"})}),I("li",{children:I(tc,{to:"/Dashboard/Messages#view-messages",children:"Messages"})}),I("li",{children:I(tc,{to:"/Dashboard/Profile",children:"Profile"})})]}),I(o$,{})]}),I(dn,{variant:"outline-success",onClick:c,className:"tutorial",children:"?"})]})]})}const Z$=()=>{const[n,e]=w.useState(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(),[f,p]=w.useState(null),[g,_]=w.useState(!1),[T,R]=w.useState(""),[P,x]=w.useState(""),[k,W]=w.useState(null);w.useEffect(()=>{(async()=>{try{const C=await Yh();if(e(C),C){const{userdb:b}=await wa(C.$id);r(b),p(b!=null&&b.profileImageId?ay(b.profileImageId):null),R((b==null?void 0:b.displayName)||(C==null?void 0:C.name)||""),x((b==null?void 0:b.profileSummary)||"")}}catch(C){console.error("Error fetching user: ",C)}})()},[]);const V=()=>a(!0),H=S=>{const C=S.target.value.replace(/[^a-zA-Z0-9]/g,"");R(C)},B=S=>{const C=S.target.value.replace(/[^a-zA-Z0-9 .,!?]/g,"");x(C)},K=S=>{if(!S.target.files||S.target.files.length===0)return;const C=S.target.files[0];if(C.size>5*1024*1024){W("File size exceeds 5MB limit.");return}else W(null);const b=document.createElement("img");b.onload=function(){c({height:b.height,file:C,width:b.width})},b.src=URL.createObjectURL(C),p(URL.createObjectURL(C))},Y=async S=>{if(S.preventDefault(),_(!0),!T.trim()||!P.trim()){alert("Please fill in all fields."),_(!1);return}try{if(!n){console.log("User data is still loading. Please wait."),_(!1);return}let{userdb:C}=await wa(n.$id),b=(C==null?void 0:C.profileImageId)||"";if(l!=null&&l.file){b&&b!=="default"&&await L$(b);const L=await x$(n.$id,l.file);L!=null&&L.$id&&(b=L.$id)}if(!await z$(T))await q$(n.$id,{profileImageId:b,profileSummary:P,profileImageWidth:(l==null?void 0:l.width)??(C==null?void 0:C.profileImageWidth)??100,profileImageHeight:(l==null?void 0:l.height)??(C==null?void 0:C.profileImageHeight)??100,displayName:T,defaultName:n.name,userId:n.$id,userEmail:n.email});else{alert("The username already exists. Try another one."),_(!1);return}console.log("✅ Profile updated."),r(L=>({...L,displayName:T,profileSummary:P,profileImageId:b}))}catch(C){console.error("Failed to update profile:",C)}finally{_(!1),a(!1)}};return I(Do,{className:"d-flex justify-content-center align-items-center min-vh-100",children:re(Pr,{className:"profile-card shadow-lg",children:[g&&re("div",{className:"overlay",children:[I(Qh,{animation:"border"}),I("p",{className:"mt-2",children:"Updating User Profile..."})]}),I(Pr.Body,{className:"text-center",children:i?re(on,{children:[I("h2",{children:"Edit Profile"}),re("form",{onSubmit:Y,className:"mt-3",children:[re("div",{className:"profile-image-upload",children:[I("input",{type:"file",accept:".png, .jpg",onChange:K}),I(sh,{src:f||"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("p",{className:"text-muted",children:"Upload a PNG or JPG image (Max: 5MB)"}),k&&I("p",{className:"text-danger",children:k})]}),re(Xn.Group,{className:"mb-3",children:[I(Xn.Control,{type:"text",name:"display-name",placeholder:"Name",maxLength:20,value:T,onChange:H}),re("small",{className:"text-muted",children:[T.length,"/20"]})]}),re(Xn.Group,{className:"mb-3",children:[I(Xn.Label,{children:"Profile Summary"}),I(Xn.Control,{as:"textarea",name:"summary",rows:2,maxLength:500,value:P,onChange:B}),re("small",{className:"text-muted",children:[P.length,"/500"]})]}),I(dn,{className:"btn-lg w-100",type:"submit",children:"Submit"})]})]}):re(on,{children:[I(sh,{src:t!=null&&t.profileImageId?ay(t.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("h2",{className:"display-name",children:(t==null?void 0:t.displayName)||"Username"}),I("p",{className:"account-name",children:n==null?void 0:n.name}),I("p",{className:"text-muted",children:(t==null?void 0:t.profileSummary)??"No profile description provided"}),I(dn,{className:"btn-lg mt-3",onClick:V,children:"Edit Profile"})]})})]})})},eU=()=>{const[n,e]=w.useState("");w.useEffect(()=>{(async function(){try{const i=await uo();console.log("Fetched User Data:",i),i&&typeof i.$id=="string"&&e(i.$id)}catch(i){console.error("Error fetching user data:",i)}})()},[]);const t=n?`https://lynxlenior.github.io/TraderyMessenger/#/${n}`:"";return I("div",{className:"messages-container",children:I("iframe",{width:"100%",height:"100%",src:t,title:"TraderyMessenger"})})},tU=()=>{const{session:n}=To(),e=xo(),[t,r]=w.useState(),[i,a]=w.useState(!1),[l,c]=w.useState(""),[f,p]=w.useState(""),[g,_]=w.useState(null),[T,R]=w.useState({Condition:5,Usefulness:5,BrandValue:5,Demand:5,Rarity:5,AgeDepreciation:5,ResaleValue:5,ReplacementCost:5});function P(V){if(!V.target.files||V.target.files.length===0)return;const H=V.target.files[0];if(H.size>5*1024*1024){_("File size must be 5MB or less.");return}_(null);const B=new Image;B.onload=function(){r({height:B.height,file:H,width:B.width})},B.src=URL.createObjectURL(H)}const x=(V,H)=>{R(B=>({...B,[V]:H}))},k=async V=>{V.preventDefault(),a(!0);const B=new FormData(V.currentTarget).get("itemCategory");if(!l||!f||!B){_("Please fill in all fields."),a(!1);return}for(const K in T)if(T[K]<1||T[K]>10){_("All parameters must be between 1 and 10."),a(!1);return}try{const K=await uo();if(!K){console.log("User data is still loading. Please wait.");return}const Y=await F$({name:l,authorID:K.$id,description:f,date:new Date().toISOString(),imageHeight:(t==null?void 0:t.height)??100,imageFileId:"",imageWidth:(t==null?void 0:t.width)??100,isApproved:!1,itemCategory:B,parameters:T});if(console.log("Item created successfully:",Y.items),t!=null&&t.file){console.log("Uploading image...");const S=await D$(t.file);await AR(Y.items.$id,{imageFileId:S==null?void 0:S.$id,imageHeight:t==null?void 0:t.height,imageWidth:t==null?void 0:t.width,name:l,description:f,authorID:K.$id,date:new Date().toISOString(),isApproved:!1,itemCategory:B,parameters:T}),console.log("Image uploaded successfully:",S.$id)}e(`/Item/${Y.items.$id}`)}catch(K){console.error("Error creating item:",K),alert("Failed to create item. Please try again.")}finally{a(!1)}},W={Condition:"Is it new or worn out?",Usefulness:"How useful is the item in daily life?",BrandValue:"Is it from a well-known or high-quality brand?",Demand:"Are people currently looking to buy this item?",Rarity:"Is it hard to find or a collector’s item?",AgeDepreciation:"Does it lose value over time? (Higher = holds value)",ResaleValue:"Can you sell it for a good price?",ReplacementCost:"How expensive is a new one?"};return re(on,{children:[i&&I("div",{className:"overlay",children:I("div",{className:"overlay-content",children:I("p",{children:"Please wait... Creating Tradery Item"})})}),I("div",{className:"Main",children:re("div",{className:"container",children:[I("h1",{children:"Post Item"}),g&&I("p",{style:{color:"red"},children:g}),re("form",{onSubmit:k,autoComplete:"off",children:[I("div",{className:"uploader",children:re(Xn.Group,{controlId:"formFileLg",className:"mb-3",children:[I(Xn.Label,{children:"Import Image (Max: 5MB)"}),I(Xn.Control,{type:"file",size:"lg",accept:".png, .jpg",onChange:P,required:!0})]})}),I("div",{className:"mb-3",children:I(Kh,{controlId:"floatingSelect",label:"Category",children:re(Xn.Select,{className:"itemCategory",id:"itemCategory",name:"itemCategory",required:!0,children:[I("option",{value:"",disabled:!0,children:"Select a Category..."}),I("option",{value:"a",children:"School Supplies"}),I("option",{value:"b",children:"Clothing"}),I("option",{value:"c",children:"Entertainment/Hobbies"}),I("option",{value:"d",children:"Gaming/Technology"}),I("option",{value:"e",children:"Fashion Accessories"}),I("option",{value:"f",children:"Sports & Outdoor"})]})})}),I("h5",{children:"Item Parameters"}),Object.entries(T).map(([V,H])=>re(Xn.Group,{className:"mb-3",children:[I(Cv,{placement:"top",overlay:I(Gh,{children:W[V]}),children:I(Xn.Label,{children:V.replace(/([A-Z])/g," $1").trim()})}),I(Xn.Range,{min:1,max:10,value:H,onChange:B=>x(V,parseInt(B.target.value)),required:!0}),I(Xn.Control,{type:"number",min:1,max:10,value:H,onChange:B=>x(V,parseInt(B.target.value)),required:!0})]},V)),I(dn,{className:"submitbtn",type:"submit",disabled:i,children:"Submit"})]})]})})]})},nU=()=>{const[n,e]=w.useState([]),[t,r]=w.useState({});return w.useEffect(()=>{(async function(){const a=await uo();if(!a){console.log("User data is still loading. Please wait.");return}const{items:l}=await Ov(a.$id);e(l);const c={};await Promise.all(l.map(async f=>{if(!c[f.authorID]){const{userdb:p}=await wa(f.authorID);c[f.authorID]=p}})),r(c)})()},[]),I("div",{className:"home",children:I("div",{className:"container",id:"pagewrap",children:I("div",{className:"items container",children:I(pi,{children:n.length>0?n.map(i=>{const l={url:i.imageFileId&&Hl(i.imageFileId),height:i.imageHeight,width:i.imageWidth},c=t[i.authorID];return I(_r,{xs:12,md:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${i.$id}`,children:I(Zh,{image:l,name:i.name,date:i.date,author:c?c.displayName||c.defaultName:"Unknown Author"})})},i.$id)}):I(Do,{children:re(_c,{variant:"warning",children:["No Items are currently posted, ",I(_c.Link,{href:"#/Dashboard/Post",children:"You can start by posting here"}),"."]},"warning")})})})})})};var NT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},rU=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},NR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,p=f?n[i+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let T=(c&15)<<2|p>>6,R=p&63;f||(R=64,l||(T=64)),r.push(t[g],t[_],t[T],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||p==null||_==null)throw new iU;const T=a<<2|c>>4;if(r.push(T),p!==64){const R=c<<4&240|p>>2;if(r.push(R),_!==64){const P=p<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sU=function(n){const e=bR(n);return NR.encodeByteArray(e,!0)},fh=function(n){return sU(n).replace(/\./g,"")},kR=function(n){try{return NR.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=()=>oU().__FIREBASE_DEFAULTS__,lU=()=>{if(typeof process>"u"||typeof NT>"u")return;const n=NT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kR(n[1]);return e&&JSON.parse(e)},tp=()=>{try{return aU()||lU()||uU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PR=n=>{var e,t;return(t=(e=tp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cU=n=>{const e=PR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DR=()=>{var n;return(n=tp())===null||n===void 0?void 0:n.config},OR=n=>{var e;return(e=tp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fh(JSON.stringify(t)),fh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function pU(){var n;const e=(n=tp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vU(){const n=Hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _U(){return!pU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wU(){try{return typeof indexedDB=="object"}catch{return!1}}function EU(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="FirebaseError";class bs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=TU,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?IU(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new bs(i,c,r)}}function IU(n,e){return n.replace(SU,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SU=/\{\$([^}]+)}/g;function CU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(kT(a)&&kT(l)){if(!Cc(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function kT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AU(n,e){const t=new RU(n,e);return t.subscribe.bind(t)}class RU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Cg),i.error===void 0&&(i.error=Cg),i.complete===void 0&&(i.complete=Cg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n){return n&&n._delegate?n._delegate:n}class Ea{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dU;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PU(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kU(n){return n===sa?void 0:n}function PU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const OU={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},xU=ht.INFO,LU={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},MU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=LU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xv{constructor(e){this.name=e,this._logLevel=xU,this._logHandler=MU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const VU=(n,e)=>e.some(t=>n instanceof t);let PT,DT;function $U(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UU(){return DT||(DT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xR=new WeakMap,uy=new WeakMap,LR=new WeakMap,Ag=new WeakMap,Lv=new WeakMap;function jU(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(po(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&xR.set(t,n)}).catch(()=>{}),Lv.set(e,n),e}function FU(n){if(uy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});uy.set(n,e)}let cy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BU(n){cy=n(cy)}function HU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rg(this),e,...t);return LR.set(r,e.sort?e.sort():[e]),po(r)}:UU().includes(n)?function(...e){return n.apply(Rg(this),e),po(xR.get(this))}:function(...e){return po(n.apply(Rg(this),e))}}function zU(n){return typeof n=="function"?HU(n):(n instanceof IDBTransaction&&FU(n),VU(n,$U())?new Proxy(n,cy):n)}function po(n){if(n instanceof IDBRequest)return jU(n);if(Ag.has(n))return Ag.get(n);const e=zU(n);return e!==n&&(Ag.set(n,e),Lv.set(e,n)),e}const Rg=n=>Lv.get(n);function WU(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=po(l);return r&&l.addEventListener("upgradeneeded",f=>{r(po(l.result),f.oldVersion,f.newVersion,po(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const qU=["get","getKey","getAll","getAllKeys","count"],KU=["put","add","delete","clear"],bg=new Map;function OT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bg.get(e))return bg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qU.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),i&&f.done]))[0]};return bg.set(e,a),a}BU(n=>({...n,get:(e,t,r)=>OT(e,t)||n.get(e,t,r),has:(e,t)=>!!OT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function QU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dy="@firebase/app",xT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new xv("@firebase/app"),YU="@firebase/app-compat",XU="@firebase/analytics-compat",JU="@firebase/analytics",ZU="@firebase/app-check-compat",ej="@firebase/app-check",tj="@firebase/auth",nj="@firebase/auth-compat",rj="@firebase/database",ij="@firebase/data-connect",sj="@firebase/database-compat",oj="@firebase/functions",aj="@firebase/functions-compat",lj="@firebase/installations",uj="@firebase/installations-compat",cj="@firebase/messaging",dj="@firebase/messaging-compat",fj="@firebase/performance",hj="@firebase/performance-compat",pj="@firebase/remote-config",mj="@firebase/remote-config-compat",gj="@firebase/storage",yj="@firebase/storage-compat",vj="@firebase/firestore",_j="@firebase/vertexai",wj="@firebase/firestore-compat",Ej="firebase",Tj="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="[DEFAULT]",Ij={[dy]:"fire-core",[YU]:"fire-core-compat",[JU]:"fire-analytics",[XU]:"fire-analytics-compat",[ej]:"fire-app-check",[ZU]:"fire-app-check-compat",[tj]:"fire-auth",[nj]:"fire-auth-compat",[rj]:"fire-rtdb",[ij]:"fire-data-connect",[sj]:"fire-rtdb-compat",[oj]:"fire-fn",[aj]:"fire-fn-compat",[lj]:"fire-iid",[uj]:"fire-iid-compat",[cj]:"fire-fcm",[dj]:"fire-fcm-compat",[fj]:"fire-perf",[hj]:"fire-perf-compat",[pj]:"fire-rc",[mj]:"fire-rc-compat",[gj]:"fire-gcs",[yj]:"fire-gcs-compat",[vj]:"fire-fst",[wj]:"fire-fst-compat",[_j]:"fire-vertex","fire-js":"fire-js",[Ej]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,Sj=new Map,hy=new Map;function LT(n,e){try{n.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zl(n){const e=n.name;if(hy.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,n);for(const t of hh.values())LT(t,n);for(const t of Sj.values())LT(t,n);return!0}function Mv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new Xc("app","Firebase",Cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=Tj;function MR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(t||(t=DR()),!t)throw mo.create("no-options");const a=hh.get(i);if(a){if(Cc(t,a.options)&&Cc(r,a.config))return a;throw mo.create("duplicate-app",{appName:i})}const l=new DU(i);for(const f of hy.values())l.addComponent(f);const c=new Aj(t,r,l);return hh.set(i,c),c}function VR(n=fy){const e=hh.get(n);if(!e&&n===fy&&DR())return MR();if(!e)throw mo.create("no-app",{appName:n});return e}function go(n,e,t){var r;let i=(r=Ij[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}zl(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="firebase-heartbeat-database",bj=1,Ac="firebase-heartbeat-store";let Ng=null;function $R(){return Ng||(Ng=WU(Rj,bj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ac)}catch(t){console.warn(t)}}}}).catch(n=>{throw mo.create("idb-open",{originalErrorMessage:n.message})})),Ng}async function Nj(n){try{const t=(await $R()).transaction(Ac),r=await t.objectStore(Ac).get(UR(n));return await t.done,r}catch(e){if(e instanceof bs)ys.warn(e.message);else{const t=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(t.message)}}}async function MT(n,e){try{const r=(await $R()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,UR(n)),await r.done}catch(t){if(t instanceof bs)ys.warn(t.message);else{const r=mo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ys.warn(r.message)}}}function UR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=1024,Pj=30;class Dj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=VT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Pj){const l=Lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=VT(),{heartbeatsToSend:r,unsentEntries:i}=Oj(this._heartbeatsCache.heartbeats),a=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ys.warn(t),""}}}function VT(){return new Date().toISOString().substring(0,10)}function Oj(n,e=kj){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),$T(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$T(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wU()?EU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Nj(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return MT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return MT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $T(n){return fh(JSON.stringify({version:2,heartbeats:n})).length}function Lj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n){zl(new Ea("platform-logger",e=>new GU(e),"PRIVATE")),zl(new Ea("heartbeat",e=>new Dj(e),"PRIVATE")),go(dy,xT,n),go(dy,xT,"esm2017"),go("fire-js","")}Mj("");var Vj="firebase",$j="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(Vj,$j,"app");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,jR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function b(){}b.prototype=C.prototype,S.D=C.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(O,L,$){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return C.prototype[L].apply(O,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,b){b||(b=0);var O=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)O[L]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(L=0;16>L;++L)O[L]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=S.g[0],b=S.g[1],L=S.g[2];var $=S.g[3],D=C+($^b&(L^$))+O[0]+3614090360&4294967295;C=b+(D<<7&4294967295|D>>>25),D=$+(L^C&(b^L))+O[1]+3905402710&4294967295,$=C+(D<<12&4294967295|D>>>20),D=L+(b^$&(C^b))+O[2]+606105819&4294967295,L=$+(D<<17&4294967295|D>>>15),D=b+(C^L&($^C))+O[3]+3250441966&4294967295,b=L+(D<<22&4294967295|D>>>10),D=C+($^b&(L^$))+O[4]+4118548399&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(L^C&(b^L))+O[5]+1200080426&4294967295,$=C+(D<<12&4294967295|D>>>20),D=L+(b^$&(C^b))+O[6]+2821735955&4294967295,L=$+(D<<17&4294967295|D>>>15),D=b+(C^L&($^C))+O[7]+4249261313&4294967295,b=L+(D<<22&4294967295|D>>>10),D=C+($^b&(L^$))+O[8]+1770035416&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(L^C&(b^L))+O[9]+2336552879&4294967295,$=C+(D<<12&4294967295|D>>>20),D=L+(b^$&(C^b))+O[10]+4294925233&4294967295,L=$+(D<<17&4294967295|D>>>15),D=b+(C^L&($^C))+O[11]+2304563134&4294967295,b=L+(D<<22&4294967295|D>>>10),D=C+($^b&(L^$))+O[12]+1804603682&4294967295,C=b+(D<<7&4294967295|D>>>25),D=$+(L^C&(b^L))+O[13]+4254626195&4294967295,$=C+(D<<12&4294967295|D>>>20),D=L+(b^$&(C^b))+O[14]+2792965006&4294967295,L=$+(D<<17&4294967295|D>>>15),D=b+(C^L&($^C))+O[15]+1236535329&4294967295,b=L+(D<<22&4294967295|D>>>10),D=C+(L^$&(b^L))+O[1]+4129170786&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^L&(C^b))+O[6]+3225465664&4294967295,$=C+(D<<9&4294967295|D>>>23),D=L+(C^b&($^C))+O[11]+643717713&4294967295,L=$+(D<<14&4294967295|D>>>18),D=b+($^C&(L^$))+O[0]+3921069994&4294967295,b=L+(D<<20&4294967295|D>>>12),D=C+(L^$&(b^L))+O[5]+3593408605&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^L&(C^b))+O[10]+38016083&4294967295,$=C+(D<<9&4294967295|D>>>23),D=L+(C^b&($^C))+O[15]+3634488961&4294967295,L=$+(D<<14&4294967295|D>>>18),D=b+($^C&(L^$))+O[4]+3889429448&4294967295,b=L+(D<<20&4294967295|D>>>12),D=C+(L^$&(b^L))+O[9]+568446438&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^L&(C^b))+O[14]+3275163606&4294967295,$=C+(D<<9&4294967295|D>>>23),D=L+(C^b&($^C))+O[3]+4107603335&4294967295,L=$+(D<<14&4294967295|D>>>18),D=b+($^C&(L^$))+O[8]+1163531501&4294967295,b=L+(D<<20&4294967295|D>>>12),D=C+(L^$&(b^L))+O[13]+2850285829&4294967295,C=b+(D<<5&4294967295|D>>>27),D=$+(b^L&(C^b))+O[2]+4243563512&4294967295,$=C+(D<<9&4294967295|D>>>23),D=L+(C^b&($^C))+O[7]+1735328473&4294967295,L=$+(D<<14&4294967295|D>>>18),D=b+($^C&(L^$))+O[12]+2368359562&4294967295,b=L+(D<<20&4294967295|D>>>12),D=C+(b^L^$)+O[5]+4294588738&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^L)+O[8]+2272392833&4294967295,$=C+(D<<11&4294967295|D>>>21),D=L+($^C^b)+O[11]+1839030562&4294967295,L=$+(D<<16&4294967295|D>>>16),D=b+(L^$^C)+O[14]+4259657740&4294967295,b=L+(D<<23&4294967295|D>>>9),D=C+(b^L^$)+O[1]+2763975236&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^L)+O[4]+1272893353&4294967295,$=C+(D<<11&4294967295|D>>>21),D=L+($^C^b)+O[7]+4139469664&4294967295,L=$+(D<<16&4294967295|D>>>16),D=b+(L^$^C)+O[10]+3200236656&4294967295,b=L+(D<<23&4294967295|D>>>9),D=C+(b^L^$)+O[13]+681279174&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^L)+O[0]+3936430074&4294967295,$=C+(D<<11&4294967295|D>>>21),D=L+($^C^b)+O[3]+3572445317&4294967295,L=$+(D<<16&4294967295|D>>>16),D=b+(L^$^C)+O[6]+76029189&4294967295,b=L+(D<<23&4294967295|D>>>9),D=C+(b^L^$)+O[9]+3654602809&4294967295,C=b+(D<<4&4294967295|D>>>28),D=$+(C^b^L)+O[12]+3873151461&4294967295,$=C+(D<<11&4294967295|D>>>21),D=L+($^C^b)+O[15]+530742520&4294967295,L=$+(D<<16&4294967295|D>>>16),D=b+(L^$^C)+O[2]+3299628645&4294967295,b=L+(D<<23&4294967295|D>>>9),D=C+(L^(b|~$))+O[0]+4096336452&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~L))+O[7]+1126891415&4294967295,$=C+(D<<10&4294967295|D>>>22),D=L+(C^($|~b))+O[14]+2878612391&4294967295,L=$+(D<<15&4294967295|D>>>17),D=b+($^(L|~C))+O[5]+4237533241&4294967295,b=L+(D<<21&4294967295|D>>>11),D=C+(L^(b|~$))+O[12]+1700485571&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~L))+O[3]+2399980690&4294967295,$=C+(D<<10&4294967295|D>>>22),D=L+(C^($|~b))+O[10]+4293915773&4294967295,L=$+(D<<15&4294967295|D>>>17),D=b+($^(L|~C))+O[1]+2240044497&4294967295,b=L+(D<<21&4294967295|D>>>11),D=C+(L^(b|~$))+O[8]+1873313359&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~L))+O[15]+4264355552&4294967295,$=C+(D<<10&4294967295|D>>>22),D=L+(C^($|~b))+O[6]+2734768916&4294967295,L=$+(D<<15&4294967295|D>>>17),D=b+($^(L|~C))+O[13]+1309151649&4294967295,b=L+(D<<21&4294967295|D>>>11),D=C+(L^(b|~$))+O[4]+4149444226&4294967295,C=b+(D<<6&4294967295|D>>>26),D=$+(b^(C|~L))+O[11]+3174756917&4294967295,$=C+(D<<10&4294967295|D>>>22),D=L+(C^($|~b))+O[2]+718787259&4294967295,L=$+(D<<15&4294967295|D>>>17),D=b+($^(L|~C))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+L&4294967295,S.g[3]=S.g[3]+$&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var b=C-this.blockSize,O=this.B,L=this.h,$=0;$<C;){if(L==0)for(;$<=b;)i(this,S,$),$+=this.blockSize;if(typeof S=="string"){for(;$<C;)if(O[L++]=S.charCodeAt($++),L==this.blockSize){i(this,O),L=0;break}}else for(;$<C;)if(O[L++]=S[$++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var b=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=b&255,b/=256;for(this.u(S),S=Array(16),C=b=0;4>C;++C)for(var O=0;32>O;O+=8)S[b++]=this.g[C]>>>O&255;return S};function a(S,C){var b=c;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=C(S)}function l(S,C){this.h=C;for(var b=[],O=!0,L=S.length-1;0<=L;L--){var $=S[L]|0;O&&$==C||(b[L]=$,O=!1)}this.g=b}var c={};function f(S){return-128<=S&&128>S?a(S,function(C){return new l([C|0],0>C?-1:0)}):new l([S|0],0>S?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return k(p(-S));for(var C=[],b=1,O=0;S>=b;O++)C[O]=S/b|0,b*=4294967296;return new l(C,0)}function g(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return k(g(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(C,8)),O=_,L=0;L<S.length;L+=8){var $=Math.min(8,S.length-L),D=parseInt(S.substring(L,L+$),C);8>$?($=p(Math.pow(C,$)),O=O.j($).add(p(D))):(O=O.j(b),O=O.add(p(D)))}return O}var _=f(0),T=f(1),R=f(16777216);n=l.prototype,n.m=function(){if(x(this))return-k(this).m();for(var S=0,C=1,b=0;b<this.g.length;b++){var O=this.i(b);S+=(0<=O?O:4294967296+O)*C,C*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(x(this))return"-"+k(this).toString(S);for(var C=p(Math.pow(S,6)),b=this,O="";;){var L=B(b,C).g;b=W(b,L.j(C));var $=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=L,P(b))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function x(S){return S.h==-1}n.l=function(S){return S=W(this,S),x(S)?-1:P(S)?0:1};function k(S){for(var C=S.g.length,b=[],O=0;O<C;O++)b[O]=~S.g[O];return new l(b,~S.h).add(T)}n.abs=function(){return x(this)?k(this):this},n.add=function(S){for(var C=Math.max(this.g.length,S.g.length),b=[],O=0,L=0;L<=C;L++){var $=O+(this.i(L)&65535)+(S.i(L)&65535),D=($>>>16)+(this.i(L)>>>16)+(S.i(L)>>>16);O=D>>>16,$&=65535,D&=65535,b[L]=D<<16|$}return new l(b,b[b.length-1]&-2147483648?-1:0)};function W(S,C){return S.add(k(C))}n.j=function(S){if(P(this)||P(S))return _;if(x(this))return x(S)?k(this).j(k(S)):k(k(this).j(S));if(x(S))return k(this.j(k(S)));if(0>this.l(R)&&0>S.l(R))return p(this.m()*S.m());for(var C=this.g.length+S.g.length,b=[],O=0;O<2*C;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<S.g.length;L++){var $=this.i(O)>>>16,D=this.i(O)&65535,Ee=S.i(L)>>>16,Le=S.i(L)&65535;b[2*O+2*L]+=D*Le,V(b,2*O+2*L),b[2*O+2*L+1]+=$*Le,V(b,2*O+2*L+1),b[2*O+2*L+1]+=D*Ee,V(b,2*O+2*L+1),b[2*O+2*L+2]+=$*Ee,V(b,2*O+2*L+2)}for(O=0;O<C;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=C;O<2*C;O++)b[O]=0;return new l(b,0)};function V(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function H(S,C){this.g=S,this.h=C}function B(S,C){if(P(C))throw Error("division by zero");if(P(S))return new H(_,_);if(x(S))return C=B(k(S),C),new H(k(C.g),k(C.h));if(x(C))return C=B(S,k(C)),new H(k(C.g),C.h);if(30<S.g.length){if(x(S)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var b=T,O=C;0>=O.l(S);)b=K(b),O=K(O);var L=Y(b,1),$=Y(O,1);for(O=Y(O,2),b=Y(b,2);!P(O);){var D=$.add(O);0>=D.l(S)&&(L=L.add(b),$=D),O=Y(O,1),b=Y(b,1)}return C=W(S,L.j(C)),new H(L,C)}for(L=_;0<=S.l(C);){for(b=Math.max(1,Math.floor(S.m()/C.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=p(b),D=$.j(C);x(D)||0<D.l(S);)b-=O,$=p(b),D=$.j(C);P($)&&($=T),L=L.add($),S=W(S,D)}return new H(L,S)}n.A=function(S){return B(this,S).h},n.and=function(S){for(var C=Math.max(this.g.length,S.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)&S.i(O);return new l(b,this.h&S.h)},n.or=function(S){for(var C=Math.max(this.g.length,S.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)|S.i(O);return new l(b,this.h|S.h)},n.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)^S.i(O);return new l(b,this.h^S.h)};function K(S){for(var C=S.g.length+1,b=[],O=0;O<C;O++)b[O]=S.i(O)<<1|S.i(O-1)>>>31;return new l(b,S.h)}function Y(S,C){var b=C>>5;C%=32;for(var O=S.g.length-b,L=[],$=0;$<O;$++)L[$]=0<C?S.i($+b)>>>C|S.i($+b+1)<<32-C:S.i($+b);return new l(L,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,yo=l}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FR,oc,BR,Bf,py,HR,zR,WR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,y){if(y)e:{var E=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var G=d[N];if(!(G in E))break e;E=E[G]}d=d[d.length-1],N=E[d],y=y(N),y!=N&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,N=!1,G={next:function(){if(!N&&E<d.length){var te=E++;return{value:y(te,d[te]),done:!1}}return N=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function _(d,y,E){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,N),d.apply(y,G)}}return function(){return d.apply(y,arguments)}}function T(d,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,T.apply(null,arguments)}function R(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function P(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(N,G,te){for(var ge=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)ge[bt-2]=arguments[bt];return y.prototype[G].apply(N,ge)}}function x(d){const y=d.length;if(0<y){const E=Array(y);for(let N=0;N<y;N++)E[N]=d[N];return E}return[]}function k(d,y){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(f(N)){const G=d.length||0,te=N.length||0;d.length=G+te;for(let ge=0;ge<te;ge++)d[G+ge]=N[ge]}else d.push(N)}}class W{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){return/^[\s\xa0]*$/.test(d)}function H(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function B(d){return B[" "](d),d}B[" "]=function(){};var K=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Y(d,y,E){for(const N in d)y.call(E,d[N],N,d)}function S(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function C(d){const y={};for(const E in d)y[E]=d[E];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let E,N;for(let G=1;G<arguments.length;G++){N=arguments[G];for(E in N)d[E]=N[E];for(let te=0;te<b.length;te++)E=b[te],Object.prototype.hasOwnProperty.call(N,E)&&(d[E]=N[E])}}function L(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function $(d){c.setTimeout(()=>{throw d},0)}function D(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ee{constructor(){this.h=this.g=null}add(y,E){const N=Le.get();N.set(y,E),this.h?this.h.next=N:this.g=N,this.h=N}}var Le=new W(()=>new He,d=>d.reset());class He{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ne=!1,me=new Ee,ue=()=>{const d=c.Promise.resolve(void 0);Ne=()=>{d.then(F)}};var F=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){$(E)}var y=Le;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Ie(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(K){e:{try{B(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}P(Ie,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function st(d,y,E,N,G){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!N,this.ha=G,this.key=++Fe,this.da=this.fa=!1}function Et(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function St(d){this.src=d,this.g={},this.h=0}St.prototype.add=function(d,y,E,N,G){var te=d.toString();d=this.g[te],d||(d=this.g[te]=[],this.h++);var ge=kt(d,y,N,G);return-1<ge?(y=d[ge],E||(y.fa=!1)):(y=new st(y,this.src,te,!!N,G),y.fa=E,d.push(y)),y};function it(d,y){var E=y.type;if(E in d.g){var N=d.g[E],G=Array.prototype.indexOf.call(N,y,void 0),te;(te=0<=G)&&Array.prototype.splice.call(N,G,1),te&&(Et(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kt(d,y,E,N){for(var G=0;G<d.length;++G){var te=d[G];if(!te.da&&te.listener==y&&te.capture==!!E&&te.ha==N)return G}return-1}var Kt="closure_lm_"+(1e6*Math.random()|0),rt={};function Ft(d,y,E,N,G){if(Array.isArray(y)){for(var te=0;te<y.length;te++)Ft(d,y[te],E,N,G);return null}return E=an(E),d&&d[Ge]?d.K(y,E,p(N)?!!N.capture:!1,G):mn(d,y,E,!1,N,G)}function mn(d,y,E,N,G,te){if(!y)throw Error("Invalid event type");var ge=p(G)?!!G.capture:!!G,bt=Dn(d);if(bt||(d[Kt]=bt=new St(d)),E=bt.add(y,E,N,ge,te),E.proxy)return E;if(N=Mr(),E.proxy=N,N.src=d,N.listener=E,d.addEventListener)ve||(G=ge),G===void 0&&(G=!1),d.addEventListener(y.toString(),N,G);else if(d.attachEvent)d.attachEvent(Jt(y.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Mr(){function d(E){return y.call(d.src,d.listener,E)}const y=rr;return d}function Wn(d,y,E,N,G){if(Array.isArray(y))for(var te=0;te<y.length;te++)Wn(d,y[te],E,N,G);else N=p(N)?!!N.capture:!!N,E=an(E),d&&d[Ge]?(d=d.i,y=String(y).toString(),y in d.g&&(te=d.g[y],E=kt(te,E,N,G),-1<E&&(Et(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete d.g[y],d.h--)))):d&&(d=Dn(d))&&(y=d.g[y.toString()],d=-1,y&&(d=kt(y,E,N,G)),(E=-1<d?y[d]:null)&&Bt(E))}function Bt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ge])it(y.i,d);else{var E=d.type,N=d.proxy;y.removeEventListener?y.removeEventListener(E,N,d.capture):y.detachEvent?y.detachEvent(Jt(E),N):y.addListener&&y.removeListener&&y.removeListener(N),(E=Dn(y))?(it(E,d),E.h==0&&(E.src=null,y[Kt]=null)):Et(d)}}}function Jt(d){return d in rt?rt[d]:rt[d]="on"+d}function rr(d,y){if(d.da)d=!0;else{y=new Ie(y,this);var E=d.listener,N=d.ha||d.src;d.fa&&Bt(d),d=E.call(N,y)}return d}function Dn(d){return d=d[Kt],d instanceof St?d:null}var Dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(d){return typeof d=="function"?d:(d[Dt]||(d[Dt]=function(y){return d.handleEvent(y)}),d[Dt])}function Ue(){ee.call(this),this.i=new St(this),this.M=this,this.F=null}P(Ue,ee),Ue.prototype[Ge]=!0,Ue.prototype.removeEventListener=function(d,y,E,N){Wn(this,d,y,E,N)};function mt(d,y){var E,N=d.F;if(N)for(E=[];N;N=N.F)E.push(N);if(d=d.M,N=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var G=y;y=new pe(N,d),O(y,G)}if(G=!0,E)for(var te=E.length-1;0<=te;te--){var ge=y.g=E[te];G=Ot(ge,N,!0,y)&&G}if(ge=y.g=d,G=Ot(ge,N,!0,y)&&G,G=Ot(ge,N,!1,y)&&G,E)for(te=0;te<E.length;te++)ge=y.g=E[te],G=Ot(ge,N,!1,y)&&G}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],N=0;N<E.length;N++)Et(E[N]);delete d.g[y],d.h--}}this.F=null},Ue.prototype.K=function(d,y,E,N){return this.i.add(String(d),y,!1,E,N)},Ue.prototype.L=function(d,y,E,N){return this.i.add(String(d),y,!0,E,N)};function Ot(d,y,E,N){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,te=0;te<y.length;++te){var ge=y[te];if(ge&&!ge.da&&ge.capture==E){var bt=ge.listener,ln=ge.ha||ge.src;ge.fa&&it(d.i,ge),G=bt.call(ln,N)!==!1&&G}}return G&&!N.defaultPrevented}function gn(d,y,E){if(typeof d=="function")E&&(d=T(d,E));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function qn(d){d.g=gn(()=>{d.g=null,d.i&&(d.i=!1,qn(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Kn extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(d){ee.call(this),this.h=d,this.g={}}P(ze,ee);var ot=[];function yn(d){Y(d.g,function(y,E){this.g.hasOwnProperty(E)&&Bt(y)},d),d.g={}}ze.prototype.N=function(){ze.aa.N.call(this),yn(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=c.JSON.stringify,yi=c.JSON.parse,Vo=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function vi(){}vi.prototype.h=null;function Zr(d){return d.h||(d.h=d.i())}function Hi(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){pe.call(this,"d")}P(sr,pe);function Ns(){pe.call(this,"c")}P(Ns,pe);var wr={},$o=null;function _i(){return $o=$o||new Ue}wr.La="serverreachability";function wi(d){pe.call(this,wr.La,d)}P(wi,pe);function or(d){const y=_i();mt(y,new wi(y))}wr.STAT_EVENT="statevent";function Uo(d,y){pe.call(this,wr.STAT_EVENT,d),this.stat=y}P(Uo,pe);function Ht(d){const y=_i();mt(y,new Uo(y,d))}wr.Ma="timingevent";function U(d,y){pe.call(this,wr.Ma,d),this.size=y}P(U,pe);function q(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function J(){this.g=!0}J.prototype.xa=function(){this.g=!1};function ie(d,y,E,N,G,te){d.info(function(){if(d.g)if(te)for(var ge="",bt=te.split("&"),ln=0;ln<bt.length;ln++){var vt=bt[ln].split("=");if(1<vt.length){var vn=vt[0];vt=vt[1];var en=vn.split("_");ge=2<=en.length&&en[1]=="type"?ge+(vn+"="+vt+"&"):ge+(vn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+N+") [attempt "+G+"]: "+y+`
`+E+`
`+ge})}function _e(d,y,E,N,G,te,ge){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+G+"]: "+y+`
`+E+`
`+te+" "+ge})}function ke(d,y,E,N){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pe(d,E)+(N?" "+N:"")})}function Qe(d,y){d.info(function(){return"TIMEOUT: "+y})}J.prototype.info=function(){};function Pe(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var N=E[d];if(!(2>N.length)){var G=N[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<G.length;ge++)G[ge]=""}}}}return ir(E)}catch{return y}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function et(){}P(et,vi),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},De=new et;function Je(d,y,E,N){this.j=d,this.i=y,this.l=E,this.R=N||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gt}function Gt(){this.i=null,this.g="",this.h=!1}var Tt={},at={};function Rt(d,y,E){d.L=1,d.v=xs(Ir(y)),d.m=E,d.P=!0,Vr(d,null)}function Vr(d,y){d.F=Date.now(),ct(d),d.A=Ir(d.v);var E=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),Ms(E.i,"t",N),d.C=0,E=d.j.J,d.h=new Gt,d.g=wd(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Kn(T(d.Y,d,d.g),d.O)),y=d.U,E=d.g,N=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(ot[0]=G.toString()),G=ot);for(var te=0;te<G.length;te++){var ge=Ft(E,G[te],N||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),or(),ie(d.i,d.u,d.A,d.l,d.R,d.m)}Je.prototype.ca=function(d){d=d.target;const y=this.M;y&&lr(d)==3?y.j():this.Y(d)},Je.prototype.Y=function(d){try{if(d==this.g)e:{const en=lr(this.g);var y=this.g.Ba();const jr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||wu(this.g)))){this.J||en!=4||y==7||(y==8||0>=jr?or(3):or(2)),Tr(this);var E=this.g.Z();this.X=E;t:if(Ei(this)){var N=wu(this.g);d="";var G=N.length,te=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),xn(this);var ge="";break t}this.h.i=new c.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,d+=this.h.i.decode(N[y],{stream:!(te&&y==G-1)});N.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,_e(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,ln=this.g;if((bt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(bt)){var vt=bt;break t}}vt=null}if(E=vt)ke(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ti(this,E);else{this.o=!1,this.s=3,Ht(12),In(this),xn(this);break e}}if(this.P){E=!0;let Cr;for(;!this.J&&this.C<ge.length;)if(Cr=Er(this,ge),Cr==at){en==4&&(this.s=4,Ht(14),E=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Tt){this.s=4,Ht(15),ke(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else ke(this.i,this.l,Cr,null),Ti(this,Cr);if(Ei(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ge.length!=0||this.h.h||(this.s=1,Ht(16),E=!1),this.o=this.o&&E,!E)ke(this.i,this.l,ge,"[Invalid Chunked Response]"),In(this),xn(this);else if(0<ge.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Tu(vn),vn.M=!0,Ht(11))}}else ke(this.i,this.l,ge,null),Ti(this,ge);en==4&&In(this),this.o&&!this.J&&(en==4?Ha(this.j,this):(this.o=!1,ct(this)))}else $a(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),In(this),xn(this)}}}catch{}finally{}};function Ei(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Er(d,y){var E=d.C,N=y.indexOf(`
`,E);return N==-1?at:(E=Number(y.substring(E,N)),isNaN(E)?Tt:(N+=1,N+E>y.length?at:(y=y.slice(N,N+E),d.C=N+E,y)))}Je.prototype.cancel=function(){this.J=!0,In(this)};function ct(d){d.S=Date.now()+d.I,ks(d,d.I)}function ks(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=q(T(d.ba,d),y)}function Tr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Je.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(or(),Ht(17)),In(this),this.s=2,xn(this)):ks(this,this.S-d)};function xn(d){d.j.G==0||d.J||Ha(d.j,d)}function In(d){Tr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,yn(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ti(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||ft(E.h,d))){if(!d.K&&ft(E.h,d)&&E.G==3){try{var N=E.Da.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var G=N;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ba(E),ii(E);else break e;Fa(E),Ht(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=q(T(E.Za,E),6e3));if(1>=Ii(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Gi(E,11)}else if((d.K||E.g==d)&&Ba(E),!V(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let vt=G[y];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const vn=vt[3];vn!=null&&(E.la=vn,E.j.info("VER="+E.la));const en=vt[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const jr=vt[5];jr!=null&&typeof jr=="number"&&0<jr&&(N=1.5*jr,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const Cr=d.g;if(Cr){const qo=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qo){var te=N.h;te.g||qo.indexOf("spdy")==-1&&qo.indexOf("quic")==-1&&qo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&($r(te,te.h),te.h=null))}if(N.D){const Wa=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(N.ya=Wa,Pt(N.I,N.D,Wa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var ge=d;if(N.qa=_d(N,N.J?N.ia:null,N.W),ge.K){jo(N.h,ge);var bt=ge,ln=N.L;ln&&(bt.I=ln),bt.B&&(Tr(bt),ct(bt)),N.g=ge}else Wo(N);0<E.i.length&&Ri(E)}else vt[0]!="stop"&&vt[0]!="close"||Gi(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Gi(E,7):Cn(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}or(4)}catch{}}var dt=class{constructor(d,y){this.g=d,this.map=y}};function Ct(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ii(d){return d.h?1:d.g?d.g.size:0}function ft(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function $r(d,y){d.g?d.g.add(y):d.h=y}function jo(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ct.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Da(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return x(d.i)}function Oa(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],E=d.length,N=0;N<E;N++)y.push(d[N]);return y}y=[],E=0;for(N in d)y[E++]=d[N];return y}function xa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const N in d)y[E++]=N;return y}}}function Ps(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=xa(d),N=Oa(d),G=N.length,te=0;te<G;te++)y.call(void 0,N[te],E&&E[te],d)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ep(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var N=d[E].indexOf("="),G=null;if(0<=N){var te=d[E].substring(0,N);G=d[E].substring(N+1)}else te=d[E];y(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function zi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zi){this.h=d.h,Bo(this,d.j),this.o=d.o,this.g=d.g,Ds(this,d.s),this.l=d.l;var y=d.i,E=new Si;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Os(this,E),this.m=d.m}else d&&(y=String(d).match(Fo))?(this.h=!1,Bo(this,y[1]||"",!0),this.o=gt(y[2]||""),this.g=gt(y[3]||"",!0),Ds(this,y[4]),this.l=gt(y[5]||"",!0),Os(this,y[6]||"",!0),this.m=gt(y[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}zi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ls(y,La,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ls(y,La,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ls(E,E.charAt(0)=="/"?dd:cd,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ls(E,yu)),d.join("")};function Ir(d){return new zi(d)}function Bo(d,y,E){d.j=E?gt(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ds(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Os(d,y,E){y instanceof Si?(d.i=y,Ci(d.i,d.h)):(E||(y=Ls(y,fd)),d.i=new Si(y,d.h))}function Pt(d,y,E){d.i.set(y,E)}function xs(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gt(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ls(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,ud),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ud(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var La=/[#\/\?@]/g,cd=/[#\?:]/g,dd=/[#\?]/g,fd=/[#\?@]/g,yu=/#/g;function Si(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Sn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ep(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Si.prototype,n.add=function(d,y){Sn(this),this.i=null,d=Ur(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function ei(d,y){Sn(d),y=Ur(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ti(d,y){return Sn(d),y=Ur(d,y),d.g.has(y)}n.forEach=function(d,y){Sn(this),this.g.forEach(function(E,N){E.forEach(function(G){d.call(y,G,N,this)},this)},this)},n.na=function(){Sn(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let N=0;N<y.length;N++){const G=d[N];for(let te=0;te<G.length;te++)E.push(y[N])}return E},n.V=function(d){Sn(this);let y=[];if(typeof d=="string")ti(this,d)&&(y=y.concat(this.g.get(Ur(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return Sn(this),this.i=null,d=Ur(this,d),ti(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ms(d,y,E){ei(d,y),0<E.length&&(d.i=null,d.g.set(Ur(d,y),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var N=y[E];const te=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var G=te;ge[N]!==""&&(G+="="+encodeURIComponent(String(ge[N]))),d.push(G)}}return this.i=d.join("&")};function Ur(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Ci(d,y){y&&!d.j&&(Sn(d),d.i=null,d.g.forEach(function(E,N){var G=N.toLowerCase();N!=G&&(ei(this,N),Ms(this,G,E))},d)),d.j=y}function Tp(d,y){const E=new J;if(c.Image){const N=new Image;N.onload=R(ar,E,"TestLoadImage: loaded",!0,y,N),N.onerror=R(ar,E,"TestLoadImage: error",!1,y,N),N.onabort=R(ar,E,"TestLoadImage: abort",!1,y,N),N.ontimeout=R(ar,E,"TestLoadImage: timeout",!1,y,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else y(!1)}function hd(d,y){const E=new J,N=new AbortController,G=setTimeout(()=>{N.abort(),ar(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:N.signal}).then(te=>{clearTimeout(G),te.ok?ar(E,"TestPingServer: ok",!0,y):ar(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),ar(E,"TestPingServer: error",!1,y)})}function ar(d,y,E,N,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),N(E)}catch{}}function Ip(){this.g=new Vo}function pd(d,y,E){const N=E||"";try{Ps(d,function(G,te){let ge=G;p(G)&&(ge=ir(G)),y.push(N+te+"="+encodeURIComponent(ge))})}catch(G){throw y.push(N+"type="+encodeURIComponent("_badmap")),G}}function Wi(d){this.l=d.Ub||null,this.j=d.eb||!1}P(Wi,vi),Wi.prototype.g=function(){return new Ho(this.l,this.j)},Wi.prototype.i=function(d){return function(){return d}}({});function Ho(d,y){Ue.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ho,Ue),n=Ho.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ri(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;md(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function md(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?ni(this):ri(this),this.readyState==3&&md(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ni(this))},n.Qa=function(d){this.g&&(this.response=d,ni(this))},n.ga=function(){this.g&&ni(this)};function ni(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ri(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ri(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qi(d){let y="";return Y(d,function(E,N){y+=N,y+=":",y+=E,y+=`\r
`}),y}function Vs(d,y,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=qi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Pt(d,y,E))}function $t(d){Ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P($t,Ue);var Sp=/^https?$/i,vu=["POST","PUT"];n=$t.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?Zr(this.o):Zr(De),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(te){zo(this,te);return}if(d=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var G in N)E.set(G,N[G]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const te of N.keys())E.set(te,N.get(te));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),G=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(vu,y,void 0))||N||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of E)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(d),this.u=!1}catch(te){zo(this,te)}};function zo(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Ma(d),Sr(d)}function Ma(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_u(this):this.bb())},n.bb=function(){_u(this)};function _u(d){if(d.h&&typeof l<"u"&&(!d.v[1]||lr(d)!=4||d.Z()!=2)){if(d.u&&lr(d)==4)gn(d.Ea,0,d);else if(mt(d,"readystatechange"),lr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var N;if(N=ge===0){var G=String(d.D).match(Fo)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),N=!Sp.test(G?G.toLowerCase():"")}E=N}if(E)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var te=2<lr(d)?d.g.statusText:""}catch{te=""}d.l=te+" ["+d.Z()+"]",Ma(d)}}finally{Sr(d)}}}}function Sr(d,y){if(d.g){Va(d);const E=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||mt(d,"ready");try{E.onreadystatechange=N}catch{}}}function Va(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function lr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),yi(y)}};function wu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(d){const y={};d=(d.g&&2<=lr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(V(d[N]))continue;var E=L(d[N]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=y[G]||[];y[G]=te,te.push(E)}S(y,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function Eu(d){this.Aa=0,this.i=[],this.j=new J,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ai("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ai("baseRetryDelayMs",5e3,d),this.cb=Ai("retryDelaySeedMs",1e4,d),this.Wa=Ai("forwardChannelMaxRetries",2,d),this.wa=Ai("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ct(d&&d.concurrentRequestLimit),this.Da=new Ip,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Eu.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,N){Ht(0),this.W=d,this.H=y||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=_d(this,null,this.W),Ri(this)};function Cn(d){if(Ua(d),d.G==3){var y=d.U++,E=Ir(d.I);if(Pt(E,"SID",d.K),Pt(E,"RID",y),Pt(E,"TYPE","terminate"),Ki(d,E),y=new Je(d,d.j,y),y.L=2,y.v=xs(Ir(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=wd(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}vd(d)}function ii(d){d.g&&(Tu(d),d.g.cancel(),d.g=null)}function Ua(d){ii(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ba(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ri(d){if(!Zt(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ne||ue(),ne||(Ne(),ne=!0),me.add(y,d),d.B=0}}function Cp(d,y){return Ii(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=q(T(d.Ga,d,y),yd(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Je(this,this.j,d);let te=this.o;if(this.S&&(te?(te=C(te),O(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=$s(this,G,y),E=Ir(this.I),Pt(E,"RID",d),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Ki(this,E),te&&(this.O?y="headers="+encodeURIComponent(String(qi(te)))+"&"+y:this.m&&Vs(E,this.m,te)),$r(this.h,G),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",y),Pt(E,"SID","null"),G.T=!0,Rt(G,E,null)):Rt(G,E,y),this.G=2}}else this.G==3&&(d?ja(this,d):this.i.length==0||Zt(this.h)||ja(this))};function ja(d,y){var E;y?E=y.l:E=d.U++;const N=Ir(d.I);Pt(N,"SID",d.K),Pt(N,"RID",E),Pt(N,"AID",d.T),Ki(d,N),d.m&&d.o&&Vs(N,d.m,d.o),E=new Je(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=$s(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$r(d.h,E),Rt(E,N,y)}function Ki(d,y){d.H&&Y(d.H,function(E,N){Pt(y,N,E)}),d.l&&Ps({},function(E,N){Pt(y,N,E)})}function $s(d,y,E){E=Math.min(d.i.length,E);var N=d.l?T(d.l.Na,d.l,d):null;e:{var G=d.i;let te=-1;for(;;){const ge=["count="+E];te==-1?0<E?(te=G[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let bt=!0;for(let ln=0;ln<E;ln++){let vt=G[ln].g;const vn=G[ln].map;if(vt-=te,0>vt)te=Math.max(0,G[ln].g-100),bt=!1;else try{pd(vn,ge,"req"+vt+"_")}catch{N&&N(vn)}}if(bt){N=ge.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,N}function Wo(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ne||ue(),ne||(Ne(),ne=!0),me.add(y,d),d.v=0}}function Fa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=q(T(d.Fa,d),yd(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=q(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),ii(this),gd(this))};function Tu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function gd(d){d.g=new Je(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Ir(d.qa);Pt(y,"RID","rpc"),Pt(y,"SID",d.K),Pt(y,"AID",d.T),Pt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(y,"TO",d.ja),Pt(y,"TYPE","xmlhttp"),Ki(d,y),d.m&&d.o&&Vs(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=xs(Ir(y)),E.m=null,E.P=!0,Vr(E,d)}n.Za=function(){this.C!=null&&(this.C=null,ii(this),Fa(this),Ht(19))};function Ba(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ha(d,y){var E=null;if(d.g==y){Ba(d),Tu(d),d.g=null;var N=2}else if(ft(d.h,y))E=y.D,jo(d.h,y),N=1;else return;if(d.G!=0){if(y.o)if(N==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=d.B;N=_i(),mt(N,new U(N,E)),Ri(d)}else Wo(d);else if(G=y.s,G==3||G==0&&0<y.X||!(N==1&&Cp(d,y)||N==2&&Fa(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),G){case 1:Gi(d,5);break;case 4:Gi(d,10);break;case 3:Gi(d,6);break;default:Gi(d,2)}}}function yd(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Gi(d,y){if(d.j.info("Error code "+y),y==2){var E=T(d.fb,d),N=d.Xa;const G=!N;N=new zi(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Bo(N,"https"),xs(N),G?Tp(N.toString(),E):hd(N.toString(),E)}else Ht(2);d.G=0,d.l&&d.l.sa(y),vd(d),Ua(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function vd(d){if(d.G=0,d.ka=[],d.l){const y=Da(d.h);(y.length!=0||d.i.length!=0)&&(k(d.ka,y),k(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function _d(d,y,E){var N=E instanceof zi?Ir(E):new zi(E);if(N.g!="")y&&(N.g=y+"."+N.g),Ds(N,N.s);else{var G=c.location;N=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var te=new zi(null);N&&Bo(te,N),y&&(te.g=y),G&&Ds(te,G),E&&(te.l=E),N=te}return E=d.D,y=d.ya,E&&y&&Pt(N,E,y),Pt(N,"VER",d.la),Ki(d,N),N}function wd(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new $t(new Wi({eb:E})):new $t(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}n=Iu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function za(){}za.prototype.g=function(d,y){return new Gn(d,y)};function Gn(d,y){Ue.call(this),this.g=new Eu(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!V(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new bi(this)}P(Gn,Ue),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Cn(this.g)},Gn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=ir(d),d=E);y.i.push(new dt(y.Ya++,d)),y.G==3&&Ri(y)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Cn(this.g),delete this.g,Gn.aa.N.call(this)};function Ed(d){sr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}P(Ed,sr);function Td(){Ns.call(this),this.status=1}P(Td,Ns);function bi(d){this.g=d}P(bi,Iu),bi.prototype.ua=function(){mt(this.g,"a")},bi.prototype.ta=function(d){mt(this.g,new Ed(d))},bi.prototype.sa=function(d){mt(this.g,new Td)},bi.prototype.ra=function(){mt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,WR=function(){return new za},zR=function(){return _i()},HR=wr,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Bf=Re,Se.COMPLETE="complete",BR=Se,Hi.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,oc=Hi,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,FR=$t}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",FT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new xv("@firebase/firestore");function El(){return Ta.logLevel}function be(n,...e){if(Ta.logLevel<=ht.DEBUG){const t=e.map(Vv);Ta.debug(`Firestore (${cu}): ${n}`,...t)}}function vs(n,...e){if(Ta.logLevel<=ht.ERROR){const t=e.map(Vv);Ta.error(`Firestore (${cu}): ${n}`,...t)}}function Wl(n,...e){if(Ta.logLevel<=ht.WARN){const t=e.map(Vv);Ta.warn(`Firestore (${cu}): ${n}`,...t)}}function Vv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+n;throw vs(e),new Error(e)}function At(n,e){n||Ye()}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jn.UNAUTHENTICATED))}shutdown(){}}class jj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fj{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string"),new qR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new jn(e)}}class Bj{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Hj{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Bj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zj{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){At(this.o===void 0);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new BT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string"),this.R=t.token,new BT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Wj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function yt(n,e){return n<e?-1:n>e?1:0}function ql(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=-62135596800,zT=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(e){return hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*zT);return new hn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HT)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zT}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new hn(0,0))}static max(){return new tt(new hn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ye(),r===void 0?r=e.length-t:r>e.length-t&&Ye(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Oi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),i=Oi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class Vt extends Oi{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const qj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Oi{construct(e,t,r){return new kn(e,t,r)}static isValidIdentifier(e){return qj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WT}static keyField(){return new kn([WT])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new xe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new xe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(t)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Vt.fromString(e))}static fromName(e){return new Be(Vt.fromString(e).popFirst(5))}static empty(){return new Be(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function Kj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(r===1e9?new hn(t+1,0):new hn(t,r));return new Io(i,Be.empty(),e)}function Gj(n){return new Io(n.readTime,n.key,Rc)}class Io{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Io(tt.min(),Be.empty(),Rc)}static max(){return new Io(tt.max(),Be.empty(),Rc)}}function Qj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:yt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Yj)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new se((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function Jj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}np.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-1;function rp(n){return n==null}function ph(n){return n===0&&1/n==-1/0}function Zj(n){return typeof n=="number"&&Number.isInteger(n)&&!ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="";function eF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qT(e)),e=tF(n.get(t),e);return qT(e)}function tF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case GR:t+="";break;default:t+=a}}return t}function qT(n){return n+GR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new bn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,t,r,i,a){return this}insert(e,t,r){return new bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Dr([])}unionWith(e){let t=new pn(kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YR("Invalid base64 string: "+a):a}}(e);return new Pn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const nF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(n){if(At(!!n),typeof n=="string"){let e=0;const t=nF.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Co(n){return typeof n=="string"?Pn.fromBase64String(n):Pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="server_timestamp",JR="__type__",ZR="__previous_value__",eb="__local_write_time__";function Uv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[JR])===null||t===void 0?void 0:t.stringValue)===XR}function ip(n){const e=n.mapValue.fields[ZR];return Uv(e)?ip(e):e}function bc(n){const e=So(n.mapValue.fields[eb].timestampValue);return new hn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,t,r,i,a,l,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const mh="(default)";class Nc{constructor(e,t){this.projectId=e,this.database=t||mh}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__type__",iF="__max__",Df={mapValue:{}},nb="__vector__",gh="value";function Ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uv(n)?4:oF(n)?9007199254740991:sF(n)?10:11:Ye()}function Bi(n,e){if(n===e)return!0;const t=Ao(n);if(t!==Ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bc(n).isEqual(bc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=So(i.timestampValue),c=So(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Co(i.bytesValue).isEqual(Co(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Xt(i.geoPointValue.latitude)===Xt(a.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xt(i.integerValue)===Xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Xt(i.doubleValue),c=Xt(a.doubleValue);return l===c?ph(l)===ph(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ql(n.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(KT(l)!==KT(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Bi(l[f],c[f])))return!1;return!0}(n,e);default:return Ye()}}function kc(n,e){return(n.values||[]).find(t=>Bi(t,e))!==void 0}function Kl(n,e){if(n===e)return 0;const t=Ao(n),r=Ao(e);if(t!==r)return yt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Xt(a.integerValue||a.doubleValue),f=Xt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return QT(n.timestampValue,e.timestampValue);case 4:return QT(bc(n),bc(e));case 5:return yt(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Co(a),f=Co(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=yt(c[p],f[p]);if(g!==0)return g}return yt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=yt(Xt(a.latitude),Xt(l.latitude));return c!==0?c:yt(Xt(a.longitude),Xt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return YT(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,g;const _=a.fields||{},T=l.fields||{},R=(c=_[gh])===null||c===void 0?void 0:c.arrayValue,P=(f=T[gh])===null||f===void 0?void 0:f.arrayValue,x=yt(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:YT(R,P)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Df.mapValue&&l===Df.mapValue)return 0;if(a===Df.mapValue)return 1;if(l===Df.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const T=yt(f[_],g[_]);if(T!==0)return T;const R=Kl(c[f[_]],p[g[_]]);if(R!==0)return R}return yt(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ye()}}function QT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yt(n,e);const t=So(n),r=So(e),i=yt(t.seconds,r.seconds);return i!==0?i:yt(t.nanos,r.nanos)}function YT(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Kl(t[i],r[i]);if(a)return a}return yt(t.length,r.length)}function Gl(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=So(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Co(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=my(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${my(t.fields[l])}`;return i+"}"}(n.mapValue):Ye()}function Hf(n){switch(Ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ip(n);return e?16+Hf(e):16;case 5:return 2*n.stringValue.length;case 6:return Co(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Hf(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Lo(r.fields,(a,l)=>{i+=a.length+Hf(l)}),i}(n.mapValue);default:throw Ye()}}function XT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gy(n){return!!n&&"integerValue"in n}function jv(n){return!!n&&"arrayValue"in n}function JT(n){return!!n&&"nullValue"in n}function ZT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function sF(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tb])===null||t===void 0?void 0:t.stringValue)===nb}function hc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=kn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=hc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Lo(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new vr(hc(this.value))}}function rb(n){const e=[];return Lo(n.fields,(t,r)=>{const i=new kn([t]);if(zf(r)){const a=rb(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,tt.min(),tt.min(),tt.min(),vr.empty(),0)}static newFoundDocument(e,t,r,i){return new Bn(e,1,t,tt.min(),r,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,tt.min(),tt.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,tt.min(),tt.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.position=e,this.inclusive=t}}function eI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),t.key):r=Kl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function tI(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function aF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{}class sn extends ib{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new uF(e,t,r):t==="array-contains"?new fF(e,r):t==="in"?new hF(e,r):t==="not-in"?new pF(e,r):t==="array-contains-any"?new mF(e,r):new sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new cF(e,r):new dF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Kl(t,this.value)):t!==null&&Ao(this.value)===Ao(t)&&this.matchesComparison(Kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends ib{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new mi(e,t)}matches(e){return sb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sb(n){return n.op==="and"}function ob(n){return lF(n)&&sb(n)}function lF(n){for(const e of n.filters)if(e instanceof mi)return!1;return!0}function yy(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Gl(n.value);if(ob(n))return n.filters.map(e=>yy(e)).join(",");{const e=n.filters.map(t=>yy(t)).join(",");return`${n.op}(${e})`}}function ab(n,e){return n instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&Bi(r.value,i.value)}(n,e):n instanceof mi?function(r,i){return i instanceof mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&ab(l,i.filters[c]),!0):!1}(n,e):void Ye()}function lb(n){return n instanceof sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Gl(t.value)}`}(n):n instanceof mi?function(t){return t.op.toString()+" {"+t.getFilters().map(lb).join(" ,")+"}"}(n):"Filter"}class uF extends sn{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class cF extends sn{constructor(e,t){super(e,"in",t),this.keys=ub("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dF extends sn{constructor(e,t){super(e,"not-in",t),this.keys=ub("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ub(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}class fF extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jv(t)&&kc(t.arrayValue,this.value)}}class hF extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kc(this.value.arrayValue,t)}}class pF extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!kc(this.value.arrayValue,t)}}class mF extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function nI(n,e=null,t=[],r=[],i=null,a=null,l=null){return new gF(n,e,t,r,i,a,l)}function Fv(n){const e=nt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gl(r)).join(",")),e.le=t}return e.le}function Bv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ab(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tI(n.startAt,e.startAt)&&tI(n.endAt,e.endAt)}function vy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yF(n,e,t,r,i,a,l,c){return new Zc(n,e,t,r,i,a,l,c)}function Hv(n){return new Zc(n)}function rI(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cb(n){return n.collectionGroup!==null}function pc(n){const e=nt(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new pn(kn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new vh(a,r))}),t.has(kn.keyField().canonicalString())||e.he.push(new vh(kn.keyField(),r))}return e.he}function Mi(n){const e=nt(n);return e.Pe||(e.Pe=vF(e,pc(n))),e.Pe}function vF(n,e){if(n.limitType==="F")return nI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new vh(i.field,a)});const t=n.endAt?new yh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yh(n.startAt.position,n.startAt.inclusive):null;return nI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _y(n,e){const t=n.filters.concat([e]);return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wy(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sp(n,e){return Bv(Mi(n),Mi(e))&&n.limitType===e.limitType}function db(n){return`${Fv(Mi(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lb(i)).join(", ")}]`),rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Gl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(Mi(n))}; limitType=${n.limitType})`}function op(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of pc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=eI(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,pc(r),i)||r.endAt&&!function(l,c,f){const p=eI(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,pc(r),i))}(n,e)}function _F(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fb(n){return(e,t)=>{let r=!1;for(const i of pc(n)){const a=wF(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function wF(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Kl(f,p):Ye()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return QR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new qt(Be.comparator);function _s(){return EF}const hb=new qt(Be.comparator);function ac(...n){let e=hb;for(const t of n)e=e.insert(t.key,t);return e}function pb(n){let e=hb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fa(){return mc()}function mb(){return mc()}function mc(){return new ka(n=>n.toString(),(n,e)=>n.isEqual(e))}const TF=new qt(Be.comparator),IF=new pn(Be.comparator);function pt(...n){let e=IF;for(const t of n)e=e.add(t);return e}const SF=new pn(yt);function CF(){return SF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function gb(n){return{integerValue:""+n}}function AF(n,e){return Zj(e)?gb(e):zv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this._=void 0}}function RF(n,e,t){return n instanceof Pc?function(i,a){const l={fields:{[JR]:{stringValue:XR},[eb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Uv(a)&&(a=ip(a)),a&&(l.fields[ZR]=a),{mapValue:l}}(t,e):n instanceof Ql?vb(n,e):n instanceof Dc?_b(n,e):function(i,a){const l=yb(i,a),c=iI(l)+iI(i.Ie);return gy(l)&&gy(i.Ie)?gb(c):zv(i.serializer,c)}(n,e)}function bF(n,e,t){return n instanceof Ql?vb(n,e):n instanceof Dc?_b(n,e):t}function yb(n,e){return n instanceof _h?function(r){return gy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Pc extends ap{}class Ql extends ap{constructor(e){super(),this.elements=e}}function vb(n,e){const t=wb(e);for(const r of n.elements)t.some(i=>Bi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Dc extends ap{constructor(e){super(),this.elements=e}}function _b(n,e){let t=wb(e);for(const r of n.elements)t=t.filter(i=>!Bi(i,r));return{arrayValue:{values:t}}}class _h extends ap{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function iI(n){return Xt(n.integerValue||n.doubleValue)}function wb(n){return jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.field=e,this.transform=t}}function NF(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ql&&i instanceof Ql||r instanceof Dc&&i instanceof Dc?ql(r.elements,i.elements,Bi):r instanceof _h&&i instanceof _h?Bi(r.Ie,i.Ie):r instanceof Pc&&i instanceof Pc}(n.transform,e.transform)}class kF{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lp{}function Tb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sb(n.key,Vi.none()):new ed(n.key,n.data,Vi.none());{const t=n.data,r=vr.empty();let i=new pn(kn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Mo(n.key,r,new Dr(i.toArray()),Vi.none())}}function PF(n,e,t){n instanceof ed?function(i,a,l){const c=i.value.clone(),f=oI(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Mo?function(i,a,l){if(!Wf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=oI(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(Ib(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function gc(n,e,t,r){return n instanceof ed?function(a,l,c,f){if(!Wf(a.precondition,l))return c;const p=a.value.clone(),g=aI(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Mo?function(a,l,c,f){if(!Wf(a.precondition,l))return c;const p=aI(a.fieldTransforms,f,l),g=l.data;return g.setAll(Ib(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,c){return Wf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function DF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=yb(r.transform,i||null);a!=null&&(t===null&&(t=vr.empty()),t.set(r.field,a))}return t||null}function sI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(a,l)=>NF(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ed extends lp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mo extends lp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ib(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oI(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,bF(l,c,t[i]))}return r}function aI(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,RF(a,l,e))}return r}class Sb extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OF extends lp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&PF(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mb();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=Tb(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(t,r)=>sI(t,r))&&ql(this.baseMutations,e.baseMutations,(t,r)=>sI(t,r))}}class Wv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return TF}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Wv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,_t;function VF(n){switch(n){case oe.OK:return Ye();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ye()}}function Cb(n){if(n===void 0)return vs("GRPC error has no .code"),oe.UNKNOWN;switch(n){case nn.OK:return oe.OK;case nn.CANCELLED:return oe.CANCELLED;case nn.UNKNOWN:return oe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return oe.INTERNAL;case nn.UNAVAILABLE:return oe.UNAVAILABLE;case nn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case nn.NOT_FOUND:return oe.NOT_FOUND;case nn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case nn.ABORTED:return oe.ABORTED;case nn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case nn.DATA_LOSS:return oe.DATA_LOSS;default:return Ye()}}(_t=nn||(nn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new yo([4294967295,4294967295],0);function lI(n){const e=$F().encode(n),t=new jR;return t.update(e),new Uint8Array(t.digest())}function uI(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new yo([t,r],0),new yo([i,a],0)]}class qv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=yo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(yo.fromNumber(r)));return i.compare(UF)===1&&(i=new yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=lI(e),[r,i]=uI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new qv(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const t=lI(e),[r,i]=uI(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new up(tt.min(),i,new qt(yt),_s(),pt())}}class td{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new td(r,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Ab{constructor(e,t){this.targetId=e,this.ge=t}}class Rb{constructor(e,t,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cI{constructor(){this.pe=0,this.ye=dI(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=pt(),t=pt(),r=pt();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new td(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=dI()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,At(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jF{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_s(),this.$e=Of(),this.Ke=Of(),this.Ue=new qt(yt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(vy(a))if(r===0){const l=new Be(a.path);this.ze(t,l,Bn.newNoDocument(l,tt.min()))}else At(r===1);else{const l=this.et(t);if(l!==r){const c=this.tt(e),f=c?this.nt(c,e,l):1;if(f!==0){this.Ye(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=Co(r).toUint8Array()}catch(f){if(f instanceof YR)return Wl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new qv(l,i,a)}catch(f){return Wl(f instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Ee===0?null:c}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&vy(c.target)){const f=new Be(c.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,Bn.newNoDocument(f,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=pt();this.Ke.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new up(e,t,this.Ue,this.Qe,r);return this.Qe=_s(),this.$e=Of(),this.Ke=Of(),this.Ue=new qt(yt),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new cI,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new pn(yt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new pn(yt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cI),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Of(){return new qt(Be.comparator)}function dI(){return new qt(Be.comparator)}const FF={asc:"ASCENDING",desc:"DESCENDING"},BF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HF={and:"AND",or:"OR"};class zF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ey(n,e){return n.useProto3Json||rp(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WF(n,e){return wh(n,e.toTimestamp())}function $i(n){return At(!!n),tt.fromTimestamp(function(t){const r=So(t);return new hn(r.seconds,r.nanos)}(n))}function Kv(n,e){return Ty(n,e).canonicalString()}function Ty(n,e){const t=function(i){return new Vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Nb(n){const e=Vt.fromString(n);return At(xb(e)),e}function Iy(n,e){return Kv(n.databaseId,e.path)}function kg(n,e){const t=Nb(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(Pb(t))}function kb(n,e){return Kv(n.databaseId,e)}function qF(n){const e=Nb(n);return e.length===4?Vt.emptyPath():Pb(e)}function Sy(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pb(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function fI(n,e,t){return{name:Iy(n,e),fields:t.value.mapValue.fields}}function KF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string"),Pn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Pn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?oe.UNKNOWN:Cb(p.code);return new xe(g,p.message||"")}(l);t=new Rb(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kg(n,r.document.name),a=$i(r.document.updateTime),l=r.document.createTime?$i(r.document.createTime):tt.min(),c=new vr({mapValue:{fields:r.document.fields}}),f=Bn.newFoundDocument(i,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new qf(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kg(n,r.document),a=r.readTime?$i(r.readTime):tt.min(),l=Bn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new qf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kg(n,r.document),a=r.removedTargetIds||[];t=new qf([],a,i,null)}else{if(!("filter"in e))return Ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new MF(i,a),c=r.targetId;t=new Ab(c,l)}}return t}function GF(n,e){let t;if(e instanceof ed)t={update:fI(n,e.key,e.value)};else if(e instanceof Sb)t={delete:Iy(n,e.key)};else if(e instanceof Mo)t={update:fI(n,e.key,e.data),updateMask:r4(e.fieldMask)};else{if(!(e instanceof OF))return Ye();t={verify:Iy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Pc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ql)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Dc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _h)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ye()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ye()}(n,e.precondition)),t}function QF(n,e){return n&&n.length>0?(At(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?$i(i.updateTime):$i(a);return l.isEqual(tt.min())&&(l=$i(a)),new kF(l,i.transformResults||[])}(t,e))):[]}function YF(n,e){return{documents:[kb(n,e.path)]}}function XF(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kb(n,i);const a=function(p){if(p.length!==0)return Ob(mi.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(T){return{field:Il(T.field),direction:e4(T.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Ey(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function JF(n){let e=qF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const T=Db(_);return T instanceof mi&&ob(T)?T.getFilters():[T]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(T=>function(P){return new vh(Sl(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(T))}(t.orderBy));let c=null;t.limit&&(c=function(_){let T;return T=typeof _=="object"?_.value:_,rp(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(_){const T=!!_.before,R=_.values||[];return new yh(R,T)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const T=!_.before,R=_.values||[];return new yh(R,T)}(t.endAt)),yF(e,i,l,a,c,"F",f,p)}function ZF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Db(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sl(t.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sl(t.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sl(t.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sl(t.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(n):n.fieldFilter!==void 0?function(t){return sn.create(Sl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mi.create(t.compositeFilter.filters.map(r=>Db(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ye()}}(t.compositeFilter.op))}(n):Ye()}function e4(n){return FF[n]}function t4(n){return BF[n]}function n4(n){return HF[n]}function Il(n){return{fieldPath:n.canonicalString()}}function Sl(n){return kn.fromServerFormat(n.fieldPath)}function Ob(n){return n instanceof sn?function(t){if(t.op==="=="){if(ZT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(JT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(JT(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:t4(t.op),value:t.value}}}(n):n instanceof mi?function(t){const r=t.getFilters().map(i=>Ob(i));return r.length===1?r[0]:{compositeFilter:{op:n4(t.op),filters:r}}}(n):Ye()}function r4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t,r,i,a=tt.min(),l=tt.min(),c=Pn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.Tt=e}}function s4(n){const e=JF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.Tn=new a4}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Io.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class a4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pn(Vt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lb=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(Lb,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Yl(0)}static Un(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="LruGarbageCollector",l4=1048576;function mI([n,e],[t,r]){const i=yt(n,t);return i===0?yt(e,r):i}class u4{constructor(e){this.Hn=e,this.buffer=new pn(mI),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(pI,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fu(t)?be(pI,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.er(3e5)})}}class d4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(np.ae);const r=new u4(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(hI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hI):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),El()<=ht.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function f4(n,e){return new d4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&gc(r.mutation,i,Dr.empty(),hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pt()){const i=fa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=ac();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=fa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=_s();const l=mc(),c=function(){return mc()}();return t.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Mo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),gc(g.mutation,p,g.mutation.getFieldMask(),hn.now())):l.set(p.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new p4(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=mc();let i=new qt((l,c)=>l-c),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Dr.empty();g=c.applyToLocalView(p,g),r.set(f,g);const _=(i.get(c.batchId)||pt()).add(f);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,_=mb();g.forEach(T=>{if(!a.has(T)){const R=Tb(t.get(T),r.get(T));R!==null&&_.set(T,R),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):se.resolve(fa());let c=Rc,f=a;return l.next(p=>se.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next(T=>{f=f.insert(g,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,pt())).next(g=>({batchId:c,changes:pb(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(r=>{let i=ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=ac();return this.indexManager.getCollectionParents(e,a).next(c=>se.forEach(c,f=>{const p=function(_,T){return new Zc(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,T)=>{l=l.insert(_,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Bn.newInvalidDocument(g)))});let c=ac();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&gc(g.mutation,p,Dr.empty(),hn.now()),op(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$i(i.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:s4(i.bundledQuery),readTime:$i(i.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.overlays=new qt(Be.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fa();return se.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=fa(),a=t.length+1,l=new Be(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new qt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=fa(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=fa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=i)););return se.resolve(c)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new LF(t,r));let a=this.Rr.get(t);a===void 0&&(a=pt(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.Vr=new pn(Tn.mr),this.gr=new pn(Tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Tn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Tn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Be(new Vt([])),r=new Tn(t,e),i=new Tn(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Be(new Vt([])),r=new Tn(t,e),i=new Tn(t,e+1);let a=pt();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Tn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Be.comparator(e.key,t.key)||yt(e.Cr,t.Cr)}static pr(e,t){return yt(e.Cr,t.Cr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new pn(Tn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xF(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new Tn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?$v:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tn(t,0),i=new Tn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const c=this.Or(l.Cr);a.push(c)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pn(yt);return t.forEach(i=>{const a=new Tn(i,0),l=new Tn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new Tn(new Be(a),0);let c=new pn(yt);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Cr)),!0)},l),se.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){At(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,i=>{const a=new Tn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Tn(t,0),i=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.kr=e,this.docs=function(){return new qt(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=_s();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=_s();const l=t.path,c=new Be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||Qj(Gj(g),r)<=0||(i.has(g.key)||op(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ye()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new E4(this)}getSize(e){return se.resolve(this.size)}}class E4 extends h4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.persistence=e,this.Qr=new ka(t=>Fv(t),Bv),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Gv,this.targetCount=0,this.Ur=Yl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),se.waitFor(a).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new np(0),this.zr=!1,this.zr=!0,this.jr=new v4,this.referenceDelegate=e(this),this.Hr=new T4(this),this.indexManager=new o4,this.remoteDocumentCache=function(i){return new w4(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new i4(t),this.Yr=new g4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new _4(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new I4(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class I4 extends Xj{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.ti=new Gv,this.ni=null}static ri(e){return new Qv(e)}get ii(){if(this.ni)return this.ni;throw Ye()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const i=Be.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,tt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Eh{constructor(e,t){this.persistence=e,this.oi=new ka(r=>eF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=f4(this,t)}static ri(e,t){return new Eh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?se.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(c=>{c||(r++,a.removeEntry(l,tt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hf(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=pt(),i=pt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _U()?8:Jj(Hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new S4;return this._s(e,t,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,t,l,c.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(El()<=ht.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(El()<=ht.DEBUG&&be("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(El()<=ht.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):se.resolve())}rs(e,t){if(rI(t))return se.resolve(null);let r=Mi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wy(t,null,"F"),r=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=pt(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(t,c);return this.ls(t,p,l,f.readTime)?this.rs(e,wy(t,null,"F")):this.hs(e,p,t,f)}))})))}ss(e,t,r,i){return rI(t)||i.isEqual(tt.min())?se.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?se.resolve(null):(El()<=ht.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tl(t)),this.hs(e,l,t,Kj(i,Rc)).next(c=>c))})}cs(e,t){let r=new pn(fb(e));return t.forEach((i,a)=>{op(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return El()<=ht.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.ns.getDocumentsMatchingQuery(e,t,Io.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LocalStore",A4=3e8;class R4{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new qt(yt),this.Is=new ka(a=>Fv(a),Bv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function b4(n,e,t,r){return new R4(n,e,t,r)}async function Vb(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=pt();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function N4(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const _=p.batch,T=_.keys();let R=se.resolve();return T.forEach(P=>{R=R.next(()=>g.getEntry(f,P)).next(x=>{const k=p.docVersions.get(P);At(k!==null),x.version.compareTo(k)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=pt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function $b(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function k4(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const c=[];e.targetChanges.forEach((g,_)=>{const T=i.get(_);if(!T)return;c.push(t.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,g.addedDocuments,_)));let R=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Pn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):g.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(g.resumeToken,r)),i=i.insert(_,R),function(x,k,W){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=A4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,R,g)&&c.push(t.Hr.updateTargetData(a,R))});let f=_s(),p=pt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(P4(a,l,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(tt.min())){const g=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return se.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ts=i,a))}function P4(n,e,t){let r=pt(),i=pt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=_s();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):be(Xv,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Vs:l,fs:i}})}function D4(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$v),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O4(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,se.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new fo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Cy(n,e,t){const r=nt(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!fu(l))throw l;be(Xv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function gI(n,e,t){const r=nt(n);let i=tt.min(),a=pt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=nt(f),T=_.Is.get(g);return T!==void 0?se.resolve(_.Ts.get(T)):_.Hr.getTargetData(p,g)}(r,l,Mi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:tt.min(),t?a:pt())).next(c=>(x4(r,_F(e),c),{documents:c,gs:a})))}function x4(n,e,t){let r=n.Es.get(e)||tt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class yI{constructor(){this.activeTargetIds=CF()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L4{constructor(){this.ho=new yI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="ConnectivityMonitor";class _I{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(vI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(vI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function Ay(){return xf===null?xf=function(){return 268435456+Math.round(2147483648*Math.random())}():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="RestConnection",V4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=Ay(),c=this.bo(e,t.toUriEncodedString());be(Pg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,c,f,r).then(p=>(be(Pg,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Wl(Pg,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=V4[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class j4 extends $4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=Ay();return new Promise((l,c)=>{const f=new FR;f.setWithCredentials(!0),f.listenOnce(BR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bf.NO_ERROR:const g=f.getResponseJson();be(Un,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Bf.TIMEOUT:be(Un,`RPC '${e}' ${a} timed out`),c(new xe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Bf.HTTP_ERROR:const _=f.getStatus();if(be(Un,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const P=function(k){const W=k.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN}(R.status);c(new xe(P,R.message))}else c(new xe(oe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new xe(oe.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{be(Un,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);be(Un,`RPC '${e}' ${a} sending request:`,i),f.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=Ay(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WR(),c=zR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");be(Un,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);let T=!1,R=!1;const P=new U4({Fo:k=>{R?be(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(T||(be(Un,`Opening RPC '${e}' stream ${i} transport.`),_.open(),T=!0),be(Un,`RPC '${e}' stream ${i} sending:`,k),_.send(k))},Mo:()=>_.close()}),x=(k,W,V)=>{k.listen(W,H=>{try{V(H)}catch(B){setTimeout(()=>{throw B},0)}})};return x(_,oc.EventType.OPEN,()=>{R||(be(Un,`RPC '${e}' stream ${i} transport opened.`),P.Qo())}),x(_,oc.EventType.CLOSE,()=>{R||(R=!0,be(Un,`RPC '${e}' stream ${i} transport closed`),P.Ko())}),x(_,oc.EventType.ERROR,k=>{R||(R=!0,Wl(Un,`RPC '${e}' stream ${i} transport errored:`,k),P.Ko(new xe(oe.UNAVAILABLE,"The operation could not be completed")))}),x(_,oc.EventType.MESSAGE,k=>{var W;if(!R){const V=k.data[0];At(!!V);const H=V,B=(H==null?void 0:H.error)||((W=H[0])===null||W===void 0?void 0:W.error);if(B){be(Un,`RPC '${e}' stream ${i} received error:`,B);const K=B.status;let Y=function(b){const O=nn[b];if(O!==void 0)return Cb(O)}(K),S=B.message;Y===void 0&&(Y=oe.INTERNAL,S="Unknown error status: "+K+" with message "+B.message),R=!0,P.Ko(new xe(Y,S)),_.close()}else be(Un,`RPC '${e}' stream ${i} received:`,V),P.Uo(V)}}),x(c,HR.STAT_EVENT,k=>{k.stat===py.PROXY?be(Un,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===py.NOPROXY&&be(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){return new zF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="PersistentStream";class jb{constructor(e,t,r,i,a,l,c,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Ub(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(vs(t.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new xe(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(wI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(wI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F4 extends jb{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=KF(this.serializer,e),r=function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?$i(l.readTime):tt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Sy(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=vy(f)?{documents:YF(a,f)}:{query:XF(a,f).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bb(a,l.resumeToken);const p=Ey(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=wh(a,l.snapshotVersion.toTimestamp());const p=Ey(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=ZF(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Sy(this.serializer),t.removeTarget=e,this.I_(t)}}class B4 extends jb{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=QF(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Sy(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>GF(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{}class z4 extends H4{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Ty(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(oe.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Ty(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(oe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class W4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vs(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class q4{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{Pa(this)&&(be(Ia,"Restarting streams for network reachability change."),await async function(f){const p=nt(f);p.W_.add(4),await nd(p),p.j_.set("Unknown"),p.W_.delete(4),await dp(p)}(this))})}),this.j_=new W4(r,i)}}async function dp(n){if(Pa(n))for(const e of n.G_)await e(!0)}async function nd(n){for(const e of n.G_)await e(!1)}function Fb(n,e){const t=nt(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),t_(t)?e_(t):hu(t).c_()&&Zv(t,e))}function Jv(n,e){const t=nt(n),r=hu(t);t.U_.delete(e),r.c_()&&Bb(t,e),t.U_.size===0&&(r.c_()?r.P_():Pa(t)&&t.j_.set("Unknown"))}function Zv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hu(n).y_(e)}function Bb(n,e){n.H_.Ne(e),hu(n).w_(e)}function e_(n){n.H_=new jF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),hu(n).start(),n.j_.B_()}function t_(n){return Pa(n)&&!hu(n).u_()&&n.U_.size>0}function Pa(n){return nt(n).W_.size===0}function Hb(n){n.H_=void 0}async function K4(n){n.j_.set("Online")}async function G4(n){n.U_.forEach((e,t)=>{Zv(n,e)})}async function Q4(n,e){Hb(n),t_(n)?(n.j_.q_(e),e_(n)):n.j_.set("Unknown")}async function Y4(n,e,t){if(n.j_.set("Online"),e instanceof Rb&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.U_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.U_.delete(c),i.H_.removeTarget(c))}(n,e)}catch(r){be(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(n,r)}else if(e instanceof qf?n.H_.We(e):e instanceof Ab?n.H_.Ze(e):n.H_.je(e),!t.isEqual(tt.min()))try{const r=await $b(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.U_.get(p);g&&a.U_.set(p,g.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const g=a.U_.get(f);if(!g)return;a.U_.set(f,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),Bb(a,f);const _=new fo(g.target,f,p,g.sequenceNumber);Zv(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){be(Ia,"Failed to raise snapshot:",r),await Th(n,r)}}async function Th(n,e,t){if(!fu(e))throw e;n.W_.add(1),await nd(n),n.j_.set("Offline"),t||(t=()=>$b(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(Ia,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await dp(n)})}function zb(n,e){return e().catch(t=>Th(n,t,e))}async function fp(n){const e=nt(n),t=Ro(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:$v;for(;X4(e);)try{const i=await D4(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,J4(e,i)}catch(i){await Th(e,i)}Wb(e)&&qb(e)}function X4(n){return Pa(n)&&n.K_.length<10}function J4(n,e){n.K_.push(e);const t=Ro(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Wb(n){return Pa(n)&&!Ro(n).u_()&&n.K_.length>0}function qb(n){Ro(n).start()}async function Z4(n){Ro(n).C_()}async function eB(n){const e=Ro(n);for(const t of n.K_)e.b_(t.mutations)}async function tB(n,e,t){const r=n.K_.shift(),i=Wv.from(r,e,t);await zb(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await fp(n)}async function nB(n,e){e&&Ro(n).S_&&await async function(r,i){if(function(l){return VF(l)&&l!==oe.ABORTED}(i.code)){const a=r.K_.shift();Ro(r).h_(),await zb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await fp(r)}}(n,e),Wb(n)&&qb(n)}async function EI(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),be(Ia,"RemoteStore received new credentials");const r=Pa(t);t.W_.add(3),await nd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await dp(t)}async function rB(n,e){const t=nt(n);e?(t.W_.delete(2),await dp(t)):e||(t.W_.add(2),await nd(t),t.j_.set("Unknown"))}function hu(n){return n.J_||(n.J_=function(t,r,i){const a=nt(t);return a.M_(),new F4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:K4.bind(null,n),No:G4.bind(null,n),Lo:Q4.bind(null,n),p_:Y4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),t_(n)?e_(n):n.j_.set("Unknown")):(await n.J_.stop(),Hb(n))})),n.J_}function Ro(n){return n.Y_||(n.Y_=function(t,r,i){const a=nt(t);return a.M_(),new B4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Z4.bind(null,n),Lo:nB.bind(null,n),D_:eB.bind(null,n),v_:tB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await fp(n)):(await n.Y_.stop(),n.K_.length>0&&(be(Ia,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new n_(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r_(n,e){if(vs("AsyncQueue",`${e}: ${n}`),fu(n))return new xe(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static emptySet(e){return new bl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=ac(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new bl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Z_=new qt(Be.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ye():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xl{constructor(e,t,r,i,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Xl(e,t,bl.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sB{constructor(){this.queries=II(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=nt(t),a=i.queries;i.queries=II(),a.forEach((l,c)=>{for(const f of c.ta)f.onError(r)})})(this,new xe(oe.ABORTED,"Firestore shutting down"))}}function II(){return new ka(n=>db(n),sp)}async function Kb(n,e){const t=nt(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new iB,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=r_(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&i_(t)}async function Gb(n,e){const t=nt(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function oB(n,e){const t=nt(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.ta)c.oa(i)&&(r=!0);l.ea=i}}r&&i_(t)}function aB(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function i_(n){n.ia.forEach(e=>{e.next()})}var Ry,SI;(SI=Ry||(Ry={}))._a="default",SI.Cache="cache";class Qb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.key=e}}class Xb{constructor(e){this.key=e}}class lB{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=fb(e),this.wa=new bl(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new TI,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const T=i.get(g),R=op(this.query,_)?_:null,P=!!T&&this.mutatedKeys.has(T.key),x=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;T&&R?T.data.isEqual(R.data)?P!==x&&(r.track({type:3,doc:R}),k=!0):this.va(T,R)||(r.track({type:2,doc:R}),k=!0,(f&&this.ya(R,f)>0||p&&this.ya(R,p)<0)&&(c=!0)):!T&&R?(r.track({type:0,doc:R}),k=!0):T&&!R&&(r.track({type:1,doc:T}),k=!0,(f||p)&&(c=!0)),k&&(R?(l=l.add(R),a=x?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,_)=>function(R,P){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return x(R)-x(P)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const c=t&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,l.length!==0||p?{snapshot:new Xl(this.query,e.wa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new TI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=pt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Xb(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Yb(r))}),t}Oa(e){this.fa=e.gs,this.pa=pt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Xl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const s_="SyncEngine";class uB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cB{constructor(e){this.key=e,this.Ba=!1}}class dB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new ka(c=>db(c),sp),this.qa=new Map,this.Qa=new Set,this.$a=new qt(Be.comparator),this.Ka=new Map,this.Ua=new Gv,this.Wa={},this.Ga=new Map,this.za=Yl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fB(n,e,t=!0){const r=rN(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await Jb(r,e,t,!0),i}async function hB(n,e){const t=rN(n);await Jb(t,e,!0,!1)}async function Jb(n,e,t,r){const i=await O4(n.localStore,Mi(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await pB(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Fb(n.remoteStore,i),c}async function pB(n,e,t,r,i){n.Ha=(_,T,R)=>async function(x,k,W,V){let H=k.view.ba(W);H.ls&&(H=await gI(x.localStore,k.query,!1).then(({documents:S})=>k.view.ba(S,H)));const B=V&&V.targetChanges.get(k.targetId),K=V&&V.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(H,x.isPrimaryClient,B,K);return AI(x,k.targetId,Y.Ma),Y.snapshot}(n,_,T,R);const a=await gI(n.localStore,e,!0),l=new lB(e,a.gs),c=l.ba(a.documents),f=td.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(c,n.isPrimaryClient,f);AI(n,t,p.Ma);const g=new uB(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function mB(n,e,t){const r=nt(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!sp(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Jv(r.remoteStore,i.targetId),by(r,i.targetId)}).catch(du)):(by(r,i.targetId),await Cy(r.localStore,i.targetId,!0))}async function gB(n,e){const t=nt(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jv(t.remoteStore,r.targetId))}async function yB(n,e,t){const r=SB(n);try{const i=await function(l,c){const f=nt(l),p=hn.now(),g=c.reduce((R,P)=>R.add(P.key),pt());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=_s(),x=pt();return f.ds.getEntries(R,g).next(k=>{P=k,P.forEach((W,V)=>{V.isValidDocument()||(x=x.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,P)).next(k=>{_=k;const W=[];for(const V of c){const H=DF(V,_.get(V.key).overlayedDocument);H!=null&&W.push(new Mo(V.key,H,rb(H.value.mapValue),Vi.exists(!0)))}return f.mutationQueue.addMutationBatch(R,p,W,c)}).next(k=>{T=k;const W=k.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(R,k.batchId,W)})}).then(()=>({batchId:T.batchId,changes:pb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Wa[l.currentUser.toKey()];p||(p=new qt(yt)),p=p.insert(c,f),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await rd(r,i.changes),await fp(r.remoteStore)}catch(i){const a=r_(i,"Failed to persist write");t.reject(a)}}async function Zb(n,e){const t=nt(n);try{const r=await k4(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?At(l.Ba):i.removedDocuments.size>0&&(At(l.Ba),l.Ba=!1))}),await rd(t,r,e)}catch(r){await du(r)}}function CI(n,e,t){const r=nt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let p=!1;f.queries.forEach((g,_)=>{for(const T of _.ta)T.sa(c)&&(p=!0)}),p&&i_(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vB(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new qt(Be.comparator);l=l.insert(a,Bn.newNoDocument(a,tt.min()));const c=pt().add(a),f=new up(tt.min(),new Map,new qt(yt),l,c);await Zb(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),o_(r)}else await Cy(r.localStore,e,!1).then(()=>by(r,e,t)).catch(du)}async function _B(n,e){const t=nt(n),r=e.batch.batchId;try{const i=await N4(t.localStore,e);tN(t,r,null),eN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await rd(t,i)}catch(i){await du(i)}}async function wB(n,e,t){const r=nt(n);try{const i=await function(l,c){const f=nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(_=>(At(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);tN(r,e,t),eN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await rd(r,i)}catch(i){await du(i)}}function eN(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function tN(n,e,t){const r=nt(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function by(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||nN(n,r)})}function nN(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Jv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),o_(n))}function AI(n,e,t){for(const r of t)r instanceof Yb?(n.Ua.addReference(r.key,e),EB(n,r)):r instanceof Xb?(be(s_,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||nN(n,r.key)):Ye()}function EB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(s_,"New document in limbo: "+t),n.Qa.add(r),o_(n))}function o_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Be(Vt.fromString(e)),r=n.za.next();n.Ka.set(r,new cB(t)),n.$a=n.$a.insert(t,r),Fb(n.remoteStore,new fo(Mi(Hv(t.path)),r,"TargetPurposeLimboResolution",np.ae))}}async function rd(n,e,t){const r=nt(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,f)=>{l.push(r.Ha(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Yv.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(f,p){const g=nt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>se.forEach(p,T=>se.forEach(T.Hi,R=>g.persistence.referenceDelegate.addReference(_,T.targetId,R)).next(()=>se.forEach(T.Ji,R=>g.persistence.referenceDelegate.removeReference(_,T.targetId,R)))))}catch(_){if(!fu(_))throw _;be(Xv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const R=g.Ts.get(T),P=R.snapshotVersion,x=R.withLastLimboFreeSnapshotVersion(P);g.Ts=g.Ts.insert(T,x)}}}(r.localStore,a))}async function TB(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){be(s_,"User change. New user:",e.toKey());const r=await Vb(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(f=>{f.reject(new xe(oe.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rd(t,r.Rs)}}function IB(n,e){const t=nt(n),r=t.Ka.get(e);if(r&&r.Ba)return pt().add(r.key);{let i=pt();const a=t.qa.get(e);if(!a)return i;for(const l of a){const c=t.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function rN(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vB.bind(null,e),e.La.p_=oB.bind(null,e.eventManager),e.La.Ja=aB.bind(null,e.eventManager),e}function SB(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wB.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return b4(this.persistence,new C4,e.initialUser,this.serializer)}Xa(e){return new Mb(Qv.ri,this.serializer)}Za(e){return new L4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class CB extends Ih{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){At(this.persistence.referenceDelegate instanceof Eh);const r=this.persistence.referenceDelegate.garbageCollector;return new c4(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new Mb(r=>Eh.ri(r,t),this.serializer)}}class Ny{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TB.bind(null,this.syncEngine),await rB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sB}()}createDatastore(e){const t=cp(e.databaseInfo.databaseId),r=function(a){return new j4(a)}(e.databaseInfo);return function(a,l,c,f){return new z4(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new q4(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>CI(this.syncEngine,t,0),function(){return _I.D()?new _I:new M4}())}createSyncEngine(e,t){return function(i,a,l,c,f,p,g){const _=new dB(i,a,l,c,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=nt(i);be(Ia,"RemoteStore shutting down."),a.W_.add(5),await nd(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ny.provider={build:()=>new Ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class AB{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=KR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{be(bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=r_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Og(n,e){n.asyncQueue.verifyOperationInProgress(),be(bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function RI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RB(n);be(bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>EI(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>EI(e.remoteStore,i)),n._onlineComponents=e}async function RB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(bo,"Using user provided OfflineComponentProvider");try{await Og(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wl("Error using user provided cache. Falling back to memory cache: "+t),await Og(n,new Ih)}}else be(bo,"Using default OfflineComponentProvider"),await Og(n,new CB(void 0));return n._offlineComponents}async function sN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(bo,"Using user provided OnlineComponentProvider"),await RI(n,n._uninitializedComponentsProvider._online)):(be(bo,"Using default OnlineComponentProvider"),await RI(n,new Ny))),n._onlineComponents}function bB(n){return sN(n).then(e=>e.syncEngine)}async function oN(n){const e=await sN(n),t=e.eventManager;return t.onListen=fB.bind(null,e.syncEngine),t.onUnlisten=mB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gB.bind(null,e.syncEngine),t}function NB(n,e,t={}){const r=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new iN({next:T=>{g.su(),l.enqueueAndForget(()=>Gb(a,_));const R=T.docs.has(c);!R&&T.fromCache?p.reject(new xe(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&f&&f.source==="server"?p.reject(new xe(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Qb(Hv(c.path),g,{includeMetadataChanges:!0,Ta:!0});return Kb(a,_)}(await oN(n),n.asyncQueue,e,t,r)),r.promise}function kB(n,e,t={}){const r=new hs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const g=new iN({next:T=>{g.su(),l.enqueueAndForget(()=>Gb(a,_)),T.fromCache&&f.source==="server"?p.reject(new xe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Qb(c,g,{includeMetadataChanges:!0,Ta:!0});return Kb(a,_)}(await oN(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n,e,t){if(!t)throw new xe(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PB(n,e,t,r){if(e===!0&&r===!0)throw new xe(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NI(n){if(!Be.isDocumentKey(n))throw new xe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kI(n){if(Be.isDocumentKey(n))throw new xe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye()}function ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hp(n);throw new xe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firestore.googleapis.com",PI=!0;class DI{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uN,this.ssl=PI}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l4)throw new xe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Uj;switch(r.type){case"firstParty":return new Hj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bI.get(t);r&&(be("ComponentProvider","Removing Datastore"),bI.delete(t),r.terminate())}(this),Promise.resolve()}}function DB(n,e,t,r={}){var i;const a=(n=ws(n,pp))._getSettings(),l=`${e}:${t}`;if(a.host!==uN&&a.host!==l&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=jn.MOCK_USER;else{c=fU(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jn(p)}n._authCredentials=new jj(new qR(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pu(this.firestore,e,this._query)}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class vo extends pu{constructor(e,t,r){super(e,t,Hv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Be(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function ky(n,e,...t){if(n=nr(n),lN("collection","path",e),n instanceof pp){const r=Vt.fromString(e,...t);return kI(r),new vo(n,null,r)}{if(!(n instanceof tr||n instanceof vo))throw new xe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return kI(r),new vo(n.firestore,null,r)}}function Kf(n,e,...t){if(n=nr(n),arguments.length===1&&(e=KR.newId()),lN("doc","path",e),n instanceof pp){const r=Vt.fromString(e,...t);return NI(r),new tr(n,null,new Be(r))}{if(!(n instanceof tr||n instanceof vo))throw new xe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(e,...t));return NI(r),new tr(n.firestore,n instanceof vo?n.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="AsyncQueue";class xI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Ub(this,"async_queue_retry"),this.Su=()=>{const r=Dg();r&&be(OI,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new hs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fu(e))throw e;be(OI,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw vs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=n_.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class id extends pp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xI(e),this._firestoreClient=void 0,await e}}}function OB(n,e){const t=VR(),r=mh,i=Mv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=cU("firestore");a&&DB(i,...a)}return i}function a_(n){if(n._terminated)throw new xe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xB(n),n._firestoreClient}function xB(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,p,g){return new rF(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aN(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AB(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Pn.fromBase64String(e))}catch(t){throw new xe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=/^__.*__$/;class MB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}class cN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class gp{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(dN(this.Lu)&&LB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cp(e)}ju(e,t,r,i=!1){return new gp({Lu:e,methodName:t,zu:r,path:kn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c_(n){const e=n._freezeSettings(),t=cp(n._databaseId);return new VB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $B(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);h_("Data must be an object, but it was:",l,r);const c=fN(r,l);let f,p;if(a.merge)f=new Dr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const T=Py(e,_,t);if(!l.contains(T))throw new xe(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);pN(g,T)||g.push(T)}f=new Dr(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new MB(new vr(c),f,p)}class yp extends sd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yp}}function UB(n,e,t){return new gp({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class d_ extends sd{_toFieldTransform(e){return new Eb(e.path,new Pc)}isEqual(e){return e instanceof d_}}class f_ extends sd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=UB(this,e,!0),r=this.Hu.map(a=>mu(a,t)),i=new Ql(r);return new Eb(e.path,i)}isEqual(e){return e instanceof f_&&Cc(this.Hu,e.Hu)}}function jB(n,e,t,r){const i=n.ju(1,e,t);h_("Data must be an object, but it was:",i,r);const a=[],l=vr.empty();Lo(r,(f,p)=>{const g=p_(e,f,t);p=nr(p);const _=i.Ku(g);if(p instanceof yp)a.push(g);else{const T=mu(p,_);T!=null&&(a.push(g),l.set(g,T))}});const c=new Dr(a);return new cN(l,c,i.fieldTransforms)}function FB(n,e,t,r,i,a){const l=n.ju(1,e,t),c=[Py(e,r,t)],f=[i];if(a.length%2!=0)throw new xe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)c.push(Py(e,a[T])),f.push(a[T+1]);const p=[],g=vr.empty();for(let T=c.length-1;T>=0;--T)if(!pN(p,c[T])){const R=c[T];let P=f[T];P=nr(P);const x=l.Ku(R);if(P instanceof yp)p.push(R);else{const k=mu(P,x);k!=null&&(p.push(R),g.set(R,k))}}const _=new Dr(p);return new cN(g,_,l.fieldTransforms)}function BB(n,e,t,r=!1){return mu(t,n.ju(r?4:3,e))}function mu(n,e){if(hN(n=nr(n)))return h_("Unsupported field value:",e,n),fN(n,e);if(n instanceof sd)return function(r,i){if(!dN(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=mu(c,i.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=hn.fromDate(r);return{timestampValue:wh(i.serializer,a)}}if(r instanceof hn){const a=new hn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(i.serializer,a)}}if(r instanceof l_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:bb(i.serializer,r._byteString)};if(r instanceof tr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Kv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u_)return function(l,c){return{mapValue:{fields:{[tb]:{stringValue:nb},[gh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return zv(c.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${hp(r)}`)}(n,e)}function fN(n,e){const t={};return QR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(n,(r,i)=>{const a=mu(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function hN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof l_||n instanceof Jl||n instanceof tr||n instanceof sd||n instanceof u_)}function h_(n,e,t){if(!hN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=hp(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Py(n,e,t){if((e=nr(e))instanceof mp)return e._internalPath;if(typeof e=="string")return p_(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const HB=new RegExp("[~\\*/\\[\\]]");function p_(n,e,t){if(e.search(HB)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mp(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new xe(oe.INVALID_ARGUMENT,c+n+f)}function pN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(m_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zB extends mN{data(){return super.data()}}function m_(n,e){return typeof e=="string"?p_(n,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g_{}class qB extends g_{}function KB(n,e,...t){let r=[];e instanceof g_&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof y_).length,c=a.filter(f=>f instanceof vp).length;if(l>1||l>0&&c>0)throw new xe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class vp extends qB{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vp(e,t,r)}_apply(e){const t=this._parse(e);return gN(e._query,t),new pu(e.firestore,e.converter,_y(e._query,t))}_parse(e){const t=c_(e.firestore);return function(a,l,c,f,p,g,_){let T;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){MI(_,g);const P=[];for(const x of _)P.push(LI(f,a,x));T={arrayValue:{values:P}}}else T=LI(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||MI(_,g),T=BB(c,l,_,g==="in"||g==="not-in");return sn.create(p,g,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function GB(n,e,t){const r=e,i=m_("where",n);return vp._create(i,r,t)}class y_ extends g_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new y_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)gN(l,f),l=_y(l,f)}(e._query,t),new pu(e.firestore,e.converter,_y(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LI(n,e,t){if(typeof(t=nr(t))=="string"){if(t==="")throw new xe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&t.indexOf("/")!==-1)throw new xe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Vt.fromString(t));if(!Be.isDocumentKey(r))throw new xe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XT(n,new Be(r))}if(t instanceof tr)return XT(n,t._key);throw new xe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hp(t)}.`)}function MI(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gN(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QB{convertValue(e,t="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Lo(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[gh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Xt(l.doubleValue));return new u_(a)}convertGeoPoint(e){return new l_(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const t=So(e);return new hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vt.fromString(e);At(xb(r));const i=new Nc(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return i.isEqual(t)||vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yN extends mN{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(m_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Gf extends yN{data(e={}){return super.data(e)}}class XB{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Gf(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new Gf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new uc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Gf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new uc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:JB(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n){n=ws(n,tr);const e=ws(n.firestore,id);return NB(a_(e),n._key).then(t=>e9(e,n,t))}class vN extends QB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function ZB(n){n=ws(n,pu);const e=ws(n.firestore,id),t=a_(e),r=new vN(e);return WB(n._query),kB(t,n._query).then(i=>new XB(e,r,n,i))}function xg(n,e,t){n=ws(n,tr);const r=ws(n.firestore,id),i=YB(n.converter,e);return _N(r,[$B(c_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Vi.none())])}function VI(n,e,t,...r){n=ws(n,tr);const i=ws(n.firestore,id),a=c_(i);let l;return l=typeof(e=nr(e))=="string"||e instanceof mp?FB(a,"updateDoc",n._key,e,t,r):jB(a,"updateDoc",n._key,e),_N(i,[l.toMutation(n._key,Vi.exists(!0))])}function _N(n,e){return function(r,i){const a=new hs;return r.asyncQueue.enqueueAndForget(async()=>yB(await bB(r),i,a)),a.promise}(a_(n),e)}function e9(n,e,t){const r=t.docs.get(e._key),i=new vN(n);return new yN(n,i,e._key,r,new uc(t.hasPendingWrites,t.fromCache),e.converter)}function t9(){return new d_("serverTimestamp")}function $I(...n){return new f_("arrayUnion",n)}(function(e,t=!0){(function(i){cu=i})(uu),zl(new Ea("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new id(new Fj(r.getProvider("auth-internal")),new zj(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),go(jT,FT,e),go(jT,FT,"esm2017")})();function v_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function wN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n9=wN,EN=new Xc("auth","Firebase",wN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new xv("@firebase/auth");function r9(n,...e){Ch.logLevel<=ht.WARN&&Ch.warn(`Auth (${uu}): ${n}`,...e)}function Qf(n,...e){Ch.logLevel<=ht.ERROR&&Ch.error(`Auth (${uu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,...e){throw __(n,...e)}function Ui(n,...e){return __(n,...e)}function TN(n,e,t){const r=Object.assign(Object.assign({},n9()),{[e]:t});return new Xc("auth","Firebase",r).create(e,{appName:n.name})}function pa(n){return TN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EN.create(n,...e)}function Ze(n,e,...t){if(!n)throw __(e,...t)}function os(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qf(e),new Error(e)}function Ts(n,e){n||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function i9(){return UI()==="http:"||UI()==="https:"}function UI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i9()||gU()||"connection"in navigator)?navigator.onLine:!0}function o9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ts(t>e,"Short delay should be less than long delay!"),this.isMobile=hU()||yU()}get(){return s9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n,e){Ts(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new od(3e4,6e4);function E_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gu(n,e,t,r,i={}){return SN(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Jc(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return mU()||(p.referrerPolicy="no-referrer"),IN.fetch()(CN(n,n.config.apiHost,t,c),p)})}async function SN(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},a9),e);try{const i=new c9(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Lf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Lf(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw TN(n,g,p);Es(n,g)}}catch(i){if(i instanceof bs)throw i;Es(n,"network-request-failed",{message:String(i)})}}async function u9(n,e,t,r,i={}){const a=await gu(n,e,t,r,i);return"mfaPendingCredential"in a&&Es(n,"multi-factor-auth-required",{_serverResponse:a}),a}function CN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?w_(n.config,i):`${n.config.apiScheme}://${i}`}class c9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),l9.get())})}}function Lf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ui(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(n,e){return gu(n,"POST","/v1/accounts:delete",e)}async function AN(n,e){return gu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f9(n,e=!1){const t=nr(n),r=await t.getIdToken(e),i=T_(r);Ze(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:yc(Lg(i.auth_time)),issuedAtTime:yc(Lg(i.iat)),expirationTime:yc(Lg(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Lg(n){return Number(n)*1e3}function T_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=kR(t);return i?JSON.parse(i):(Qf("Failed to decode base64 JWT payload"),null)}catch(i){return Qf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jI(n){const e=T_(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bs&&h9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function h9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Oc(n,AN(t,{idToken:r}));Ze(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?RN(a.providerUserInfo):[],c=g9(n.providerData,l),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new xy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function m9(n){const e=nr(n);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g9(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RN(n){return n.map(e=>{var{providerId:t}=e,r=v_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(n,e){const t=await SN(n,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=CN(n,i,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",IN.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v9(n,e){return gu(n,"POST","/v2/accounts:revokeToken",E_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=jI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await y9(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Nl;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class as{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=v_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Oc(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return f9(this,e)}reload(){return m9(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new as(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Oc(this,d9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,c,f,p,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(i=t.email)!==null&&i!==void 0?i:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,P=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,W=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:H,emailVerified:B,isAnonymous:K,providerData:Y,stsTokenManager:S}=t;Ze(H&&S,e,"internal-error");const C=Nl.fromJSON(this.name,S);Ze(typeof H=="string",e,"internal-error"),eo(_,e.name),eo(T,e.name),Ze(typeof B=="boolean",e,"internal-error"),Ze(typeof K=="boolean",e,"internal-error"),eo(R,e.name),eo(P,e.name),eo(x,e.name),eo(k,e.name),eo(W,e.name),eo(V,e.name);const b=new as({uid:H,auth:e,email:T,emailVerified:B,displayName:_,isAnonymous:K,photoURL:P,phoneNumber:R,tenantId:x,stsTokenManager:C,createdAt:W,lastLoginAt:V});return Y&&Array.isArray(Y)&&(b.providerData=Y.map(O=>Object.assign({},O))),k&&(b._redirectEventId=k),b}static async _fromIdTokenResponse(e,t,r=!1){const i=new Nl;i.updateFromServerResponse(t);const a=new as({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ah(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?RN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Nl;c.updateFromIdToken(r);const f=new as({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Map;function ls(n){Ts(n instanceof Function,"Expected a class definition");let e=FI.get(n);return e?(Ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,FI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bN.type="NONE";const BI=bN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}class kl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Yf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Yf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?as._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new kl(ls(BI),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||ls(BI);const l=Yf(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=as._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new kl(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new kl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xN(e))return"Blackberry";if(LN(e))return"Webos";if(kN(e))return"Safari";if((e.includes("chrome/")||PN(e))&&!e.includes("edge/"))return"Chrome";if(ON(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NN(n=Hn()){return/firefox\//i.test(n)}function kN(n=Hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PN(n=Hn()){return/crios\//i.test(n)}function DN(n=Hn()){return/iemobile/i.test(n)}function ON(n=Hn()){return/android/i.test(n)}function xN(n=Hn()){return/blackberry/i.test(n)}function LN(n=Hn()){return/webos/i.test(n)}function I_(n=Hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _9(n=Hn()){var e;return I_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w9(){return vU()&&document.documentMode===10}function MN(n=Hn()){return I_(n)||ON(n)||LN(n)||xN(n)||/windows phone/i.test(n)||DN(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e=[]){let t;switch(n){case"Browser":t=HI(Hn());break;case"Worker":t=`${HI(Hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(n,e={}){return gu(n,"GET","/v2/passwordPolicy",E_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=6;class S9{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:I9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zI(this),this.idTokenSubscription=new zI(this),this.beforeStateQueue=new E9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await AN(this,{idToken:e}),r=await as._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(pa(this));const t=e?nr(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T9(this),t=new S9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await v9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ls(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&r9(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function S_(n){return nr(n)}class zI{constructor(e){this.auth=e,this.observer=null,this.addObserver=AU(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A9(n){C_=n}function R9(n){return C_.loadJS(n)}function b9(){return C_.gapiScript}function N9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(n,e){const t=Mv(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Cc(a,e??{}))return i;Es(i,"already-initialized")}return t.initialize({options:e})}function P9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ls);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D9(n,e,t){const r=S_(n);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=$N(e),{host:l,port:c}=O9(e),f=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),x9()}function $N(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function O9(n){const e=$N(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:WI(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:WI(l)}}}function WI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function x9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,t){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(n,e){return u9(n,"POST","/v1/accounts:signInWithIdp",E_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="http://localhost";class Sa extends UN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Es("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=v_(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Sa(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Pl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Pl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pl(e,t)}buildRequest(){const e={requestUri:L9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends jN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends ad{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sa._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return io.credential(t,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends ad{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends ad{constructor(){super("twitter.com")}static credential(e,t){return Sa._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oo.credential(t,r)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await as._fromIdTokenResponse(e,r,i),l=qI(r);return new Zl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=qI(r);return new Zl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function qI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends bs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Rh(e,t,r,i)}}function FN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(n,a,e,r):a})}async function M9(n,e,t=!1){const r=await Oc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(n,e,t=!1){const{auth:r}=n;if(xi(r.app))return Promise.reject(pa(r));const i="reauthenticate";try{const a=await Oc(n,FN(r,i,e,n),t);Ze(a.idToken,r,"internal-error");const l=T_(a.idToken);Ze(l,r,"internal-error");const{sub:c}=l;return Ze(n.uid===c,r,"user-mismatch"),Zl._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(n,e,t=!1){if(xi(n.app))return Promise.reject(pa(n));const r="signIn",i=await FN(n,r,e),a=await Zl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function U9(n,e,t,r){return nr(n).onIdTokenChanged(e,t,r)}function j9(n,e,t){return nr(n).beforeAuthStateChanged(e,t)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=1e3,B9=10;class HN extends BN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);w9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B9):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},F9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}HN.type="LOCAL";const H9=HN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends BN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zN.type="SESSION";const WN=zN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new _p(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await z9(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=A_("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(T.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function q9(n){ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function K9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G9(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Q9(){return qN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firebaseLocalStorageDb",Y9=1,Nh="firebaseLocalStorage",GN="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wp(n,e){return n.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function X9(){const n=indexedDB.deleteDatabase(KN);return new ld(n).toPromise()}function Ly(){const n=indexedDB.open(KN,Y9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nh,{keyPath:GN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await X9(),e(await Ly()))})})}async function KI(n,e,t){const r=wp(n,!0).put({[GN]:e,value:t});return new ld(r).toPromise()}async function J9(n,e){const t=wp(n,!1).get(e),r=await new ld(t).toPromise();return r===void 0?null:r.value}function GI(n,e){const t=wp(n,!0).delete(e);return new ld(t).toPromise()}const Z9=800,e3=3;class QN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ly(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>e3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_p._getInstance(Q9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await K9(),!this.activeServiceWorker)return;this.sender=new W9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ly();return await KI(e,bh,"1"),await GI(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>KI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>J9(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>GI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=wp(i,!1).getAll();return new ld(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QN.type="LOCAL";const t3=QN;new od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(n,e){return e?ls(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends UN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function r3(n){return $9(n.auth,new R_(n),n.bypassAuthState)}function i3(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),V9(t,new R_(n),n.bypassAuthState)}async function s3(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),M9(t,new R_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r3;case"linkViaPopup":case"linkViaRedirect":return s3;case"reauthViaPopup":case"reauthViaRedirect":return i3;default:Es(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new od(2e3,1e4);class Al extends YN{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=A_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o3.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="pendingRedirect",Xf=new Map;class l3 extends YN{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const r=await u3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u3(n,e){const t=f3(e),r=d3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function c3(n,e){Xf.set(n._key(),e)}function d3(n){return ls(n._redirectPersistence)}function f3(n){return Yf(a3,n.config.apiKey,n.name)}async function h3(n,e,t=!1){if(xi(n.app))return Promise.reject(pa(n));const r=S_(n),i=n3(r,e),l=await new l3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=10*60*1e3;class m3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p3&&this.cachedEventUids.clear(),this.cachedEventUids.has(QI(e))}saveEventToCache(e){this.cachedEventUids.add(QI(e)),this.lastProcessedEventTime=Date.now()}}function QI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(n,e={}){return gu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_3=/^https?/;async function w3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await y3(n);for(const t of e)try{if(E3(t))return}catch{}Es(n,"unauthorized-domain")}function E3(n){const e=Oy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!_3.test(t))return!1;if(v3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new od(3e4,6e4);function YI(){const n=ji().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function I3(n){return new Promise((e,t)=>{var r,i,a;function l(){YI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YI(),t(Ui(n,"network-request-failed"))},timeout:T3.get()})}if(!((i=(r=ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ji().gapi)===null||a===void 0)&&a.load)l();else{const c=N9("iframefcb");return ji()[c]=()=>{gapi.load?l():t(Ui(n,"network-request-failed"))},R9(`${b9()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function S3(n){return Jf=Jf||I3(n),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=new od(5e3,15e3),A3="__/auth/iframe",R3="emulator/auth/iframe",b3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k3(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?w_(e,R3):`https://${n.config.authDomain}/${A3}`,r={apiKey:e.apiKey,appName:n.name,v:uu},i=N3.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Jc(r).slice(1)}`}async function P3(n){const e=await S3(n),t=ji().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:k3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b3,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ui(n,"network-request-failed"),c=ji().setTimeout(()=>{a(l)},C3.get());function f(){ji().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O3=500,x3=600,L3="_blank",M3="http://localhost";class XI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V3(n,e,t,r=O3,i=x3){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},D3),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Hn().toLowerCase();t&&(c=PN(p)?L3:t),NN(p)&&(e=e||M3,f.scrollbars="yes");const g=Object.entries(f).reduce((T,[R,P])=>`${T}${R}=${P},`,"");if(_9(p)&&c!=="_self")return $3(e||"",c),new XI(null);const _=window.open(e||"",c,g);Ze(_,n,"popup-blocked");try{_.focus()}catch{}return new XI(_)}function $3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="__/auth/handler",j3="emulator/auth/handler",F3=encodeURIComponent("fac");async function JI(n,e,t,r,i,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uu,eventId:i};if(e instanceof jN){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",CU(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof ad){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${F3}=${encodeURIComponent(f)}`:"";return`${B3(n)}?${Jc(c).slice(1)}${p}`}function B3({config:n}){return n.emulator?w_(n,j3):`https://${n.authDomain}/${U3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class H3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WN,this._completeRedirectFn=h3,this._overrideRedirectResult=c3}async _openPopup(e,t,r,i){var a;Ts((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await JI(e,t,r,Oy(),i);return V3(e,l,A_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await JI(e,t,r,Oy(),i);return q9(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ts(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await P3(e),r=new m3(e);return t.register("authEvent",i=>(Ze(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mg,{type:Mg},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Mg];l!==void 0&&t(!!l),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MN()||kN()||I_()}}const z3=H3;var ZI="@firebase/auth",eS="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K3(n){zl(new Ea("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VN(n)},p=new C9(r,i,a,f);return P9(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zl(new Ea("auth-internal",e=>{const t=S_(e.getProvider("auth").getImmediate());return(r=>new W3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(ZI,eS,q3(n)),go(ZI,eS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=5*60,Q3=OR("authIdTokenMaxAge")||G3;let tS=null;const Y3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Q3)return;const i=t==null?void 0:t.token;tS!==i&&(tS=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X3(n=VR()){const e=Mv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=k9(n,{popupRedirectResolver:z3,persistence:[t3,H9,WN]}),r=OR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Y3(a.toString());j9(t,l,()=>l(t.currentUser)),U9(t,c=>l(c))}}const i=PR("auth");return i&&D9(t,`http://${i}`),t}function J3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}A9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Ui("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",J3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K3("Browser");const nS=n=>{let e;const t=new Set,r=(p,g)=>{const _=typeof p=="function"?p(e):p;if(!Object.is(_,e)){const T=e;e=g??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(R=>R(e,T))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(r,i,c);return c},Z3=n=>n?nS(n):nS,eH=n=>n;function tH(n,e=eH){const t=fn.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return fn.useDebugValue(t),t}const rS=n=>{const e=Z3(n),t=r=>tH(e,r);return Object.assign(t,e),t},nH=n=>n?rS(n):rS,rH=nH(n=>({currentUser:null,isLoading:!0,fetchUserInfo:async e=>{if(!e)return n({currentUser:null,isLoading:!1});try{const t=Kf(kh,"users",e),r=await Dy(t);r.exists()?n({currentUser:r.data(),isLoading:!1}):n({currentUser:null,isLoading:!1})}catch(t){return console.log(t),n({currentUser:null,isLoading:!1})}}})),iH={apiKey:"AIzaSyDKB_lIzcJw5u5l20axb-mb9M8SvooQyKc",authDomain:"tradery-messenger-5e90e.firebaseapp.com",projectId:"tradery-messenger-5e90e",storageBucket:"tradery-messenger-5e90e.firebasestorage.app",messagingSenderId:"19382326863",appId:"1:19382326863:web:fff4f5b0813885b44d7c3a",measurementId:"G-F32QNSGEKC"};MR(iH);X3();const kh=OB();async function sH(n){try{const e=ky(kh,"users"),t=KB(e,GB("username","==",n)),r=await ZB(t);if(r.empty)throw new Error("User not found!");return r.docs[0].data()}catch(e){throw console.error("Search Error:",e),new Error("An error occurred while searching.")}}async function oH(n,e){if(!n||!e)return;const t=ky(kh,"chats"),r=ky(kh,"userchats"),i=Kf(r,e.id),a=Kf(r,n.id);try{const[l,c]=await Promise.all([Dy(i),Dy(a)]);l.exists()||await xg(i,{chats:[]}),c.exists()||await xg(a,{chats:[]});const f=l.exists()?l.data().chats||[]:[],p=c.exists()?c.data().chats||[]:[],g=f.some(P=>P.receiverId===n.id),_=p.some(P=>P.receiverId===e.id);if(g||_)throw new Error("User already added!");const T=Kf(t);await xg(T,{createdAt:t9(),messages:[]});const R={chatId:T.id,lastMessage:"",receiverId:n.id,updatedAt:Date.now()};return await VI(i,{chats:$I(R)}),await VI(a,{chats:$I({...R,receiverId:e.id})}),T.id}catch(l){throw console.error("Add User Error:",l),new Error("An error occurred while adding the user.")}}function aH(n){const{currentUser:e}=rH(),[t,r]=w.useState(null),[i,a]=w.useState(null);return useEffect(()=>{if(!n)return;async function l(){try{const c=await sH(n);r(c),await oH(c,e),console.log("found and added")}catch(c){a(c.message)}}l()},[n,e]),{user:t,error:i}}async function lH(n){try{await aH(n),console.log(n)}catch{console.log("Failed to add chat")}}const uH=({name:n,userId:e,eventKey:t})=>{const[r,i]=w.useState([]);return w.useEffect(()=>{(async function(){if(!e||e.length===0)return;const l=await Promise.all(e.map(async c=>{try{const{userdb:f}=await wa(c),p=(f==null?void 0:f.displayName)||(f==null?void 0:f.defaultName)||"",g=(f==null?void 0:f.defaultName)||"";return p||g?{displayName:p,appwriteName:g}:null}catch(f){return console.error("Error fetching user data:",f),null}}));i(l.filter(c=>c!==null))})()},[e]),re(lo.Item,{eventKey:t,children:[I(lo.Header,{children:n}),I(lo.Body,{children:r.length>0?r.map((a,l)=>re("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[re("p",{className:"mb-0",children:[I("strong",{children:a.displayName})," wants to trade. The default username is ",I("strong",{children:a.appwriteName})]}),I(dn,{variant:"primary",size:"sm",onClick:()=>lH(a.appwriteName),children:"Message"})]},l)):I("p",{children:"No trade requests yet."})})]})},cH=()=>{const[n,e]=w.useState([]),{session:t}=To();return xo(),w.useEffect(()=>{(async function(){const i=await uo();if(!i){console.log("User data is still loading. Please wait.");return}const{items:a}=await Ov(i.$id),l=a.filter(c=>c.requests&&c.requests.length>0);e(l)})()},[]),re("div",{className:"container",children:[I("h1",{children:"Your Items with Requests"}),n.length>0?re(lo,{alwaysOpen:!0,children:[" ",n.map((r,i)=>I(uH,{name:r.name,userId:r.requests,eventKey:String(i)},r.$id))]}):I("p",{children:"No items with requests found."})]})};function dH({params:n=_R()}){const[e,t]=w.useState(),[r,i]=w.useState(),a=xo(),[l,c]=w.useState(!1),[f,p]=w.useState(!1),{isAdmin:g}=To(),T={url:(e==null?void 0:e.imageFileId)&&Hl(e.imageFileId),height:e==null?void 0:e.imageHeight,width:e==null?void 0:e.imageWidth};w.useEffect(()=>{(async function(){var K;if(!n.itemsId)return;const{items:V}=await Sc(n.itemsId);console.log("Fetched Item Data:",V),t(V);const H=await uo();if((H==null?void 0:H.$id)===(V==null?void 0:V.authorID)&&c(!0),H&&p(((K=V.requests)==null?void 0:K.includes(H.$id))??!1),V){const{userdb:Y}=await wa(V.authorID);i(Y)}})()},[n.itemsId]);async function R(){if(!e)return;const W=await uo();if(!W){console.log("User data is still loading. Please wait.");return}try{const V=e.requests??[];if(V.includes(W.$id)){p(!0);return}const H=[...V,W.$id];t(B=>B&&{...B,requests:H}),p(!0),await CT(n.itemsId,{...e,isApproved:!0,requests:H}),console.log("Trade request successful")}catch(V){console.error("Error requesting trade:",V)}}async function P(){if(e!=null&&e.$id){await j$(e.$id);return}a(-1)}async function x(){if(!e)return;if(!await uo()){console.log("User data is still loading. Please wait.");return}try{await AR(n.itemsId,{...e,isApproved:!0});const{items:V}=await Sc(n.itemsId);console.log("✅ Approved Post Data from Appwrite:",V),t(V),a(-1)}catch(V){console.error("Error approving post:",V)}}async function k(){if(!e)return;const W=await uo();if(!W){console.log("User data is still loading. Please wait.");return}try{const V=e.requests??[];if(!V.includes(W.$id)){p(!1);return}const H=V.filter(B=>B!==W.$id);t(B=>B&&{...B,requests:H}),p(!1),await CT(n.itemsId,{...e,isApproved:!0,requests:H}),console.log("Trade request removed")}catch(V){console.error("Error removing request:",V)}}return re(ep,{children:[re("a",{className:"HomeItem",href:"#/Home",children:[I("svg",{height:"0.8em",width:"0.8em",viewBox:"0 0 2 1",preserveAspectRatio:"none",children:I("polyline",{fill:"none",stroke:"#000","stroke-width":"0.2",points:"0.9,0.1 0.1,0.5 0.9,0.9"})})," Home"]}),I("div",{className:"container",children:e&&re(on,{children:[re("div",{className:"itemheading",children:[I("div",{children:I("h1",{children:e.name})}),r&&I("a",{href:`#/User/${r.displayName}`,className:"profile-link",children:r.displayName||r.defaultName}),re("div",{children:["Date Posted: ",new Date(e.date).toLocaleString("en-US",{month:"long",day:"numeric"})]})]}),!g&&re("div",{className:"Tradecont",children:[l&&I(dn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),!l&&I(on,{children:f?I(dn,{className:"Tradereq",variant:"danger",onClick:k,children:"Remove Trade Request"}):I(dn,{className:"Tradereq",variant:"primary",onClick:R,children:"Request a Trade"})})]}),g&&re("div",{className:"Tradecont",children:[I(dn,{className:"Tradereq",variant:"primary",onClick:P,children:"Delete Item"}),I(dn,{className:"Tradereq",variant:"primary",onClick:x,children:"Approve Item"})]}),I("div",{className:"itemimg",children:I(L0,{className:"image-carousel",controls:!1,children:I(L0.Item,{children:I("img",{className:"thumbnail",src:T.url?String(T.url):"./images/favicon",alt:"Item"})})})}),I("div",{className:"description",children:I("p",{children:e.description})})]})})]})}function fH({params:n=_R()}){const[e,t]=w.useState(null),[r,i]=w.useState([]);return w.useEffect(()=>{console.log(n.profileName),async function(){try{const{userdb:l}=await H$(n.profileName);l.map(async c=>{const{items:f}=await Ov(c.userId);i(f),t(c)})}catch(l){console.error("Error fetching profile data:",l)}}()},[n.profileName]),I(ep,{children:re(Do,{className:"mt-5",children:[I(pi,{className:"justify-content-center text-center",children:I(_r,{md:6,lg:4,children:re("div",{className:"profile-container p-4 bg-light rounded shadow",children:[I(sh,{src:e!=null&&e.profileImageId?ay(e.profileImageId):"https://cloud.appwrite.io/v1/storage/buckets/67932f8600176cf1dfdc/files/default/view?project=678ba12f001dce105c6a&mode=admin",roundedCircle:!0,className:"profile-img"}),I("h2",{className:"display-6 fw-bold",children:(e==null?void 0:e.displayName)||"Unknown User"}),I("p",{className:"text-muted",children:e==null?void 0:e.defaultName}),I("p",{className:"profile-summary lead",children:(e==null?void 0:e.profileSummary)||"No profile summary available."})]})})}),I(pi,{className:"mt-5",children:re(_r,{children:[I("h3",{className:"text-center mb-4",children:"Uploaded Items"}),r.length>0?I(pi,{className:"g-4",children:r.map(a=>{const c={url:a.imageFileId&&Hl(a.imageFileId),height:a.imageHeight,width:a.imageWidth};return I(_r,{sm:12,md:6,lg:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${a.$id}`,children:I(Zh,{image:c,name:a.name,date:a.date,author:(e==null?void 0:e.displayName)||(e==null?void 0:e.defaultName)||"Unknown Author"})})},a.$id)})}):I("p",{className:"text-muted text-center",children:"This user has not uploaded any items yet."})]})})]})})}function hH(){const{isAdmin:n,logInAdmin:e}=To(),[t,r]=w.useState([]),[i,a]=w.useState({}),l=async c=>{c.preventDefault();const f=c.target;await e(f.email.value,f.password.value),window.location.reload()};return w.useEffect(()=>{(async function(){const{items:f}=await U$();r(f);const p={};await Promise.all(f.map(async g=>{if(!p[g.authorID]){const{userdb:_}=await wa(g.authorID);p[g.authorID]=_}})),a(p)})()},[]),re(on,{children:[!n&&I("div",{className:"RegAdminContainer",children:I("div",{className:"login-register-container",children:re("form",{onSubmit:l,autoComplete:"off",children:[re("div",{className:"form-field-wrapper",children:[I("label",{children:"Email:"}),I("input",{required:!0,type:"email",name:"email",placeholder:"Enter email..."})]}),re("div",{className:"form-field-wrapper",children:[I("label",{children:"Password:"}),I(Xn.Control,{type:"password",name:"password",placeholder:"Enter password..."})]}),I("div",{className:"form-field-wrapper",children:I(dn,{type:"submit",className:"admin-btn btn-dark w-100",children:"Log-In"})})]})})}),n&&I(ep,{children:I("div",{className:"home",children:re("div",{className:"container",id:"pagewrap",children:[I("h1",{children:"UNAPPROVED ITEMS"}),I("div",{className:"items container",children:I(pi,{children:t.length>0?t.map(c=>{const p={url:c.imageFileId&&Hl(c.imageFileId),height:c.imageHeight,width:c.imageWidth},g=i[c.authorID];return I(_r,{xs:12,md:3,style:{paddingBottom:"20px"},children:I("a",{className:"itemLink",href:`#/Item/${c.$id}`,children:I(Zh,{image:p,name:c.name,date:c.date,author:g?g.displayName||g.defaultName:"Unknown Author"})})},c.$id)}):I(Do,{children:I(_c,{variant:"warning",children:"No Items are waiting to be approved yet."},"warning")})})})]})})})]})}const pH=p$([{path:"/",element:I(P$,{}),errorElement:I(yl,{})},{path:"/Admin",element:I(hH,{}),errorElement:I(yl,{})},{path:"/Home",element:I(X$,{}),errorElement:I(yl,{})},{path:"/Item/:itemsId",element:I(dH,{}),errorElement:I(yl,{})},{path:"/User/:profileName",element:I(fH,{}),errorElement:I(yl,{})},{path:"/Dashboard",element:I(J$,{}),errorElement:I(yl,{}),children:[{path:"/Dashboard/Post",element:I(tU,{})},{path:"/Dashboard/Profile",element:I(Z$,{})},{path:"/Dashboard/Items",element:I(nU,{})},{path:"/Dashboard/Requests",element:I(cH,{})},{path:"/Dashboard/Messages",element:I(eU,{})}]}]);aP.createRoot(document.getElementById("root")).render(I(w.StrictMode,{children:I(qV,{children:I(T$,{router:pH})})}));
